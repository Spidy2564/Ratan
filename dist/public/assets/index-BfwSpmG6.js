var d3=t=>{throw TypeError(t)};var N1=(t,e,n)=>e.has(t)||d3("Cannot "+n);var pe=(t,e,n)=>(N1(t,e,"read from private field"),n?n.call(t):e.get(t)),dt=(t,e,n)=>e.has(t)?d3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,r)=>(N1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ot=(t,e,n)=>(N1(t,e,"access private method"),n);var Gm=(t,e,n,r)=>({set _(i){Qe(t,e,i,n)},get _(){return pe(t,e,r)}});function gL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SC={exports:{}},kv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=Symbol.for("react.transitional.element"),xL=Symbol.for("react.fragment");function jC(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:vL,type:t,key:r,ref:e!==void 0?e:null,props:n}}kv.Fragment=xL;kv.jsx=jC;kv.jsxs=jC;SC.exports=kv;var l=SC.exports,NC={exports:{}},Ev={},CC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var V=G.length;G.push(te);e:for(;0<V;){var re=V-1>>>1,de=G[re];if(0<i(de,te))G[re]=te,G[V]=de,V=re;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],V=G.pop();if(V!==te){G[0]=V;e:for(var re=0,de=G.length,Oe=de>>>1;re<Oe;){var F=2*(re+1)-1,Y=G[F],W=F+1,Z=G[W];if(0>i(Y,V))W<de&&0>i(Z,Y)?(G[re]=Z,G[W]=V,re=W):(G[re]=Y,G[F]=V,re=F);else if(W<de&&0>i(Z,V))G[re]=Z,G[W]=V,re=W;else break e}}return te}function i(G,te){var V=G.sortIndex-te.sortIndex;return V!==0?V:G.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,p=3,f=!1,b=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function A(G){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=G)r(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(u)}}function k(G){if(g=!1,A(G),!b)if(n(c)!==null)b=!0,E||(E=!0,T());else{var te=n(u);te!==null&&ee(k,te.startTime-G)}}var E=!1,R=-1,O=5,H=-1;function K(){return w?!0:!(t.unstable_now()-H<O)}function D(){if(w=!1,E){var G=t.unstable_now();H=G;var te=!0;try{e:{b=!1,g&&(g=!1,y(R),R=-1),f=!0;var V=p;try{t:{for(A(G),h=n(c);h!==null&&!(h.expirationTime>G&&K());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var de=re(h.expirationTime<=G);if(G=t.unstable_now(),typeof de=="function"){h.callback=de,A(G),te=!0;break t}h===n(c)&&r(c),A(G)}else r(c);h=n(c)}if(h!==null)te=!0;else{var Oe=n(u);Oe!==null&&ee(k,Oe.startTime-G),te=!1}}break e}finally{h=null,p=V,f=!1}te=void 0}}finally{te?T():E=!1}}}var T;if(typeof N=="function")T=function(){N(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,B=X.port2;X.port1.onmessage=D,T=function(){B.postMessage(null)}}else T=function(){x(D,0)};function ee(G,te){R=x(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var V=p;p=te;try{return G()}finally{p=V}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var V=p;p=G;try{return te()}finally{p=V}},t.unstable_scheduleCallback=function(G,te,V){var re=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?re+V:re):V=re,G){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=V+de,G={id:d++,callback:te,priorityLevel:G,startTime:V,expirationTime:de,sortIndex:-1},V>re?(G.sortIndex=V,e(u,G),n(c)===null&&G===n(u)&&(g?(y(R),R=-1):g=!0,ee(k,V-re))):(G.sortIndex=de,e(c,G),b||f||(b=!0,E||(E=!0,T()))),G},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(G){var te=p;return function(){var V=p;p=te;try{return G.apply(this,arguments)}finally{p=V}}}})(_C);CC.exports=_C;var yL=CC.exports,AC={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5=Symbol.for("react.transitional.element"),bL=Symbol.for("react.portal"),wL=Symbol.for("react.fragment"),SL=Symbol.for("react.strict_mode"),jL=Symbol.for("react.profiler"),NL=Symbol.for("react.consumer"),CL=Symbol.for("react.context"),_L=Symbol.for("react.forward_ref"),AL=Symbol.for("react.suspense"),TL=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),h3=Symbol.iterator;function kL(t){return t===null||typeof t!="object"?null:(t=h3&&t[h3]||t["@@iterator"],typeof t=="function"?t:null)}var kC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EC=Object.assign,OC={};function ah(t,e,n){this.props=t,this.context=e,this.refs=OC,this.updater=n||kC}ah.prototype.isReactComponent={};ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LC(){}LC.prototype=ah.prototype;function g5(t,e,n){this.props=t,this.context=e,this.refs=OC,this.updater=n||kC}var v5=g5.prototype=new LC;v5.constructor=g5;EC(v5,ah.prototype);v5.isPureReactComponent=!0;var f3=Array.isArray,mn={H:null,A:null,T:null,S:null,V:null},MC=Object.prototype.hasOwnProperty;function x5(t,e,n,r,i,s){return n=s.ref,{$$typeof:m5,type:t,key:e,ref:n!==void 0?n:null,props:s}}function EL(t,e){return x5(t.type,e,void 0,void 0,void 0,t.props)}function y5(t){return typeof t=="object"&&t!==null&&t.$$typeof===m5}function OL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p3=/\/+/g;function C1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OL(""+t.key):e.toString(36)}function m3(){}function LL(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(m3,m3):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Fu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case m5:case bL:a=!0;break;case TC:return a=t._init,Fu(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+C1(t,0):r,f3(i)?(n="",a!=null&&(n=a.replace(p3,"$&/")+"/"),Fu(i,e,n,"",function(u){return u})):i!=null&&(y5(i)&&(i=EL(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(p3,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(f3(t))for(var c=0;c<t.length;c++)r=t[c],s=o+C1(r,c),a+=Fu(r,e,n,s,i);else if(c=kL(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=o+C1(r,c++),a+=Fu(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Fu(LL(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ym(t,e,n){if(t==null)return t;var r=[],i=0;return Fu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ML(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var g3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function DL(){}St.Children={map:Ym,forEach:function(t,e,n){Ym(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ym(t,function(){e++}),e},toArray:function(t){return Ym(t,function(e){return e})||[]},only:function(t){if(!y5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=ah;St.Fragment=wL;St.Profiler=jL;St.PureComponent=g5;St.StrictMode=SL;St.Suspense=AL;St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mn;St.__COMPILER_RUNTIME={__proto__:null,c:function(t){return mn.H.useMemoCache(t)}};St.cache=function(t){return function(){return t.apply(null,arguments)}};St.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=EC({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!MC.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}return x5(t.type,i,void 0,void 0,s,r)};St.createContext=function(t){return t={$$typeof:CL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:NL,_context:t},t};St.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)MC.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return x5(t,s,void 0,void 0,null,i)};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:_L,render:t}};St.isValidElement=y5;St.lazy=function(t){return{$$typeof:TC,_payload:{_status:-1,_result:t},_init:ML}};St.memo=function(t,e){return{$$typeof:TL,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=mn.T,n={};mn.T=n;try{var r=t(),i=mn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(DL,g3)}catch(s){g3(s)}finally{mn.T=e}};St.unstable_useCacheRefresh=function(){return mn.H.useCacheRefresh()};St.use=function(t){return mn.H.use(t)};St.useActionState=function(t,e,n){return mn.H.useActionState(t,e,n)};St.useCallback=function(t,e){return mn.H.useCallback(t,e)};St.useContext=function(t){return mn.H.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t,e){return mn.H.useDeferredValue(t,e)};St.useEffect=function(t,e,n){var r=mn.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};St.useId=function(){return mn.H.useId()};St.useImperativeHandle=function(t,e,n){return mn.H.useImperativeHandle(t,e,n)};St.useInsertionEffect=function(t,e){return mn.H.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return mn.H.useLayoutEffect(t,e)};St.useMemo=function(t,e){return mn.H.useMemo(t,e)};St.useOptimistic=function(t,e){return mn.H.useOptimistic(t,e)};St.useReducer=function(t,e,n){return mn.H.useReducer(t,e,n)};St.useRef=function(t){return mn.H.useRef(t)};St.useState=function(t){return mn.H.useState(t)};St.useSyncExternalStore=function(t,e,n){return mn.H.useSyncExternalStore(t,e,n)};St.useTransition=function(){return mn.H.useTransition()};St.version="19.1.0";AC.exports=St;var C=AC.exports;const ht=sh(C),b5=gL({__proto__:null,default:ht},[C]);var DC={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=C;function PC(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Do(){}var Ur={d:{f:Do,r:function(){throw Error(PC(522))},D:Do,C:Do,L:Do,m:Do,X:Do,S:Do,M:Do},p:0,findDOMNode:null},RL=Symbol.for("react.portal");function FL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RL,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Af=PL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ov(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ur;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(PC(299));return FL(t,e,null,n)};Vr.flushSync=function(t){var e=Af.T,n=Ur.p;try{if(Af.T=null,Ur.p=2,t)return t()}finally{Af.T=e,Ur.p=n,Ur.d.f()}};Vr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ur.d.C(t,e))};Vr.prefetchDNS=function(t){typeof t=="string"&&Ur.d.D(t)};Vr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ov(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ur.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Ur.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Vr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ov(e.as,e.crossOrigin);Ur.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ur.d.M(t)};Vr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ov(n,e.crossOrigin);Ur.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Vr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ov(e.as,e.crossOrigin);Ur.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ur.d.m(t)};Vr.requestFormReset=function(t){Ur.d.r(t)};Vr.unstable_batchedUpdates=function(t,e){return t(e)};Vr.useFormState=function(t,e,n){return Af.H.useFormState(t,e,n)};Vr.useFormStatus=function(){return Af.H.useHostTransitionStatus()};Vr.version="19.1.0";function RC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RC)}catch(t){console.error(t)}}RC(),DC.exports=Vr;var Uc=DC.exports;const IL=sh(Uc);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=yL,FC=C,zL=Uc;function Re(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function IC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ep(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v3(t){if(Ep(t)!==t)throw Error(Re(188))}function BL(t){var e=t.alternate;if(!e){if(e=Ep(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v3(i),t;if(s===r)return v3(i),e;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function BC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=BC(t),e!==null)return e;t=t.sibling}return null}var hn=Object.assign,qL=Symbol.for("react.element"),Xm=Symbol.for("react.transitional.element"),bf=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),qC=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),UL=Symbol.for("react.provider"),UC=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),w5=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),e2=Symbol.for("react.suspense_list"),S5=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),t2=Symbol.for("react.activity"),HL=Symbol.for("react.memo_cache_sentinel"),x3=Symbol.iterator;function nf(t){return t===null||typeof t!="object"?null:(t=x3&&t[x3]||t["@@iterator"],typeof t=="function"?t:null)}var VL=Symbol.for("react.client.reference");function n2(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===VL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gu:return"Fragment";case Zy:return"Profiler";case qC:return"StrictMode";case Jy:return"Suspense";case e2:return"SuspenseList";case t2:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case bf:return"Portal";case Ya:return(t.displayName||"Context")+".Provider";case UC:return(t._context.displayName||"Context")+".Consumer";case w5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S5:return e=t.displayName||null,e!==null?e:n2(t.type)||"Memo";case Yo:e=t._payload,t=t._init;try{return n2(t(e))}catch{}}return null}var wf=Array.isArray,ft=FC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ut=zL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bc={pending:!1,data:null,method:null,action:null},r2=[],Yu=-1;function xa(t){return{current:t}}function cr(t){0>Yu||(t.current=r2[Yu],r2[Yu]=null,Yu--)}function gn(t,e){Yu++,r2[Yu]=t.current,t.current=e}var da=xa(null),$f=xa(null),fl=xa(null),N0=xa(null);function C0(t,e){switch(gn(fl,e),gn($f,t),gn(da,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?j4(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=j4(e),t=sA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}cr(da),gn(da,t)}function Id(){cr(da),cr($f),cr(fl)}function i2(t){t.memoizedState!==null&&gn(N0,t);var e=da.current,n=sA(e,t.type);e!==n&&(gn($f,t),gn(da,n))}function _0(t){$f.current===t&&(cr(da),cr($f)),N0.current===t&&(cr(N0),sp._currentValue=bc)}var s2=Object.prototype.hasOwnProperty,j5=er.unstable_scheduleCallback,_1=er.unstable_cancelCallback,GL=er.unstable_shouldYield,YL=er.unstable_requestPaint,ha=er.unstable_now,XL=er.unstable_getCurrentPriorityLevel,HC=er.unstable_ImmediatePriority,VC=er.unstable_UserBlockingPriority,A0=er.unstable_NormalPriority,WL=er.unstable_LowPriority,GC=er.unstable_IdlePriority,$L=er.log,KL=er.unstable_setDisableYieldValue,Op=null,Ci=null;function ol(t){if(typeof $L=="function"&&KL(t),Ci&&typeof Ci.setStrictMode=="function")try{Ci.setStrictMode(Op,t)}catch{}}var _i=Math.clz32?Math.clz32:JL,QL=Math.log,ZL=Math.LN2;function JL(t){return t>>>=0,t===0?32:31-(QL(t)/ZL|0)|0}var Wm=256,$m=4194304;function tc(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Lv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=tc(r):(a&=o,a!==0?i=tc(a):n||(n=o&~t,n!==0&&(i=tc(n))))):(o=r&~s,o!==0?i=tc(o):a!==0?i=tc(a):n||(n=r&~t,n!==0&&(i=tc(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Lp(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function eM(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YC(){var t=Wm;return Wm<<=1,!(Wm&4194048)&&(Wm=256),t}function XC(){var t=$m;return $m<<=1,!($m&62914560)&&($m=4194304),t}function A1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mp(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tM(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-_i(n),h=1<<d;o[d]=0,c[d]=-1;var p=u[d];if(p!==null)for(u[d]=null,d=0;d<p.length;d++){var f=p[d];f!==null&&(f.lane&=-536870913)}n&=~h}r!==0&&WC(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function WC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-_i(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function $C(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_i(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function N5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function C5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function KC(){var t=Ut.p;return t!==0?t:(t=window.event,t===void 0?32:mA(t.type))}function nM(t,e){var n=Ut.p;try{return Ut.p=t,e()}finally{Ut.p=n}}var Dl=Math.random().toString(36).slice(2),kr="__reactFiber$"+Dl,li="__reactProps$"+Dl,oh="__reactContainer$"+Dl,a2="__reactEvents$"+Dl,rM="__reactListeners$"+Dl,iM="__reactHandles$"+Dl,y3="__reactResources$"+Dl,Dp="__reactMarker$"+Dl;function _5(t){delete t[kr],delete t[li],delete t[a2],delete t[rM],delete t[iM]}function Xu(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oh]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_4(t);t!==null;){if(n=t[kr])return n;t=_4(t)}return e}t=n,n=t.parentNode}return null}function lh(t){if(t=t[kr]||t[oh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Sf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Re(33))}function od(t){var e=t[y3];return e||(e=t[y3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function or(t){t[Dp]=!0}var QC=new Set,ZC={};function Hc(t,e){zd(t,e),zd(t+"Capture",e)}function zd(t,e){for(ZC[t]=e,t=0;t<e.length;t++)QC.add(e[t])}var sM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b3={},w3={};function aM(t){return s2.call(w3,t)?!0:s2.call(b3,t)?!1:sM.test(t)?w3[t]=!0:(b3[t]=!0,!1)}function Xg(t,e,n){if(aM(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Km(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Pa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var T1,S3;function Iu(t){if(T1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T1=e&&e[1]||"",S3=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+T1+t+S3}var k1=!1;function E1(t,e){if(!t||k1)return"";k1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var p=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){p=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){p=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&p&&typeof f.stack=="string")return[f.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{k1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Iu(n):""}function oM(t){switch(t.tag){case 26:case 27:case 5:return Iu(t.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 15:return E1(t.type,!1);case 11:return E1(t.type.render,!1);case 1:return E1(t.type,!0);case 31:return Iu("Activity");default:return""}}function j3(t){try{var e="";do e+=oM(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Xi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lM(t){var e=JC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function T0(t){t._valueTracker||(t._valueTracker=lM(t))}function e_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function k0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cM=/[\n"\\]/g;function Ki(t){return t.replace(cM,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function o2(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Xi(e)):t.value!==""+Xi(e)&&(t.value=""+Xi(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?l2(t,a,Xi(e)):n!=null?l2(t,a,Xi(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Xi(o):t.removeAttribute("name")}function t_(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Xi(n):"",e=e!=null?""+Xi(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function l2(t,e,n){e==="number"&&k0(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ld(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n_(t,e,n){if(e!=null&&(e=""+Xi(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Xi(n):""}function r_(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Re(92));if(wf(r)){if(1<r.length)throw Error(Re(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Xi(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Bd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N3(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||uM.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function i_(t,e,n){if(e!=null&&typeof e!="object")throw Error(Re(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&N3(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&N3(t,s,e[s])}function A5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wg(t){return hM.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var c2=null;function T5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wu=null,cd=null;function C3(t){var e=lh(t);if(e&&(t=e.stateNode)){var n=t[li]||null;e:switch(t=e.stateNode,e.type){case"input":if(o2(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ki(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[li]||null;if(!i)throw Error(Re(90));o2(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&e_(r)}break e;case"textarea":n_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ld(t,!!n.multiple,e,!1)}}}var O1=!1;function s_(t,e,n){if(O1)return t(e,n);O1=!0;try{var r=t(e);return r}finally{if(O1=!1,(Wu!==null||cd!==null)&&(Uv(),Wu&&(e=Wu,t=cd,cd=Wu=null,C3(e),t)))for(e=0;e<t.length;e++)C3(t[e])}}function Kf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[li]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u2=!1;if(no)try{var rf={};Object.defineProperty(rf,"passive",{get:function(){u2=!0}}),window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{u2=!1}var ll=null,k5=null,$g=null;function a_(){if($g)return $g;var t,e=k5,n=e.length,r,i="value"in ll?ll.value:ll.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return $g=i.slice(t,1<r?1-r:void 0)}function Kg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qm(){return!0}function _3(){return!1}function ui(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qm:_3,this.isPropagationStopped=_3,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qm)},persist:function(){},isPersistent:Qm}),e}var Vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mv=ui(Vc),Pp=hn({},Vc,{view:0,detail:0}),fM=ui(Pp),L1,M1,sf,Dv=hn({},Pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sf&&(sf&&t.type==="mousemove"?(L1=t.screenX-sf.screenX,M1=t.screenY-sf.screenY):M1=L1=0,sf=t),L1)},movementY:function(t){return"movementY"in t?t.movementY:M1}}),A3=ui(Dv),pM=hn({},Dv,{dataTransfer:0}),mM=ui(pM),gM=hn({},Pp,{relatedTarget:0}),D1=ui(gM),vM=hn({},Vc,{animationName:0,elapsedTime:0,pseudoElement:0}),xM=ui(vM),yM=hn({},Vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bM=ui(yM),wM=hn({},Vc,{data:0}),T3=ui(wM),SM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NM[t])?!!e[t]:!1}function E5(){return CM}var _M=hn({},Pp,{key:function(t){if(t.key){var e=SM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E5,charCode:function(t){return t.type==="keypress"?Kg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AM=ui(_M),TM=hn({},Dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k3=ui(TM),kM=hn({},Pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E5}),EM=ui(kM),OM=hn({},Vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=ui(OM),MM=hn({},Dv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DM=ui(MM),PM=hn({},Vc,{newState:0,oldState:0}),RM=ui(PM),FM=[9,13,27,32],O5=no&&"CompositionEvent"in window,Tf=null;no&&"documentMode"in document&&(Tf=document.documentMode);var IM=no&&"TextEvent"in window&&!Tf,o_=no&&(!O5||Tf&&8<Tf&&11>=Tf),E3=" ",O3=!1;function l_(t,e){switch(t){case"keyup":return FM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $u=!1;function zM(t,e){switch(t){case"compositionend":return c_(e);case"keypress":return e.which!==32?null:(O3=!0,E3);case"textInput":return t=e.data,t===E3&&O3?null:t;default:return null}}function BM(t,e){if($u)return t==="compositionend"||!O5&&l_(t,e)?(t=a_(),$g=k5=ll=null,$u=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o_&&e.locale!=="ko"?null:e.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qM[t.type]:e==="textarea"}function u_(t,e,n,r){Wu?cd?cd.push(r):cd=[r]:Wu=r,e=X0(e,"onChange"),0<e.length&&(n=new Mv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kf=null,Qf=null;function UM(t){nA(t,0)}function Pv(t){var e=Sf(t);if(e_(e))return t}function M3(t,e){if(t==="change")return e}var d_=!1;if(no){var P1;if(no){var R1="oninput"in document;if(!R1){var D3=document.createElement("div");D3.setAttribute("oninput","return;"),R1=typeof D3.oninput=="function"}P1=R1}else P1=!1;d_=P1&&(!document.documentMode||9<document.documentMode)}function P3(){kf&&(kf.detachEvent("onpropertychange",h_),Qf=kf=null)}function h_(t){if(t.propertyName==="value"&&Pv(Qf)){var e=[];u_(e,Qf,t,T5(t)),s_(UM,e)}}function HM(t,e,n){t==="focusin"?(P3(),kf=e,Qf=n,kf.attachEvent("onpropertychange",h_)):t==="focusout"&&P3()}function VM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pv(Qf)}function GM(t,e){if(t==="click")return Pv(e)}function YM(t,e){if(t==="input"||t==="change")return Pv(e)}function XM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ei=typeof Object.is=="function"?Object.is:XM;function Zf(t,e){if(Ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!s2.call(e,i)||!Ei(t[i],e[i]))return!1}return!0}function R3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F3(t,e){var n=R3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R3(n)}}function f_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=k0(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=k0(t.document)}return e}function L5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var WM=no&&"documentMode"in document&&11>=document.documentMode,Ku=null,d2=null,Ef=null,h2=!1;function I3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h2||Ku==null||Ku!==k0(r)||(r=Ku,"selectionStart"in r&&L5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ef&&Zf(Ef,r)||(Ef=r,r=X0(d2,"onSelect"),0<r.length&&(e=new Mv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ku)))}function Jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qu={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionrun:Jl("Transition","TransitionRun"),transitionstart:Jl("Transition","TransitionStart"),transitioncancel:Jl("Transition","TransitionCancel"),transitionend:Jl("Transition","TransitionEnd")},F1={},m_={};no&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function Gc(t){if(F1[t])return F1[t];if(!Qu[t])return t;var e=Qu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m_)return F1[t]=e[n];return t}var g_=Gc("animationend"),v_=Gc("animationiteration"),x_=Gc("animationstart"),$M=Gc("transitionrun"),KM=Gc("transitionstart"),QM=Gc("transitioncancel"),y_=Gc("transitionend"),b_=new Map,f2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");f2.push("scrollEnd");function Ds(t,e){b_.set(t,e),Hc(e,[t])}var z3=new WeakMap;function Qi(t,e){if(typeof t=="object"&&t!==null){var n=z3.get(t);return n!==void 0?n:(e={value:t,source:e,stack:j3(e)},z3.set(t,e),e)}return{value:t,source:e,stack:j3(e)}}var Hi=[],Zu=0,M5=0;function Rv(){for(var t=Zu,e=M5=Zu=0;e<t;){var n=Hi[e];Hi[e++]=null;var r=Hi[e];Hi[e++]=null;var i=Hi[e];Hi[e++]=null;var s=Hi[e];if(Hi[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&w_(n,i,s)}}function Fv(t,e,n,r){Hi[Zu++]=t,Hi[Zu++]=e,Hi[Zu++]=n,Hi[Zu++]=r,M5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function D5(t,e,n,r){return Fv(t,e,n,r),E0(t)}function ch(t,e){return Fv(t,null,null,e),E0(t)}function w_(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-_i(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function E0(t){if(50<Bf)throw Bf=0,D2=null,Error(Re(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ju={};function ZM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,n,r){return new ZM(t,e,n,r)}function P5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Za(t,e){var n=t.alternate;return n===null?(n=ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function S_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Qg(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")P5(t)&&(a=1);else if(typeof t=="string")a=eP(t,n,da.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case t2:return t=ji(31,n,e,i),t.elementType=t2,t.lanes=s,t;case Gu:return wc(n.children,i,s,e);case qC:a=8,i|=24;break;case Zy:return t=ji(12,n,e,i|2),t.elementType=Zy,t.lanes=s,t;case Jy:return t=ji(13,n,e,i),t.elementType=Jy,t.lanes=s,t;case e2:return t=ji(19,n,e,i),t.elementType=e2,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UL:case Ya:a=10;break e;case UC:a=9;break e;case w5:a=11;break e;case S5:a=14;break e;case Yo:a=16,r=null;break e}a=29,n=Error(Re(130,t===null?"null":typeof t,"")),r=null}return e=ji(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wc(t,e,n,r){return t=ji(7,t,r,e),t.lanes=n,t}function I1(t,e,n){return t=ji(6,t,null,e),t.lanes=n,t}function z1(t,e,n){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ed=[],td=0,O0=null,L0=0,Wi=[],$i=0,Sc=null,Xa=1,Wa="";function nc(t,e){ed[td++]=L0,ed[td++]=O0,O0=t,L0=e}function j_(t,e,n){Wi[$i++]=Xa,Wi[$i++]=Wa,Wi[$i++]=Sc,Sc=t;var r=Xa;t=Wa;var i=32-_i(r)-1;r&=~(1<<i),n+=1;var s=32-_i(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xa=1<<32-_i(e)+i|n<<i|r,Wa=s+t}else Xa=1<<s|n<<i|r,Wa=t}function R5(t){t.return!==null&&(nc(t,1),j_(t,1,0))}function F5(t){for(;t===O0;)O0=ed[--td],ed[td]=null,L0=ed[--td],ed[td]=null;for(;t===Sc;)Sc=Wi[--$i],Wi[$i]=null,Wa=Wi[--$i],Wi[$i]=null,Xa=Wi[--$i],Wi[$i]=null}var qr=null,Tn=null,qt=!1,jc=null,ra=!1,p2=Error(Re(519));function Ec(t){var e=Error(Re(418,""));throw Jf(Qi(e,t)),p2}function B3(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[kr]=t,e[li]=r,n){case"dialog":At("cancel",e),At("close",e);break;case"iframe":case"object":case"embed":At("load",e);break;case"video":case"audio":for(n=0;n<np.length;n++)At(np[n],e);break;case"source":At("error",e);break;case"img":case"image":case"link":At("error",e),At("load",e);break;case"details":At("toggle",e);break;case"input":At("invalid",e),t_(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),T0(e);break;case"select":At("invalid",e);break;case"textarea":At("invalid",e),r_(e,r.value,r.defaultValue,r.children),T0(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||iA(e.textContent,n)?(r.popover!=null&&(At("beforetoggle",e),At("toggle",e)),r.onScroll!=null&&At("scroll",e),r.onScrollEnd!=null&&At("scrollend",e),r.onClick!=null&&(e.onclick=Gv),e=!0):e=!1,e||Ec(t)}function q3(t){for(qr=t.return;qr;)switch(qr.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:qr=qr.return}}function af(t){if(t!==qr)return!1;if(!qt)return q3(t),qt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||B2(t.type,t.memoizedProps)),n=!n),n&&Tn&&Ec(t),q3(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Tn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Tn=null}}else e===27?(e=Tn,Pl(t.type)?(t=H2,H2=null,Tn=t):Tn=e):Tn=qr?Es(t.stateNode.nextSibling):null;return!0}function Rp(){Tn=qr=null,qt=!1}function U3(){var t=jc;return t!==null&&(ni===null?ni=t:ni.push.apply(ni,t),jc=null),t}function Jf(t){jc===null?jc=[t]:jc.push(t)}var m2=xa(null),Yc=null,$a=null;function Wo(t,e,n){gn(m2,e._currentValue),e._currentValue=n}function Ja(t){t._currentValue=m2.current,cr(m2)}function g2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function v2(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),g2(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Re(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),g2(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Fp(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Re(387));if(a=a.memoizedProps,a!==null){var o=i.type;Ei(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===N0.current){if(a=i.alternate,a===null)throw Error(Re(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(sp):t=[sp])}i=i.return}t!==null&&v2(e,t,n,r),e.flags|=262144}function M0(t){for(t=t.firstContext;t!==null;){if(!Ei(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oc(t){Yc=t,$a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Er(t){return N_(Yc,t)}function Zm(t,e){return Yc===null&&Oc(t),N_(t,e)}function N_(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$a===null){if(t===null)throw Error(Re(308));$a=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $a=$a.next=e;return n}var JM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},eD=er.unstable_scheduleCallback,tD=er.unstable_NormalPriority,Qn={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function I5(){return{controller:new JM,data:new Map,refCount:0}}function Ip(t){t.refCount--,t.refCount===0&&eD(tD,function(){t.controller.abort()})}var Of=null,x2=0,qd=0,ud=null;function nD(t,e){if(Of===null){var n=Of=[];x2=0,qd=ow(),ud={status:"pending",value:void 0,then:function(r){n.push(r)}}}return x2++,e.then(H3,H3),e}function H3(){if(--x2===0&&Of!==null){ud!==null&&(ud.status="fulfilled");var t=Of;Of=null,qd=0,ud=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function rD(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var V3=ft.S;ft.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&nD(t,e),V3!==null&&V3(t,e)};var Nc=xa(null);function z5(){var t=Nc.current;return t!==null?t:cn.pooledCache}function Zg(t,e){e===null?gn(Nc,Nc.current):gn(Nc,e.pool)}function C_(){var t=z5();return t===null?null:{parent:Qn._currentValue,pool:t}}var zp=Error(Re(460)),__=Error(Re(474)),Iv=Error(Re(542)),y2={then:function(){}};function G3(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jm(){}function A_(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Jm,Jm),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,X3(t),t;default:if(typeof e.status=="string")e.then(Jm,Jm);else{if(t=cn,t!==null&&100<t.shellSuspendCounter)throw Error(Re(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,X3(t),t}throw Lf=e,zp}}var Lf=null;function Y3(){if(Lf===null)throw Error(Re(459));var t=Lf;return Lf=null,t}function X3(t){if(t===zp||t===Iv)throw Error(Re(483))}var Xo=!1;function B5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ml(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=E0(t),w_(t,null,n),e}return Fv(t,r,e,n),E0(t)}function Mf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$C(t,n)}}function B1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var w2=!1;function Df(){if(w2){var t=ud;if(t!==null)throw t}}function Pf(t,e,n,r){w2=!1;var i=t.updateQueue;Xo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,o=s;do{var p=o.lane&-536870913,f=p!==o.lane;if(f?(Rt&p)===p:(r&p)===p){p!==0&&p===qd&&(w2=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=t,g=o;p=e;var w=n;switch(g.tag){case 1:if(b=g.payload,typeof b=="function"){h=b.call(w,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(w,h,p):b,p==null)break e;h=hn({},h,p);break e;case 2:Xo=!0}}p=o.callback,p!==null&&(t.flags|=64,f&&(t.flags|=8192),f=i.callbacks,f===null?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),_l|=a,t.lanes=a,t.memoizedState=h}}function T_(t,e){if(typeof t!="function")throw Error(Re(191,t));t.call(e)}function k_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)T_(n[t],e)}var Ud=xa(null),D0=xa(0);function W3(t,e){t=so,gn(D0,t),gn(Ud,e),so=t|e.baseLanes}function S2(){gn(D0,so),gn(Ud,Ud.current)}function q5(){so=D0.current,cr(Ud),cr(D0)}var Nl=0,jt=null,tn=null,Yn=null,P0=!1,dd=!1,Lc=!1,R0=0,ep=0,hd=null,iD=0;function Mn(){throw Error(Re(321))}function U5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ei(t[n],e[n]))return!1;return!0}function H5(t,e,n,r,i,s){return Nl=s,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ft.H=t===null||t.memoizedState===null?a6:o6,Lc=!1,s=n(r,i),Lc=!1,dd&&(s=O_(e,n,r,i)),E_(t),s}function E_(t){ft.H=F0;var e=tn!==null&&tn.next!==null;if(Nl=0,Yn=tn=jt=null,P0=!1,ep=0,hd=null,e)throw Error(Re(300));t===null||lr||(t=t.dependencies,t!==null&&M0(t)&&(lr=!0))}function O_(t,e,n,r){jt=t;var i=0;do{if(dd&&(hd=null),ep=0,dd=!1,25<=i)throw Error(Re(301));if(i+=1,Yn=tn=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ft.H=dD,s=e(n,r)}while(dd);return s}function sD(){var t=ft.H,e=t.useState()[0];return e=typeof e.then=="function"?Bp(e):e,t=t.useState()[0],(tn!==null?tn.memoizedState:null)!==t&&(jt.flags|=1024),e}function V5(){var t=R0!==0;return R0=0,t}function G5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Y5(t){if(P0){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}P0=!1}Nl=0,Yn=tn=jt=null,dd=!1,ep=R0=0,hd=null}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?jt.memoizedState=Yn=t:Yn=Yn.next=t,Yn}function Wn(){if(tn===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=Yn===null?jt.memoizedState:Yn.next;if(e!==null)Yn=e,tn=t;else{if(t===null)throw jt.alternate===null?Error(Re(467)):Error(Re(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},Yn===null?jt.memoizedState=Yn=t:Yn=Yn.next=t}return Yn}function X5(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bp(t){var e=ep;return ep+=1,hd===null&&(hd=[]),t=A_(hd,t,e),e=jt,(Yn===null?e.memoizedState:Yn.next)===null&&(e=e.alternate,ft.H=e===null||e.memoizedState===null?a6:o6),t}function zv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bp(t);if(t.$$typeof===Ya)return Er(t)}throw Error(Re(438,String(t)))}function W5(t){var e=null,n=jt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=jt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=X5(),jt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=HL;return e.index++,n}function ro(t,e){return typeof e=="function"?e(t):e}function Jg(t){var e=Wn();return $5(e,tn,t)}function $5(t,e,n){var r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Rt&h)===h:(Nl&h)===h){var p=u.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qd&&(d=!0);else if((Nl&p)===p){u=u.next,p===qd&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,a=s):c=c.next=h,jt.lanes|=p,_l|=p;h=u.action,Lc&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=p,a=s):c=c.next=p,jt.lanes|=h,_l|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=s:c.next=o,!Ei(s,t.memoizedState)&&(lr=!0,d&&(n=ud,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function q1(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ei(s,e.memoizedState)||(lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function L_(t,e,n){var r=jt,i=Wn(),s=qt;if(s){if(n===void 0)throw Error(Re(407));n=n()}else n=e();var a=!Ei((tn||i).memoizedState,n);a&&(i.memoizedState=n,lr=!0),i=i.queue;var o=P_.bind(null,r,i,t);if(qp(2048,8,o,[t]),i.getSnapshot!==e||a||Yn!==null&&Yn.memoizedState.tag&1){if(r.flags|=2048,Hd(9,Bv(),D_.bind(null,r,i,n,e),null),cn===null)throw Error(Re(349));s||Nl&124||M_(r,e,n)}return n}function M_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e=X5(),jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function D_(t,e,n,r){e.value=n,e.getSnapshot=r,R_(e)&&F_(t)}function P_(t,e,n){return n(function(){R_(e)&&F_(t)})}function R_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ei(t,n)}catch{return!0}}function F_(t){var e=ch(t,2);e!==null&&Ti(e,t,2)}function j2(t){var e=ei();if(typeof t=="function"){var n=t;if(t=n(),Lc){ol(!0);try{n()}finally{ol(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},e}function I_(t,e,n,r){return t.baseState=n,$5(t,tn,typeof r=="function"?r:ro)}function aD(t,e,n,r,i){if(qv(t))throw Error(Re(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ft.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,z_(e,s)):(s.next=n.next,e.pending=n.next=s)}}function z_(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=ft.T,a={};ft.T=a;try{var o=n(i,r),c=ft.S;c!==null&&c(a,o),$3(t,e,o)}catch(u){N2(t,e,u)}finally{ft.T=s}}else try{s=n(i,r),$3(t,e,s)}catch(u){N2(t,e,u)}}function $3(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){K3(t,e,r)},function(r){return N2(t,e,r)}):K3(t,e,n)}function K3(t,e,n){e.status="fulfilled",e.value=n,B_(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,z_(t,n)))}function N2(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,B_(e),e=e.next;while(e!==r)}t.action=null}function B_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function q_(t,e){return e}function Q3(t,e){if(qt){var n=cn.formState;if(n!==null){e:{var r=jt;if(qt){if(Tn){t:{for(var i=Tn,s=ra;i.nodeType!==8;){if(!s){i=null;break t}if(i=Es(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Tn=Es(i.nextSibling),r=i.data==="F!";break e}}Ec(r)}r=!1}r&&(e=n[0])}}return n=ei(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:e},n.queue=r,n=r6.bind(null,jt,r),r.dispatch=n,r=j2(!1),s=J5.bind(null,jt,!1,r.queue),r=ei(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=aD.bind(null,jt,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Z3(t){var e=Wn();return U_(e,tn,t)}function U_(t,e,n){if(e=$5(t,e,q_)[0],t=Jg(ro)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Bp(e)}catch(a){throw a===zp?Iv:a}else r=e;e=Wn();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(jt.flags|=2048,Hd(9,Bv(),oD.bind(null,i,n),null)),[r,s,t]}function oD(t,e){t.action=e}function J3(t){var e=Wn(),n=tn;if(n!==null)return U_(e,n,t);Wn(),e=e.memoizedState,n=Wn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Hd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=jt.updateQueue,e===null&&(e=X5(),jt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Bv(){return{destroy:void 0,resource:void 0}}function H_(){return Wn().memoizedState}function e0(t,e,n,r){var i=ei();r=r===void 0?null:r,jt.flags|=t,i.memoizedState=Hd(1|e,Bv(),n,r)}function qp(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=i.memoizedState.inst;tn!==null&&r!==null&&U5(r,tn.memoizedState.deps)?i.memoizedState=Hd(e,s,n,r):(jt.flags|=t,i.memoizedState=Hd(1|e,s,n,r))}function e4(t,e){e0(8390656,8,t,e)}function V_(t,e){qp(2048,8,t,e)}function G_(t,e){return qp(4,2,t,e)}function Y_(t,e){return qp(4,4,t,e)}function X_(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W_(t,e,n){n=n!=null?n.concat([t]):null,qp(4,4,X_.bind(null,e,t),n)}function K5(){}function $_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&U5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K_(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&U5(e,r[1]))return r[0];if(r=t(),Lc){ol(!0);try{t()}finally{ol(!1)}}return n.memoizedState=[r,e],r}function Q5(t,e,n){return n===void 0||Nl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=B6(),jt.lanes|=t,_l|=t,n)}function Q_(t,e,n,r){return Ei(n,e)?n:Ud.current!==null?(t=Q5(t,n,r),Ei(t,e)||(lr=!0),t):Nl&42?(t=B6(),jt.lanes|=t,_l|=t,e):(lr=!0,t.memoizedState=n)}function Z_(t,e,n,r,i){var s=Ut.p;Ut.p=s!==0&&8>s?s:8;var a=ft.T,o={};ft.T=o,J5(t,!1,e,n);try{var c=i(),u=ft.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=rD(c,r);Rf(t,e,d,Ai(t))}else Rf(t,e,r,Ai(t))}catch(h){Rf(t,e,{then:function(){},status:"rejected",reason:h},Ai())}finally{Ut.p=s,ft.T=a}}function lD(){}function C2(t,e,n,r){if(t.tag!==5)throw Error(Re(476));var i=J_(t).queue;Z_(t,i,e,bc,n===null?lD:function(){return e6(t),n(r)})}function J_(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:bc,baseState:bc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:bc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function e6(t){var e=J_(t).next.queue;Rf(t,e,{},Ai())}function Z5(){return Er(sp)}function t6(){return Wn().memoizedState}function n6(){return Wn().memoizedState}function cD(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ai();t=pl(n);var r=ml(e,t,n);r!==null&&(Ti(r,e,n),Mf(r,e,n)),e={cache:I5()},t.payload=e;return}e=e.return}}function uD(t,e,n){var r=Ai();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qv(t)?i6(e,n):(n=D5(t,e,n,r),n!==null&&(Ti(n,t,r),s6(n,e,r)))}function r6(t,e,n){var r=Ai();Rf(t,e,n,r)}function Rf(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qv(t))i6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ei(o,a))return Fv(t,e,i,0),cn===null&&Rv(),!1}catch{}finally{}if(n=D5(t,e,i,r),n!==null)return Ti(n,t,r),s6(n,e,r),!0}return!1}function J5(t,e,n,r){if(r={lane:2,revertLane:ow(),action:r,hasEagerState:!1,eagerState:null,next:null},qv(t)){if(e)throw Error(Re(479))}else e=D5(t,n,r,2),e!==null&&Ti(e,t,2)}function qv(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function i6(t,e){dd=P0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s6(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$C(t,n)}}var F0={readContext:Er,use:zv,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},a6={readContext:Er,use:zv,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:e4,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,e0(4194308,4,X_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return e0(4194308,4,t,e)},useInsertionEffect:function(t,e){e0(4,2,t,e)},useMemo:function(t,e){var n=ei();e=e===void 0?null:e;var r=t();if(Lc){ol(!0);try{t()}finally{ol(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ei();if(n!==void 0){var i=n(e);if(Lc){ol(!0);try{n(e)}finally{ol(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=uD.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:function(t){t=j2(t);var e=t.queue,n=r6.bind(null,jt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:K5,useDeferredValue:function(t,e){var n=ei();return Q5(n,t,e)},useTransition:function(){var t=j2(!1);return t=Z_.bind(null,jt,t.queue,!0,!1),ei().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=jt,i=ei();if(qt){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),cn===null)throw Error(Re(349));Rt&124||M_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,e4(P_.bind(null,r,s,t),[t]),r.flags|=2048,Hd(9,Bv(),D_.bind(null,r,s,n,e),null),n},useId:function(){var t=ei(),e=cn.identifierPrefix;if(qt){var n=Wa,r=Xa;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,e=""+e+"R"+n,n=R0++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=iD++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Z5,useFormState:Q3,useActionState:Q3,useOptimistic:function(t){var e=ei();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=J5.bind(null,jt,!0,n),n.dispatch=e,[t,e]},useMemoCache:W5,useCacheRefresh:function(){return ei().memoizedState=cD.bind(null,jt)}},o6={readContext:Er,use:zv,useCallback:$_,useContext:Er,useEffect:V_,useImperativeHandle:W_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:K_,useReducer:Jg,useRef:H_,useState:function(){return Jg(ro)},useDebugValue:K5,useDeferredValue:function(t,e){var n=Wn();return Q_(n,tn.memoizedState,t,e)},useTransition:function(){var t=Jg(ro)[0],e=Wn().memoizedState;return[typeof t=="boolean"?t:Bp(t),e]},useSyncExternalStore:L_,useId:t6,useHostTransitionStatus:Z5,useFormState:Z3,useActionState:Z3,useOptimistic:function(t,e){var n=Wn();return I_(n,tn,t,e)},useMemoCache:W5,useCacheRefresh:n6},dD={readContext:Er,use:zv,useCallback:$_,useContext:Er,useEffect:V_,useImperativeHandle:W_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:K_,useReducer:q1,useRef:H_,useState:function(){return q1(ro)},useDebugValue:K5,useDeferredValue:function(t,e){var n=Wn();return tn===null?Q5(n,t,e):Q_(n,tn.memoizedState,t,e)},useTransition:function(){var t=q1(ro)[0],e=Wn().memoizedState;return[typeof t=="boolean"?t:Bp(t),e]},useSyncExternalStore:L_,useId:t6,useHostTransitionStatus:Z5,useFormState:J3,useActionState:J3,useOptimistic:function(t,e){var n=Wn();return tn!==null?I_(n,tn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:W5,useCacheRefresh:n6},fd=null,tp=0;function eg(t){var e=tp;return tp+=1,fd===null&&(fd=[]),A_(fd,t,e)}function of(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function tg(t,e){throw e.$$typeof===qL?Error(Re(525)):(t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function t4(t){var e=t._init;return e(t._payload)}function l6(t){function e(x,y){if(t){var N=x.deletions;N===null?(x.deletions=[y],x.flags|=16):N.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x){for(var y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(x,y){return x=Za(x,y),x.index=0,x.sibling=null,x}function s(x,y,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<y?(x.flags|=67108866,y):N):(x.flags|=67108866,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function o(x,y,N,A){return y===null||y.tag!==6?(y=I1(N,x.mode,A),y.return=x,y):(y=i(y,N),y.return=x,y)}function c(x,y,N,A){var k=N.type;return k===Gu?d(x,y,N.props.children,A,N.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yo&&t4(k)===y.type)?(y=i(y,N.props),of(y,N),y.return=x,y):(y=Qg(N.type,N.key,N.props,null,x.mode,A),of(y,N),y.return=x,y)}function u(x,y,N,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==N.containerInfo||y.stateNode.implementation!==N.implementation?(y=z1(N,x.mode,A),y.return=x,y):(y=i(y,N.children||[]),y.return=x,y)}function d(x,y,N,A,k){return y===null||y.tag!==7?(y=wc(N,x.mode,A,k),y.return=x,y):(y=i(y,N),y.return=x,y)}function h(x,y,N){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=I1(""+y,x.mode,N),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xm:return N=Qg(y.type,y.key,y.props,null,x.mode,N),of(N,y),N.return=x,N;case bf:return y=z1(y,x.mode,N),y.return=x,y;case Yo:var A=y._init;return y=A(y._payload),h(x,y,N)}if(wf(y)||nf(y))return y=wc(y,x.mode,N,null),y.return=x,y;if(typeof y.then=="function")return h(x,eg(y),N);if(y.$$typeof===Ya)return h(x,Zm(x,y),N);tg(x,y)}return null}function p(x,y,N,A){var k=y!==null?y.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return k!==null?null:o(x,y,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xm:return N.key===k?c(x,y,N,A):null;case bf:return N.key===k?u(x,y,N,A):null;case Yo:return k=N._init,N=k(N._payload),p(x,y,N,A)}if(wf(N)||nf(N))return k!==null?null:d(x,y,N,A,null);if(typeof N.then=="function")return p(x,y,eg(N),A);if(N.$$typeof===Ya)return p(x,y,Zm(x,N),A);tg(x,N)}return null}function f(x,y,N,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return x=x.get(N)||null,o(y,x,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xm:return x=x.get(A.key===null?N:A.key)||null,c(y,x,A,k);case bf:return x=x.get(A.key===null?N:A.key)||null,u(y,x,A,k);case Yo:var E=A._init;return A=E(A._payload),f(x,y,N,A,k)}if(wf(A)||nf(A))return x=x.get(N)||null,d(y,x,A,k,null);if(typeof A.then=="function")return f(x,y,N,eg(A),k);if(A.$$typeof===Ya)return f(x,y,N,Zm(y,A),k);tg(y,A)}return null}function b(x,y,N,A){for(var k=null,E=null,R=y,O=y=0,H=null;R!==null&&O<N.length;O++){R.index>O?(H=R,R=null):H=R.sibling;var K=p(x,R,N[O],A);if(K===null){R===null&&(R=H);break}t&&R&&K.alternate===null&&e(x,R),y=s(K,y,O),E===null?k=K:E.sibling=K,E=K,R=H}if(O===N.length)return n(x,R),qt&&nc(x,O),k;if(R===null){for(;O<N.length;O++)R=h(x,N[O],A),R!==null&&(y=s(R,y,O),E===null?k=R:E.sibling=R,E=R);return qt&&nc(x,O),k}for(R=r(R);O<N.length;O++)H=f(R,x,O,N[O],A),H!==null&&(t&&H.alternate!==null&&R.delete(H.key===null?O:H.key),y=s(H,y,O),E===null?k=H:E.sibling=H,E=H);return t&&R.forEach(function(D){return e(x,D)}),qt&&nc(x,O),k}function g(x,y,N,A){if(N==null)throw Error(Re(151));for(var k=null,E=null,R=y,O=y=0,H=null,K=N.next();R!==null&&!K.done;O++,K=N.next()){R.index>O?(H=R,R=null):H=R.sibling;var D=p(x,R,K.value,A);if(D===null){R===null&&(R=H);break}t&&R&&D.alternate===null&&e(x,R),y=s(D,y,O),E===null?k=D:E.sibling=D,E=D,R=H}if(K.done)return n(x,R),qt&&nc(x,O),k;if(R===null){for(;!K.done;O++,K=N.next())K=h(x,K.value,A),K!==null&&(y=s(K,y,O),E===null?k=K:E.sibling=K,E=K);return qt&&nc(x,O),k}for(R=r(R);!K.done;O++,K=N.next())K=f(R,x,O,K.value,A),K!==null&&(t&&K.alternate!==null&&R.delete(K.key===null?O:K.key),y=s(K,y,O),E===null?k=K:E.sibling=K,E=K);return t&&R.forEach(function(T){return e(x,T)}),qt&&nc(x,O),k}function w(x,y,N,A){if(typeof N=="object"&&N!==null&&N.type===Gu&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Xm:e:{for(var k=N.key;y!==null;){if(y.key===k){if(k=N.type,k===Gu){if(y.tag===7){n(x,y.sibling),A=i(y,N.props.children),A.return=x,x=A;break e}}else if(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yo&&t4(k)===y.type){n(x,y.sibling),A=i(y,N.props),of(A,N),A.return=x,x=A;break e}n(x,y);break}else e(x,y);y=y.sibling}N.type===Gu?(A=wc(N.props.children,x.mode,A,N.key),A.return=x,x=A):(A=Qg(N.type,N.key,N.props,null,x.mode,A),of(A,N),A.return=x,x=A)}return a(x);case bf:e:{for(k=N.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===N.containerInfo&&y.stateNode.implementation===N.implementation){n(x,y.sibling),A=i(y,N.children||[]),A.return=x,x=A;break e}else{n(x,y);break}else e(x,y);y=y.sibling}A=z1(N,x.mode,A),A.return=x,x=A}return a(x);case Yo:return k=N._init,N=k(N._payload),w(x,y,N,A)}if(wf(N))return b(x,y,N,A);if(nf(N)){if(k=nf(N),typeof k!="function")throw Error(Re(150));return N=k.call(N),g(x,y,N,A)}if(typeof N.then=="function")return w(x,y,eg(N),A);if(N.$$typeof===Ya)return w(x,y,Zm(x,N),A);tg(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,y!==null&&y.tag===6?(n(x,y.sibling),A=i(y,N),A.return=x,x=A):(n(x,y),A=I1(N,x.mode,A),A.return=x,x=A),a(x)):n(x,y)}return function(x,y,N,A){try{tp=0;var k=w(x,y,N,A);return fd=null,k}catch(R){if(R===zp||R===Iv)throw R;var E=ji(29,R,null,x.mode);return E.lanes=A,E.return=x,E}finally{}}}var Vd=l6(!0),c6=l6(!1),es=xa(null),fa=null;function $o(t){var e=t.alternate;gn(Zn,Zn.current&1),gn(es,t),fa===null&&(e===null||Ud.current!==null||e.memoizedState!==null)&&(fa=t)}function u6(t){if(t.tag===22){if(gn(Zn,Zn.current),gn(es,t),fa===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fa=t)}}else Ko()}function Ko(){gn(Zn,Zn.current),gn(es,es.current)}function Ka(t){cr(es),fa===t&&(fa=null),cr(Zn)}var Zn=xa(0);function I0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||U2(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function U1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _2={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ai(),i=pl(r);i.payload=e,n!=null&&(i.callback=n),e=ml(t,i,r),e!==null&&(Ti(e,t,r),Mf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ai(),i=pl(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ml(t,i,r),e!==null&&(Ti(e,t,r),Mf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ai(),r=pl(n);r.tag=2,e!=null&&(r.callback=e),e=ml(t,r,n),e!==null&&(Ti(e,t,n),Mf(e,t,n))}};function n4(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Zf(n,r)||!Zf(i,s):!0}function r4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_2.enqueueReplaceState(e,e.state,null)}function Mc(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=hn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var z0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function d6(t){z0(t)}function h6(t){console.error(t)}function f6(t){z0(t)}function B0(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function i4(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function A2(t,e,n){return n=pl(n),n.tag=3,n.payload={element:null},n.callback=function(){B0(t,e)},n}function p6(t){return t=pl(t),t.tag=3,t}function m6(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){i4(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){i4(e,n,r),typeof i!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function hD(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Fp(e,n,i,!0),n=es.current,n!==null){switch(n.tag){case 13:return fa===null?P2():n.alternate===null&&kn===0&&(kn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===y2?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),J1(t,r,i)),!1;case 22:return n.flags|=65536,r===y2?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),J1(t,r,i)),!1}throw Error(Re(435,n.tag))}return J1(t,r,i),P2(),!1}if(qt)return e=es.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==p2&&(t=Error(Re(422),{cause:r}),Jf(Qi(t,n)))):(r!==p2&&(e=Error(Re(423),{cause:r}),Jf(Qi(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Qi(r,n),i=A2(t.stateNode,r,i),B1(t,i),kn!==4&&(kn=2)),!1;var s=Error(Re(520),{cause:r});if(s=Qi(s,n),zf===null?zf=[s]:zf.push(s),kn!==4&&(kn=2),e===null)return!0;r=Qi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=A2(n.stateNode,r,t),B1(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gl===null||!gl.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=p6(i),m6(i,t,n,r),B1(n,i),!1}n=n.return}while(n!==null);return!1}var g6=Error(Re(461)),lr=!1;function fr(t,e,n,r){e.child=t===null?c6(e,null,n,r):Vd(e,t.child,n,r)}function s4(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Oc(e),r=H5(t,e,n,a,s,i),o=V5(),t!==null&&!lr?(G5(t,e,i),io(t,e,i)):(qt&&o&&R5(e),e.flags|=1,fr(t,e,r,i),e.child)}function a4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!P5(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,v6(t,e,s,r,i)):(t=Qg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!ew(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zf,n(a,r)&&t.ref===e.ref)return io(t,e,i)}return e.flags|=1,t=Za(s,r),t.ref=e.ref,t.return=e,e.child=t}function v6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zf(s,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=s,ew(t,i))t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,io(t,e,i)}return T2(t,e,n,r,i)}function x6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return o4(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zg(e,s!==null?s.cachePool:null),s!==null?W3(e,s):S2(),u6(e);else return e.lanes=e.childLanes=536870912,o4(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Zg(e,s.cachePool),W3(e,s),Ko(),e.memoizedState=null):(t!==null&&Zg(e,null),S2(),Ko());return fr(t,e,i,n),e.child}function o4(t,e,n,r){var i=z5();return i=i===null?null:{parent:Qn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Zg(e,null),S2(),u6(e),t!==null&&Fp(t,e,r,!0),null}function t0(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Re(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function T2(t,e,n,r,i){return Oc(e),n=H5(t,e,n,r,void 0,i),r=V5(),t!==null&&!lr?(G5(t,e,i),io(t,e,i)):(qt&&r&&R5(e),e.flags|=1,fr(t,e,n,i),e.child)}function l4(t,e,n,r,i,s){return Oc(e),e.updateQueue=null,n=O_(e,r,n,i),E_(t),r=V5(),t!==null&&!lr?(G5(t,e,s),io(t,e,s)):(qt&&r&&R5(e),e.flags|=1,fr(t,e,n,s),e.child)}function c4(t,e,n,r,i){if(Oc(e),e.stateNode===null){var s=Ju,a=n.contextType;typeof a=="object"&&a!==null&&(s=Er(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_2,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},B5(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Er(a):Ju,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(U1(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&_2.enqueueReplaceState(s,s.state,null),Pf(e,r,s,i),Df(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,c=Mc(n,o);s.props=c;var u=s.context,d=n.contextType;a=Ju,typeof d=="object"&&d!==null&&(a=Er(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&r4(e,s,r,a),Xo=!1;var p=e.memoizedState;s.state=p,Pf(e,r,s,i),Df(),u=e.memoizedState,o||p!==u||Xo?(typeof h=="function"&&(U1(e,n,h,r),u=e.memoizedState),(c=Xo||n4(e,n,c,r,p,u,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,b2(t,e),a=e.memoizedProps,d=Mc(n,a),s.props=d,h=e.pendingProps,p=s.context,u=n.contextType,c=Ju,typeof u=="object"&&u!==null&&(c=Er(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==c)&&r4(e,s,r,c),Xo=!1,p=e.memoizedState,s.state=p,Pf(e,r,s,i),Df();var f=e.memoizedState;a!==h||p!==f||Xo||t!==null&&t.dependencies!==null&&M0(t.dependencies)?(typeof o=="function"&&(U1(e,n,o,r),f=e.memoizedState),(d=Xo||n4(e,n,d,r,p,f,c)||t!==null&&t.dependencies!==null&&M0(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,f,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,f,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,t0(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Vd(e,t.child,null,i),e.child=Vd(e,null,n,i)):fr(t,e,n,i),e.memoizedState=s.state,t=e.child):t=io(t,e,i),t}function u4(t,e,n,r){return Rp(),e.flags|=256,fr(t,e,n,r),e.child}var H1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V1(t){return{baseLanes:t,cachePool:C_()}}function G1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ji),t}function y6(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Zn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(i?$o(e):Ko(),qt){var o=Tn,c;if(c=o){e:{for(c=o,o=ra;c.nodeType!==8;){if(!o){o=null;break e}if(c=Es(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:Sc!==null?{id:Xa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},c=ji(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,qr=e,Tn=null,c=!0):c=!1}c||Ec(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return U2(o)?e.lanes=32:e.lanes=536870912,null;Ka(e)}return o=r.children,r=r.fallback,i?(Ko(),i=e.mode,o=q0({mode:"hidden",children:o},i),r=wc(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=V1(n),i.childLanes=G1(t,a,n),e.memoizedState=H1,r):($o(e),k2(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(s)e.flags&256?($o(e),e.flags&=-257,e=Y1(t,e,n)):e.memoizedState!==null?(Ko(),e.child=t.child,e.flags|=128,e=null):(Ko(),i=r.fallback,o=e.mode,r=q0({mode:"visible",children:r.children},o),i=wc(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Vd(e,t.child,null,n),r=e.child,r.memoizedState=V1(n),r.childLanes=G1(t,a,n),e.memoizedState=H1,e=i);else if($o(e),U2(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(Re(419)),r.stack="",r.digest=a,Jf({value:r,source:null,stack:null}),e=Y1(t,e,n)}else if(lr||Fp(t,e,n,!1),a=(n&t.childLanes)!==0,lr||a){if(a=cn,a!==null&&(r=n&-n,r=r&42?1:N5(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,ch(t,r),Ti(a,t,r),g6;o.data==="$?"||P2(),e=Y1(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Tn=Es(o.nextSibling),qr=e,qt=!0,jc=null,ra=!1,t!==null&&(Wi[$i++]=Xa,Wi[$i++]=Wa,Wi[$i++]=Sc,Xa=t.id,Wa=t.overflow,Sc=e),e=k2(e,r.children),e.flags|=4096);return e}return i?(Ko(),i=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=Za(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Za(u,i):(i=wc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=V1(n):(c=o.cachePool,c!==null?(u=Qn._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=C_(),o={baseLanes:o.baseLanes|n,cachePool:c}),i.memoizedState=o,i.childLanes=G1(t,a,n),e.memoizedState=H1,r):($o(e),n=t.child,t=n.sibling,n=Za(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function k2(t,e){return e=q0({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function q0(t,e){return t=ji(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Y1(t,e,n){return Vd(e,t.child,null,n),t=k2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g2(t.return,e,n)}function X1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function b6(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fr(t,e,r.children,n),r=Zn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d4(t,n,e);else if(t.tag===19)d4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(gn(Zn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&I0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),X1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&I0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}X1(e,!0,n,null,s);break;case"together":X1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function io(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_l|=e.lanes,!(n&e.childLanes))if(t!==null){if(Fp(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=Za(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Za(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ew(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&M0(t)))}function fD(t,e,n){switch(e.tag){case 3:C0(e,e.stateNode.containerInfo),Wo(e,Qn,t.memoizedState.cache),Rp();break;case 27:case 5:i2(e);break;case 4:C0(e,e.stateNode.containerInfo);break;case 10:Wo(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?($o(e),e.flags|=128,null):n&e.child.childLanes?y6(t,e,n):($o(e),t=io(t,e,n),t!==null?t.sibling:null);$o(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Fp(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return b6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Zn,Zn.current),r)break;return null;case 22:case 23:return e.lanes=0,x6(t,e,n);case 24:Wo(e,Qn,t.memoizedState.cache)}return io(t,e,n)}function w6(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)lr=!0;else{if(!ew(t,n)&&!(e.flags&128))return lr=!1,fD(t,e,n);lr=!!(t.flags&131072)}else lr=!1,qt&&e.flags&1048576&&j_(e,L0,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")P5(r)?(t=Mc(r,t),e.tag=1,e=c4(null,e,r,t,n)):(e.tag=0,e=T2(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===w5){e.tag=11,e=s4(null,e,r,t,n);break e}else if(i===S5){e.tag=14,e=a4(null,e,r,t,n);break e}}throw e=n2(r)||r,Error(Re(306,e,""))}}return e;case 0:return T2(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Mc(r,e.pendingProps),c4(t,e,r,i,n);case 3:e:{if(C0(e,e.stateNode.containerInfo),t===null)throw Error(Re(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,b2(t,e),Pf(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Wo(e,Qn,r),r!==s.cache&&v2(e,[Qn],n,!0),Df(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=u4(t,e,r,n);break e}else if(r!==i){i=Qi(Error(Re(424)),e),Jf(i),e=u4(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tn=Es(t.firstChild),qr=e,qt=!0,jc=null,ra=!0,n=c6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Rp(),r===i){e=io(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 26:return t0(t,e),t===null?(n=T4(e.type,null,e.pendingProps,null))?e.memoizedState=n:qt||(n=e.type,t=e.pendingProps,r=W0(fl.current).createElement(n),r[kr]=e,r[li]=t,xr(r,n,t),or(r),e.stateNode=r):e.memoizedState=T4(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return i2(e),t===null&&qt&&(r=e.stateNode=oA(e.type,e.pendingProps,fl.current),qr=e,ra=!0,i=Tn,Pl(e.type)?(H2=i,Tn=Es(r.firstChild)):Tn=i),fr(t,e,e.pendingProps.children,n),t0(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((i=r=Tn)&&(r=qD(r,e.type,e.pendingProps,ra),r!==null?(e.stateNode=r,qr=e,Tn=Es(r.firstChild),ra=!1,i=!0):i=!1),i||Ec(e)),i2(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,B2(i,s)?r=null:a!==null&&B2(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=H5(t,e,sD,null,null,n),sp._currentValue=i),t0(t,e),fr(t,e,r,n),e.child;case 6:return t===null&&qt&&((t=n=Tn)&&(n=UD(n,e.pendingProps,ra),n!==null?(e.stateNode=n,qr=e,Tn=null,t=!0):t=!1),t||Ec(e)),null;case 13:return y6(t,e,n);case 4:return C0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vd(e,null,r,n):fr(t,e,r,n),e.child;case 11:return s4(t,e,e.type,e.pendingProps,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Wo(e,e.type,r.value),fr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Oc(e),i=Er(i),r=r(i),e.flags|=1,fr(t,e,r,n),e.child;case 14:return a4(t,e,e.type,e.pendingProps,n);case 15:return v6(t,e,e.type,e.pendingProps,n);case 19:return b6(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=q0(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Za(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return x6(t,e,n);case 24:return Oc(e),r=Er(Qn),t===null?(i=z5(),i===null&&(i=cn,s=I5(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},B5(e),Wo(e,Qn,i)):(t.lanes&n&&(b2(t,e),Pf(e,null,null,n),Df()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Wo(e,Qn,r)):(r=s.cache,Wo(e,Qn,r),r!==i.cache&&v2(e,[Qn],n,!0))),fr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Re(156,e.tag))}function Ra(t){t.flags|=4}function h4(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!uA(e)){if(e=es.current,e!==null&&((Rt&4194048)===Rt?fa!==null:(Rt&62914560)!==Rt&&!(Rt&536870912)||e!==fa))throw Lf=y2,__;t.flags|=8192}}function ng(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?XC():536870912,t.lanes|=e,Gd|=e)}function lf(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pD(t,e,n){var r=e.pendingProps;switch(F5(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return yn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ja(Qn),Id(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(af(e)?Ra(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,U3())),yn(e),null;case 26:return n=e.memoizedState,t===null?(Ra(e),n!==null?(yn(e),h4(e,n)):(yn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ra(e),yn(e),h4(e,n)):(yn(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ra(e),yn(e),e.flags&=-16777217),null;case 27:_0(e),n=fl.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ra(e);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return yn(e),null}t=da.current,af(e)?B3(e):(t=oA(i,r,n),e.stateNode=t,Ra(e))}return yn(e),null;case 5:if(_0(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ra(e);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return yn(e),null}if(t=da.current,af(e))B3(e);else{switch(i=W0(fl.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[kr]=e,t[li]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(xr(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ra(e)}}return yn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ra(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(t=fl.current,af(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=qr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[kr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||iA(t.nodeValue,n)),t||Ec(e)}else t=W0(t).createTextNode(r),t[kr]=e,e.stateNode=t}return yn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[kr]=e}else Rp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),i=!1}else i=U3(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ka(e),e):(Ka(e),null)}if(Ka(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),ng(e,e.updateQueue),yn(e),null;case 4:return Id(),t===null&&lw(e.stateNode.containerInfo),yn(e),null;case 10:return Ja(e.type),yn(e),null;case 19:if(cr(Zn),i=e.memoizedState,i===null)return yn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)lf(i,!1);else{if(kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=I0(t),s!==null){for(e.flags|=128,lf(i,!1),t=s.updateQueue,e.updateQueue=t,ng(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)S_(n,t),n=n.sibling;return gn(Zn,Zn.current&1|2),e.child}t=t.sibling}i.tail!==null&&ha()>H0&&(e.flags|=128,r=!0,lf(i,!1),e.lanes=4194304)}else{if(!r)if(t=I0(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,ng(e,t),lf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!qt)return yn(e),null}else 2*ha()-i.renderingStartTime>H0&&n!==536870912&&(e.flags|=128,r=!0,lf(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ha(),e.sibling=null,t=Zn.current,gn(Zn,r?t&1|2:t&1),e):(yn(e),null);case 22:case 23:return Ka(e),q5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),n=e.updateQueue,n!==null&&ng(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&cr(Nc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ja(Qn),yn(e),null;case 25:return null;case 30:return null}throw Error(Re(156,e.tag))}function mD(t,e){switch(F5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ja(Qn),Id(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return _0(e),null;case 13:if(Ka(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Rp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(Zn),null;case 4:return Id(),null;case 10:return Ja(e.type),null;case 22:case 23:return Ka(e),q5(),t!==null&&cr(Nc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ja(Qn),null;case 25:return null;default:return null}}function S6(t,e){switch(F5(e),e.tag){case 3:Ja(Qn),Id();break;case 26:case 27:case 5:_0(e);break;case 4:Id();break;case 13:Ka(e);break;case 19:cr(Zn);break;case 10:Ja(e.type);break;case 22:case 23:Ka(e),q5(),t!==null&&cr(Nc);break;case 24:Ja(Qn)}}function Up(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){sn(e,e.return,o)}}function Cl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var c=n,u=o;try{u()}catch(d){sn(i,c,d)}}}r=r.next}while(r!==s)}}catch(d){sn(e,e.return,d)}}function j6(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{k_(e,n)}catch(r){sn(t,t.return,r)}}}function N6(t,e,n){n.props=Mc(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){sn(t,e,r)}}function Ff(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){sn(t,e,i)}}function aa(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){sn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){sn(t,e,i)}else n.current=null}function C6(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){sn(t,t.return,i)}}function W1(t,e,n){try{var r=t.stateNode;RD(r,t.type,n,e),r[li]=e}catch(i){sn(t,t.return,i)}}function _6(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pl(t.type)||t.tag===4}function $1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gv));else if(r!==4&&(r===27&&Pl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(E2(t,e,n),t=t.sibling;t!==null;)E2(t,e,n),t=t.sibling}function U0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Pl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(U0(t,e,n),t=t.sibling;t!==null;)U0(t,e,n),t=t.sibling}function A6(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);xr(e,r,n),e[kr]=t,e[li]=n}catch(s){sn(t,t.return,s)}}var Ga=!1,Pn=!1,K1=!1,f4=typeof WeakSet=="function"?WeakSet:Set,sr=null;function gD(t,e){if(t=t.containerInfo,I2=Z0,t=p_(t),L5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===n&&++u===i&&(o=a),p===s&&++d===r&&(c=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(z2={focusedElem:t,selectionRange:n},Z0=!1,sr=e;sr!==null;)if(e=sr,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,sr=t;else for(;sr!==null;){switch(e=sr,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var b=Mc(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(b,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(g){sn(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)q2(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":q2(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Re(163))}if(t=e.sibling,t!==null){t.return=e.return,sr=t;break}sr=e.return}}function T6(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Po(t,n),r&4&&Up(5,n);break;case 1:if(Po(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){sn(n,n.return,a)}else{var i=Mc(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){sn(n,n.return,a)}}r&64&&j6(n),r&512&&Ff(n,n.return);break;case 3:if(Po(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{k_(t,e)}catch(a){sn(n,n.return,a)}}break;case 27:e===null&&r&4&&A6(n);case 26:case 5:Po(t,n),e===null&&r&4&&C6(n),r&512&&Ff(n,n.return);break;case 12:Po(t,n);break;case 13:Po(t,n),r&4&&O6(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=CD.bind(null,n),HD(t,n))));break;case 22:if(r=n.memoizedState!==null||Ga,!r){e=e!==null&&e.memoizedState!==null||Pn,i=Ga;var s=Pn;Ga=r,(Pn=e)&&!s?Ho(t,n,(n.subtreeFlags&8772)!==0):Po(t,n),Ga=i,Pn=s}break;case 30:break;default:Po(t,n)}}function k6(t){var e=t.alternate;e!==null&&(t.alternate=null,k6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&_5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fn=null,ti=!1;function Fa(t,e,n){for(n=n.child;n!==null;)E6(t,e,n),n=n.sibling}function E6(t,e,n){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 26:Pn||aa(n,e),Fa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pn||aa(n,e);var r=fn,i=ti;Pl(n.type)&&(fn=n.stateNode,ti=!1),Fa(t,e,n),qf(n.stateNode),fn=r,ti=i;break;case 5:Pn||aa(n,e);case 6:if(r=fn,i=ti,fn=null,Fa(t,e,n),fn=r,ti=i,fn!==null)if(ti)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(n.stateNode)}catch(s){sn(n,e,s)}else try{fn.removeChild(n.stateNode)}catch(s){sn(n,e,s)}break;case 18:fn!==null&&(ti?(t=fn,C4(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),lp(t)):C4(fn,n.stateNode));break;case 4:r=fn,i=ti,fn=n.stateNode.containerInfo,ti=!0,Fa(t,e,n),fn=r,ti=i;break;case 0:case 11:case 14:case 15:Pn||Cl(2,n,e),Pn||Cl(4,n,e),Fa(t,e,n);break;case 1:Pn||(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&N6(n,e,r)),Fa(t,e,n);break;case 21:Fa(t,e,n);break;case 22:Pn=(r=Pn)||n.memoizedState!==null,Fa(t,e,n),Pn=r;break;default:Fa(t,e,n)}}function O6(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lp(t)}catch(n){sn(e,e.return,n)}}function vD(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new f4),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new f4),e;default:throw Error(Re(435,t.tag))}}function Q1(t,e){var n=vD(t);e.forEach(function(r){var i=_D.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Pl(o.type)){fn=o.stateNode,ti=!1;break e}break;case 5:fn=o.stateNode,ti=!1;break e;case 3:case 4:fn=o.stateNode.containerInfo,ti=!0;break e}o=o.return}if(fn===null)throw Error(Re(160));E6(s,a,i),fn=null,ti=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)L6(e,t),e=e.sibling}var js=null;function L6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vi(e,t),xi(t),r&4&&(Cl(3,t,t.return),Up(3,t),Cl(5,t,t.return));break;case 1:vi(e,t),xi(t),r&512&&(Pn||n===null||aa(n,n.return)),r&64&&Ga&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=js;if(vi(e,t),xi(t),r&512&&(Pn||n===null||aa(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Dp]||s[kr]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),xr(s,r,n),s[kr]=t,or(s),r=s;break e;case"link":var a=E4("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),xr(s,r,n),i.head.appendChild(s);break;case"meta":if(a=E4("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),xr(s,r,n),i.head.appendChild(s);break;default:throw Error(Re(468,r))}s[kr]=t,or(s),r=s}t.stateNode=r}else O4(i,t.type,t.stateNode);else t.stateNode=k4(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?O4(i,t.type,t.stateNode):k4(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&W1(t,t.memoizedProps,n.memoizedProps)}break;case 27:vi(e,t),xi(t),r&512&&(Pn||n===null||aa(n,n.return)),n!==null&&r&4&&W1(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vi(e,t),xi(t),r&512&&(Pn||n===null||aa(n,n.return)),t.flags&32){i=t.stateNode;try{Bd(i,"")}catch(f){sn(t,t.return,f)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,W1(t,i,n!==null?n.memoizedProps:i)),r&1024&&(K1=!0);break;case 6:if(vi(e,t),xi(t),r&4){if(t.stateNode===null)throw Error(Re(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(f){sn(t,t.return,f)}}break;case 3:if(i0=null,i=js,js=$0(e.containerInfo),vi(e,t),js=i,xi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lp(e.containerInfo)}catch(f){sn(t,t.return,f)}K1&&(K1=!1,M6(t));break;case 4:r=js,js=$0(t.stateNode.containerInfo),vi(e,t),xi(t),js=r;break;case 12:vi(e,t),xi(t);break;case 13:vi(e,t),xi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(sw=ha()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Q1(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Ga,d=Pn;if(Ga=u||i,Pn=d||c,vi(e,t),Pn=d,Ga=u,xi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Ga||Pn||rc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(f){sn(c,c.return,f)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){sn(c,c.return,f)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Q1(t,n))));break;case 19:vi(e,t),xi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Q1(t,r)));break;case 30:break;case 21:break;default:vi(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(_6(r)){n=r;break}r=r.return}if(n==null)throw Error(Re(160));switch(n.tag){case 27:var i=n.stateNode,s=$1(t);U0(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Bd(a,""),n.flags&=-33);var o=$1(t);U0(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=$1(t);E2(t,u,c);break;default:throw Error(Re(161))}}catch(d){sn(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M6(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;M6(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Po(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)T6(t,e.alternate,e),e=e.sibling}function rc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Cl(4,e,e.return),rc(e);break;case 1:aa(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&N6(e,e.return,n),rc(e);break;case 27:qf(e.stateNode);case 26:case 5:aa(e,e.return),rc(e);break;case 22:e.memoizedState===null&&rc(e);break;case 30:rc(e);break;default:rc(e)}t=t.sibling}}function Ho(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ho(i,s,n),Up(4,s);break;case 1:if(Ho(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){sn(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)T_(c[i],o)}catch(u){sn(r,r.return,u)}}n&&a&64&&j6(s),Ff(s,s.return);break;case 27:A6(s);case 26:case 5:Ho(i,s,n),n&&r===null&&a&4&&C6(s),Ff(s,s.return);break;case 12:Ho(i,s,n);break;case 13:Ho(i,s,n),n&&a&4&&O6(i,s);break;case 22:s.memoizedState===null&&Ho(i,s,n),Ff(s,s.return);break;case 30:break;default:Ho(i,s,n)}e=e.sibling}}function tw(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ip(n))}function nw(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ip(t))}function $s(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D6(t,e,n,r),e=e.sibling}function D6(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:$s(t,e,n,r),i&2048&&Up(9,e);break;case 1:$s(t,e,n,r);break;case 3:$s(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ip(t)));break;case 12:if(i&2048){$s(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){sn(e,e.return,c)}}else $s(t,e,n,r);break;case 13:$s(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?$s(t,e,n,r):If(t,e):s._visibility&2?$s(t,e,n,r):(s._visibility|=2,zu(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&tw(a,e);break;case 24:$s(t,e,n,r),i&2048&&nw(e.alternate,e);break;default:$s(t,e,n,r)}}function zu(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,c=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:zu(s,a,o,c,i),Up(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?zu(s,a,o,c,i):If(s,a):(d._visibility|=2,zu(s,a,o,c,i)),i&&u&2048&&tw(a.alternate,a);break;case 24:zu(s,a,o,c,i),i&&u&2048&&nw(a.alternate,a);break;default:zu(s,a,o,c,i)}e=e.sibling}}function If(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:If(n,r),i&2048&&tw(r.alternate,r);break;case 24:If(n,r),i&2048&&nw(r.alternate,r);break;default:If(n,r)}e=e.sibling}}var jf=8192;function Au(t){if(t.subtreeFlags&jf)for(t=t.child;t!==null;)P6(t),t=t.sibling}function P6(t){switch(t.tag){case 26:Au(t),t.flags&jf&&t.memoizedState!==null&&nP(js,t.memoizedState,t.memoizedProps);break;case 5:Au(t);break;case 3:case 4:var e=js;js=$0(t.stateNode.containerInfo),Au(t),js=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=jf,jf=16777216,Au(t),jf=e):Au(t));break;default:Au(t)}}function R6(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function cf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];sr=r,I6(r,t)}R6(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F6(t),t=t.sibling}function F6(t){switch(t.tag){case 0:case 11:case 15:cf(t),t.flags&2048&&Cl(9,t,t.return);break;case 3:cf(t);break;case 12:cf(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,n0(t)):cf(t);break;default:cf(t)}}function n0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];sr=r,I6(r,t)}R6(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Cl(8,e,e.return),n0(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,n0(e));break;default:n0(e)}t=t.sibling}}function I6(t,e){for(;sr!==null;){var n=sr;switch(n.tag){case 0:case 11:case 15:Cl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ip(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,sr=r;else e:for(n=t;sr!==null;){r=sr;var i=r.sibling,s=r.return;if(k6(r),r===n){sr=null;break e}if(i!==null){i.return=s,sr=i;break e}sr=s}}}var xD={getCacheForType:function(t){var e=Er(Qn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},yD=typeof WeakMap=="function"?WeakMap:Map,Kt=0,cn=null,Tt=null,Rt=0,$t=0,bi=null,cl=!1,uh=!1,rw=!1,so=0,kn=0,_l=0,Cc=0,iw=0,Ji=0,Gd=0,zf=null,ni=null,O2=!1,sw=0,H0=1/0,V0=null,gl=null,mr=0,vl=null,Yd=null,pd=0,L2=0,M2=null,z6=null,Bf=0,D2=null;function Ai(){if(Kt&2&&Rt!==0)return Rt&-Rt;if(ft.T!==null){var t=qd;return t!==0?t:ow()}return KC()}function B6(){Ji===0&&(Ji=!(Rt&536870912)||qt?YC():536870912);var t=es.current;return t!==null&&(t.flags|=32),Ji}function Ti(t,e,n){(t===cn&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Xd(t,0),ul(t,Rt,Ji,!1)),Mp(t,n),(!(Kt&2)||t!==cn)&&(t===cn&&(!(Kt&2)&&(Cc|=n),kn===4&&ul(t,Rt,Ji,!1)),ya(t))}function q6(t,e,n){if(Kt&6)throw Error(Re(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Lp(t,e),i=r?SD(t,e):Z1(t,e,!0),s=r;do{if(i===0){uh&&!r&&ul(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!bD(n)){i=Z1(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=zf;var c=o.current.memoizedState.isDehydrated;if(c&&(Xd(o,a).flags|=256),a=Z1(o,a,!1),a!==2){if(rw&&!c){o.errorRecoveryDisabledLanes|=s,Cc|=s,i=4;break e}s=ni,ni=i,s!==null&&(ni===null?ni=s:ni.push.apply(ni,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Xd(t,0),ul(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Re(345));case 4:if((e&4194048)!==e)break;case 6:ul(r,e,Ji,!cl);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(Re(329))}if((e&62914560)===e&&(i=sw+300-ha(),10<i)){if(ul(r,e,Ji,!cl),Lv(r,0,!0)!==0)break e;r.timeoutHandle=aA(p4.bind(null,r,n,ni,V0,O2,e,Ji,Cc,Gd,cl,s,2,-0,0),i);break e}p4(r,n,ni,V0,O2,e,Ji,Cc,Gd,cl,s,0,-0,0)}}break}while(!0);ya(t)}function p4(t,e,n,r,i,s,a,o,c,u,d,h,p,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(ip={stylesheets:null,count:0,unsuspend:tP},P6(e),h=rP(),h!==null)){t.cancelPendingCommit=h(g4.bind(null,t,e,s,n,r,i,a,o,c,d,1,p,f)),ul(t,s,a,!u);return}g4(t,e,s,n,r,i,a,o,c)}function bD(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ul(t,e,n,r){e&=~iw,e&=~Cc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-_i(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&WC(t,n,e)}function Uv(){return Kt&6?!0:(Hp(0),!1)}function aw(){if(Tt!==null){if($t===0)var t=Tt.return;else t=Tt,$a=Yc=null,Y5(t),fd=null,tp=0,t=Tt;for(;t!==null;)S6(t.alternate,t),t=t.return;Tt=null}}function Xd(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,ID(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),aw(),cn=t,Tt=n=Za(t.current,null),Rt=e,$t=0,bi=null,cl=!1,uh=Lp(t,e),rw=!1,Gd=Ji=iw=Cc=_l=kn=0,ni=zf=null,O2=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-_i(r),s=1<<i;e|=t[i],r&=~s}return so=e,Rv(),n}function U6(t,e){jt=null,ft.H=F0,e===zp||e===Iv?(e=Y3(),$t=3):e===__?(e=Y3(),$t=4):$t=e===g6?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bi=e,Tt===null&&(kn=1,B0(t,Qi(e,t.current)))}function H6(){var t=ft.H;return ft.H=F0,t===null?F0:t}function V6(){var t=ft.A;return ft.A=xD,t}function P2(){kn=4,cl||(Rt&4194048)!==Rt&&es.current!==null||(uh=!0),!(_l&134217727)&&!(Cc&134217727)||cn===null||ul(cn,Rt,Ji,!1)}function Z1(t,e,n){var r=Kt;Kt|=2;var i=H6(),s=V6();(cn!==t||Rt!==e)&&(V0=null,Xd(t,e)),e=!1;var a=kn;e:do try{if($t!==0&&Tt!==null){var o=Tt,c=bi;switch($t){case 8:aw(),a=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(e=!0);var u=$t;if($t=0,bi=null,nd(t,o,c,u),n&&uh){a=0;break e}break;default:u=$t,$t=0,bi=null,nd(t,o,c,u)}}wD(),a=kn;break}catch(d){U6(t,d)}while(!0);return e&&t.shellSuspendCounter++,$a=Yc=null,Kt=r,ft.H=i,ft.A=s,Tt===null&&(cn=null,Rt=0,Rv()),a}function wD(){for(;Tt!==null;)G6(Tt)}function SD(t,e){var n=Kt;Kt|=2;var r=H6(),i=V6();cn!==t||Rt!==e?(V0=null,H0=ha()+500,Xd(t,e)):uh=Lp(t,e);e:do try{if($t!==0&&Tt!==null){e=Tt;var s=bi;t:switch($t){case 1:$t=0,bi=null,nd(t,e,s,1);break;case 2:case 9:if(G3(s)){$t=0,bi=null,m4(e);break}e=function(){$t!==2&&$t!==9||cn!==t||($t=7),ya(t)},s.then(e,e);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:G3(s)?($t=0,bi=null,m4(e)):($t=0,bi=null,nd(t,e,s,7));break;case 5:var a=null;switch(Tt.tag){case 26:a=Tt.memoizedState;case 5:case 27:var o=Tt;if(!a||uA(a)){$t=0,bi=null;var c=o.sibling;if(c!==null)Tt=c;else{var u=o.return;u!==null?(Tt=u,Hv(u)):Tt=null}break t}}$t=0,bi=null,nd(t,e,s,5);break;case 6:$t=0,bi=null,nd(t,e,s,6);break;case 8:aw(),kn=6;break e;default:throw Error(Re(462))}}jD();break}catch(d){U6(t,d)}while(!0);return $a=Yc=null,ft.H=r,ft.A=i,Kt=n,Tt!==null?0:(cn=null,Rt=0,Rv(),kn)}function jD(){for(;Tt!==null&&!GL();)G6(Tt)}function G6(t){var e=w6(t.alternate,t,so);t.memoizedProps=t.pendingProps,e===null?Hv(t):Tt=e}function m4(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=l4(n,e,e.pendingProps,e.type,void 0,Rt);break;case 11:e=l4(n,e,e.pendingProps,e.type.render,e.ref,Rt);break;case 5:Y5(e);default:S6(n,e),e=Tt=S_(e,so),e=w6(n,e,so)}t.memoizedProps=t.pendingProps,e===null?Hv(t):Tt=e}function nd(t,e,n,r){$a=Yc=null,Y5(e),fd=null,tp=0;var i=e.return;try{if(hD(t,i,e,n,Rt)){kn=1,B0(t,Qi(n,t.current)),Tt=null;return}}catch(s){if(i!==null)throw Tt=i,s;kn=1,B0(t,Qi(n,t.current)),Tt=null;return}e.flags&32768?(qt||r===1?t=!0:uh||Rt&536870912?t=!1:(cl=t=!0,(r===2||r===9||r===3||r===6)&&(r=es.current,r!==null&&r.tag===13&&(r.flags|=16384))),Y6(e,t)):Hv(e)}function Hv(t){var e=t;do{if(e.flags&32768){Y6(e,cl);return}t=e.return;var n=pD(e.alternate,e,so);if(n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);kn===0&&(kn=5)}function Y6(t,e){do{var n=mD(t.alternate,t);if(n!==null){n.flags&=32767,Tt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Tt=t;return}Tt=t=n}while(t!==null);kn=6,Tt=null}function g4(t,e,n,r,i,s,a,o,c){t.cancelPendingCommit=null;do Vv();while(mr!==0);if(Kt&6)throw Error(Re(327));if(e!==null){if(e===t.current)throw Error(Re(177));if(s=e.lanes|e.childLanes,s|=M5,tM(t,n,s,a,o,c),t===cn&&(Tt=cn=null,Rt=0),Yd=e,vl=t,pd=n,L2=s,M2=i,z6=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,AD(A0,function(){return Q6(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ft.T,ft.T=null,i=Ut.p,Ut.p=2,a=Kt,Kt|=4;try{gD(t,e,n)}finally{Kt=a,Ut.p=i,ft.T=r}}mr=1,X6(),W6(),$6()}}function X6(){if(mr===1){mr=0;var t=vl,e=Yd,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ft.T,ft.T=null;var r=Ut.p;Ut.p=2;var i=Kt;Kt|=4;try{L6(e,t);var s=z2,a=p_(t.containerInfo),o=s.focusedElem,c=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&f_(o.ownerDocument.documentElement,o)){if(c!==null&&L5(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var f=p.getSelection(),b=o.textContent.length,g=Math.min(c.start,b),w=c.end===void 0?g:Math.min(c.end,b);!f.extend&&g>w&&(a=w,w=g,g=a);var x=F3(o,g),y=F3(o,w);if(x&&y&&(f.rangeCount!==1||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var N=h.createRange();N.setStart(x.node,x.offset),f.removeAllRanges(),g>w?(f.addRange(N),f.extend(y.node,y.offset)):(N.setEnd(y.node,y.offset),f.addRange(N))}}}}for(h=[],f=o;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var A=h[o];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Z0=!!I2,z2=I2=null}finally{Kt=i,Ut.p=r,ft.T=n}}t.current=e,mr=2}}function W6(){if(mr===2){mr=0;var t=vl,e=Yd,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ft.T,ft.T=null;var r=Ut.p;Ut.p=2;var i=Kt;Kt|=4;try{T6(t,e.alternate,e)}finally{Kt=i,Ut.p=r,ft.T=n}}mr=3}}function $6(){if(mr===4||mr===3){mr=0,YL();var t=vl,e=Yd,n=pd,r=z6;e.subtreeFlags&10256||e.flags&10256?mr=5:(mr=0,Yd=vl=null,K6(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(gl=null),C5(n),e=e.stateNode,Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(Op,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ft.T,i=Ut.p,Ut.p=2,ft.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{ft.T=e,Ut.p=i}}pd&3&&Vv(),ya(t),i=t.pendingLanes,n&4194090&&i&42?t===D2?Bf++:(Bf=0,D2=t):Bf=0,Hp(0)}}function K6(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ip(e)))}function Vv(t){return X6(),W6(),$6(),Q6()}function Q6(){if(mr!==5)return!1;var t=vl,e=L2;L2=0;var n=C5(pd),r=ft.T,i=Ut.p;try{Ut.p=32>n?32:n,ft.T=null,n=M2,M2=null;var s=vl,a=pd;if(mr=0,Yd=vl=null,pd=0,Kt&6)throw Error(Re(331));var o=Kt;if(Kt|=4,F6(s.current),D6(s,s.current,a,n),Kt=o,Hp(0,!1),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(Op,s)}catch{}return!0}finally{Ut.p=i,ft.T=r,K6(t,e)}}function v4(t,e,n){e=Qi(n,e),e=A2(t.stateNode,e,2),t=ml(t,e,2),t!==null&&(Mp(t,2),ya(t))}function sn(t,e,n){if(t.tag===3)v4(t,t,n);else for(;e!==null;){if(e.tag===3){v4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gl===null||!gl.has(r))){t=Qi(n,t),n=p6(2),r=ml(e,n,2),r!==null&&(m6(n,r,e,t),Mp(r,2),ya(r));break}}e=e.return}}function J1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(rw=!0,i.add(n),t=ND.bind(null,t,e,n),e.then(t,t))}function ND(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,cn===t&&(Rt&n)===n&&(kn===4||kn===3&&(Rt&62914560)===Rt&&300>ha()-sw?!(Kt&2)&&Xd(t,0):iw|=n,Gd===Rt&&(Gd=0)),ya(t)}function Z6(t,e){e===0&&(e=XC()),t=ch(t,e),t!==null&&(Mp(t,e),ya(t))}function CD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z6(t,n)}function _D(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Re(314))}r!==null&&r.delete(e),Z6(t,n)}function AD(t,e){return j5(t,e)}var G0=null,Bu=null,R2=!1,Y0=!1,ey=!1,_c=0;function ya(t){t!==Bu&&t.next===null&&(Bu===null?G0=Bu=t:Bu=Bu.next=t),Y0=!0,R2||(R2=!0,kD())}function Hp(t,e){if(!ey&&Y0){ey=!0;do for(var n=!1,r=G0;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-_i(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,x4(r,s))}else s=Rt,s=Lv(r,r===cn?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Lp(r,s)||(n=!0,x4(r,s));r=r.next}while(n);ey=!1}}function TD(){J6()}function J6(){Y0=R2=!1;var t=0;_c!==0&&(FD()&&(t=_c),_c=0);for(var e=ha(),n=null,r=G0;r!==null;){var i=r.next,s=eA(r,e);s===0?(r.next=null,n===null?G0=i:n.next=i,i===null&&(Bu=n)):(n=r,(t!==0||s&3)&&(Y0=!0)),r=i}Hp(t)}function eA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-_i(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=eM(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}if(e=cn,n=Rt,n=Lv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&($t===2||$t===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&_1(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Lp(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&_1(r),C5(n)){case 2:case 8:n=VC;break;case 32:n=A0;break;case 268435456:n=GC;break;default:n=A0}return r=tA.bind(null,t),n=j5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&_1(r),t.callbackPriority=2,t.callbackNode=null,2}function tA(t,e){if(mr!==0&&mr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Vv()&&t.callbackNode!==n)return null;var r=Rt;return r=Lv(t,t===cn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(q6(t,r,e),eA(t,ha()),t.callbackNode!=null&&t.callbackNode===n?tA.bind(null,t):null)}function x4(t,e){if(Vv())return null;q6(t,e,!0)}function kD(){zD(function(){Kt&6?j5(HC,TD):J6()})}function ow(){return _c===0&&(_c=YC()),_c}function y4(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wg(""+t)}function b4(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ED(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=y4((i[li]||null).action),a=r.submitter;a&&(e=(e=a[li]||null)?y4(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Mv("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_c!==0){var c=a?b4(i,a):new FormData(i);C2(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(o.preventDefault(),c=a?b4(i,a):new FormData(i),C2(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var ty=0;ty<f2.length;ty++){var ny=f2[ty],OD=ny.toLowerCase(),LD=ny[0].toUpperCase()+ny.slice(1);Ds(OD,"on"+LD)}Ds(g_,"onAnimationEnd");Ds(v_,"onAnimationIteration");Ds(x_,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds($M,"onTransitionRun");Ds(KM,"onTransitionStart");Ds(QM,"onTransitionCancel");Ds(y_,"onTransitionEnd");zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(np));function nA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){z0(d)}i.currentTarget=null,s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){z0(d)}i.currentTarget=null,s=c}}}}function At(t,e){var n=e[a2];n===void 0&&(n=e[a2]=new Set);var r=t+"__bubble";n.has(r)||(rA(e,t,2,!1),n.add(r))}function ry(t,e,n){var r=0;e&&(r|=4),rA(n,t,r,e)}var rg="_reactListening"+Math.random().toString(36).slice(2);function lw(t){if(!t[rg]){t[rg]=!0,QC.forEach(function(n){n!=="selectionchange"&&(MD.has(n)||ry(n,!1,t),ry(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rg]||(e[rg]=!0,ry("selectionchange",!1,e))}}function rA(t,e,n,r){switch(mA(e)){case 2:var i=aP;break;case 8:i=oP;break;default:i=hw}n=i.bind(null,e,n,t),i=void 0,!u2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function iy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Xu(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=s=a;continue e}o=o.parentNode}}r=r.return}s_(function(){var u=s,d=T5(n),h=[];e:{var p=b_.get(t);if(p!==void 0){var f=Mv,b=t;switch(t){case"keypress":if(Kg(n)===0)break e;case"keydown":case"keyup":f=AM;break;case"focusin":b="focus",f=D1;break;case"focusout":b="blur",f=D1;break;case"beforeblur":case"afterblur":f=D1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=A3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=mM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=EM;break;case g_:case v_:case x_:f=xM;break;case y_:f=LM;break;case"scroll":case"scrollend":f=fM;break;case"wheel":f=DM;break;case"copy":case"cut":case"paste":f=bM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=k3;break;case"toggle":case"beforetoggle":f=RM}var g=(e&4)!==0,w=!g&&(t==="scroll"||t==="scrollend"),x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,N;y!==null;){var A=y;if(N=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||N===null||x===null||(A=Kf(y,x),A!=null&&g.push(rp(y,A,N))),w)break;y=y.return}0<g.length&&(p=new f(p,b,null,n,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==c2&&(b=n.relatedTarget||n.fromElement)&&(Xu(b)||b[oh]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=n.relatedTarget||n.toElement,f=u,b=b?Xu(b):null,b!==null&&(w=Ep(b),g=b.tag,b!==w||g!==5&&g!==27&&g!==6)&&(b=null)):(f=null,b=u),f!==b)){if(g=A3,A="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=k3,A="onPointerLeave",x="onPointerEnter",y="pointer"),w=f==null?p:Sf(f),N=b==null?p:Sf(b),p=new g(A,y+"leave",f,n,d),p.target=w,p.relatedTarget=N,A=null,Xu(d)===u&&(g=new g(x,y+"enter",b,n,d),g.target=N,g.relatedTarget=w,A=g),w=A,f&&b)t:{for(g=f,x=b,y=0,N=g;N;N=Tu(N))y++;for(N=0,A=x;A;A=Tu(A))N++;for(;0<y-N;)g=Tu(g),y--;for(;0<N-y;)x=Tu(x),N--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Tu(g),x=Tu(x)}g=null}else g=null;f!==null&&w4(h,p,f,g,!1),b!==null&&w!==null&&w4(h,w,b,g,!0)}}e:{if(p=u?Sf(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var k=M3;else if(L3(p))if(d_)k=YM;else{k=VM;var E=HM}else f=p.nodeName,!f||f.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&A5(u.elementType)&&(k=M3):k=GM;if(k&&(k=k(t,u))){u_(h,k,n,d);break e}E&&E(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&l2(p,"number",p.value)}switch(E=u?Sf(u):window,t){case"focusin":(L3(E)||E.contentEditable==="true")&&(Ku=E,d2=u,Ef=null);break;case"focusout":Ef=d2=Ku=null;break;case"mousedown":h2=!0;break;case"contextmenu":case"mouseup":case"dragend":h2=!1,I3(h,n,d);break;case"selectionchange":if(WM)break;case"keydown":case"keyup":I3(h,n,d)}var R;if(O5)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else $u?l_(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(o_&&n.locale!=="ko"&&($u||O!=="onCompositionStart"?O==="onCompositionEnd"&&$u&&(R=a_()):(ll=d,k5="value"in ll?ll.value:ll.textContent,$u=!0)),E=X0(u,O),0<E.length&&(O=new T3(O,t,null,n,d),h.push({event:O,listeners:E}),R?O.data=R:(R=c_(n),R!==null&&(O.data=R)))),(R=IM?zM(t,n):BM(t,n))&&(O=X0(u,"onBeforeInput"),0<O.length&&(E=new T3("onBeforeInput","beforeinput",null,n,d),h.push({event:E,listeners:O}),E.data=R)),ED(h,t,u,n,d)}nA(h,e)})}function rp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function X0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Kf(t,n),i!=null&&r.unshift(rp(t,i,s)),i=Kf(t,e),i!=null&&r.push(rp(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w4(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,i?(u=Kf(n,s),u!=null&&a.unshift(rp(n,u,c))):i||(u=Kf(n,s),u!=null&&a.push(rp(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DD=/\r\n?/g,PD=/\u0000|\uFFFD/g;function S4(t){return(typeof t=="string"?t:""+t).replace(DD,`
`).replace(PD,"")}function iA(t,e){return e=S4(e),S4(t)===e}function Gv(){}function en(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Bd(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Bd(t,""+r);break;case"className":Km(t,"class",r);break;case"tabIndex":Km(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Km(t,n,r);break;case"style":i_(t,r,s);break;case"data":if(e!=="object"){Km(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Wg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&en(t,e,"name",i.name,i,null),en(t,e,"formEncType",i.formEncType,i,null),en(t,e,"formMethod",i.formMethod,i,null),en(t,e,"formTarget",i.formTarget,i,null)):(en(t,e,"encType",i.encType,i,null),en(t,e,"method",i.method,i,null),en(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Wg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Gv);break;case"onScroll":r!=null&&At("scroll",t);break;case"onScrollEnd":r!=null&&At("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Re(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Re(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Wg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":At("beforetoggle",t),At("toggle",t),Xg(t,"popover",r);break;case"xlinkActuate":Pa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=dM.get(n)||n,Xg(t,n,r))}}function F2(t,e,n,r,i,s){switch(n){case"style":i_(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Re(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Re(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Bd(t,r):(typeof r=="number"||typeof r=="bigint")&&Bd(t,""+r);break;case"onScroll":r!=null&&At("scroll",t);break;case"onScrollEnd":r!=null&&At("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Gv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[li]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Xg(t,n,r)}}}function xr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",t),At("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Re(137,e));default:en(t,e,s,a,n,null)}}i&&en(t,e,"srcSet",n.srcSet,n,null),r&&en(t,e,"src",n.src,n,null);return;case"input":At("invalid",t);var o=s=a=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Re(137,e));break;default:en(t,e,r,d,n,null)}}t_(t,s,o,c,u,a,i,!1),T0(t);return;case"select":At("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:en(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?ld(t,!!r,e,!1):n!=null&&ld(t,!!r,n,!0);return;case"textarea":At("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Re(91));break;default:en(t,e,a,o,n,null)}r_(t,r,i,s),T0(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:en(t,e,c,r,n,null)}return;case"dialog":At("beforetoggle",t),At("toggle",t),At("cancel",t),At("close",t);break;case"iframe":case"object":At("load",t);break;case"video":case"audio":for(r=0;r<np.length;r++)At(np[r],t);break;case"image":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"embed":case"source":case"link":At("error",t),At("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Re(137,e));default:en(t,e,u,r,n,null)}return;default:if(A5(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&F2(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&en(t,e,o,r,n,null))}function RD(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||en(t,e,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(f!=null||h!=null))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(Re(137,e));break;default:f!==h&&en(t,e,p,f,r,h)}}o2(t,a,o,c,u,d,s,i);return;case"select":f=a=o=p=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(s)||en(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==c&&en(t,e,i,s,r,c)}e=o,n=a,r=f,p!=null?ld(t,!!n,p,!1):!!r!=!!n&&(e!=null?ld(t,!!n,e,!0):ld(t,!!n,n?[]:"",!1));return;case"textarea":f=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:en(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Re(91));break;default:i!==s&&en(t,e,a,i,r,s)}n_(t,p,f);return;case"option":for(var b in n)if(p=n[b],n.hasOwnProperty(b)&&p!=null&&!r.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:en(t,e,b,null,r,p)}for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(p!=null||f!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:en(t,e,c,p,r,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&en(t,e,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(p!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Re(137,e));break;default:en(t,e,u,p,r,f)}return;default:if(A5(e)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!r.hasOwnProperty(w)&&F2(t,e,w,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||p===void 0&&f===void 0||F2(t,e,d,p,r,f);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&p!=null&&!r.hasOwnProperty(x)&&en(t,e,x,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||p==null&&f==null||en(t,e,h,p,r,f)}var I2=null,z2=null;function W0(t){return t.nodeType===9?t:t.ownerDocument}function j4(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function B2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sy=null;function FD(){var t=window.event;return t&&t.type==="popstate"?t===sy?!1:(sy=t,!0):(sy=null,!1)}var aA=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0,N4=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof N4<"u"?function(t){return N4.resolve(null).then(t).catch(BD)}:aA;function BD(t){setTimeout(function(){throw t})}function Pl(t){return t==="head"}function C4(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&qf(a.documentElement),n&2&&qf(a.body),n&4)for(n=a.head,qf(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[Dp]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),lp(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);lp(e)}function q2(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":q2(n),_5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function qD(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Dp])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Es(t.nextSibling),t===null)break}return null}function UD(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Es(t.nextSibling),t===null))return null;return t}function U2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function HD(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var H2=null;function _4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function oA(t,e,n){switch(e=W0(n),t){case"html":if(t=e.documentElement,!t)throw Error(Re(452));return t;case"head":if(t=e.head,!t)throw Error(Re(453));return t;case"body":if(t=e.body,!t)throw Error(Re(454));return t;default:throw Error(Re(451))}}function qf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);_5(t)}var ts=new Map,A4=new Set;function $0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var go=Ut.d;Ut.d={f:VD,r:GD,D:YD,C:XD,L:WD,m:$D,X:QD,S:KD,M:ZD};function VD(){var t=go.f(),e=Uv();return t||e}function GD(t){var e=lh(t);e!==null&&e.tag===5&&e.type==="form"?e6(e):go.r(t)}var dh=typeof document>"u"?null:document;function lA(t,e,n){var r=dh;if(r&&typeof e=="string"&&e){var i=Ki(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),A4.has(i)||(A4.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),xr(e,"link",t),or(e),r.head.appendChild(e)))}}function YD(t){go.D(t),lA("dns-prefetch",t,null)}function XD(t,e){go.C(t,e),lA("preconnect",t,e)}function WD(t,e,n){go.L(t,e,n);var r=dh;if(r&&t&&e){var i='link[rel="preload"][as="'+Ki(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ki(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ki(n.imageSizes)+'"]')):i+='[href="'+Ki(t)+'"]';var s=i;switch(e){case"style":s=Wd(t);break;case"script":s=hh(t)}ts.has(s)||(t=hn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ts.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Vp(s))||e==="script"&&r.querySelector(Gp(s))||(e=r.createElement("link"),xr(e,"link",t),or(e),r.head.appendChild(e)))}}function $D(t,e){go.m(t,e);var n=dh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ki(r)+'"][href="'+Ki(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=hh(t)}if(!ts.has(s)&&(t=hn({rel:"modulepreload",href:t},e),ts.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Gp(s)))return}r=n.createElement("link"),xr(r,"link",t),or(r),n.head.appendChild(r)}}}function KD(t,e,n){go.S(t,e,n);var r=dh;if(r&&t){var i=od(r).hoistableStyles,s=Wd(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Vp(s)))o.loading=5;else{t=hn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ts.get(s))&&cw(t,n);var c=a=r.createElement("link");or(c),xr(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,r0(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function QD(t,e){go.X(t,e);var n=dh;if(n&&t){var r=od(n).hoistableScripts,i=hh(t),s=r.get(i);s||(s=n.querySelector(Gp(i)),s||(t=hn({src:t,async:!0},e),(e=ts.get(i))&&uw(t,e),s=n.createElement("script"),or(s),xr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function ZD(t,e){go.M(t,e);var n=dh;if(n&&t){var r=od(n).hoistableScripts,i=hh(t),s=r.get(i);s||(s=n.querySelector(Gp(i)),s||(t=hn({src:t,async:!0,type:"module"},e),(e=ts.get(i))&&uw(t,e),s=n.createElement("script"),or(s),xr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function T4(t,e,n,r){var i=(i=fl.current)?$0(i):null;if(!i)throw Error(Re(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Wd(n.href),n=od(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Wd(n.href);var s=od(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(Vp(t)))&&!s._p&&(a.instance=s,a.state.loading=5),ts.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ts.set(t,n),s||JD(i,t,n,a.state))),e&&r===null)throw Error(Re(528,""));return a}if(e&&r!==null)throw Error(Re(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hh(n),n=od(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Re(444,t))}}function Wd(t){return'href="'+Ki(t)+'"'}function Vp(t){return'link[rel="stylesheet"]['+t+"]"}function cA(t){return hn({},t,{"data-precedence":t.precedence,precedence:null})}function JD(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),xr(e,"link",n),or(e),t.head.appendChild(e))}function hh(t){return'[src="'+Ki(t)+'"]'}function Gp(t){return"script[async]"+t}function k4(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ki(n.href)+'"]');if(r)return e.instance=r,or(r),r;var i=hn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),or(r),xr(r,"style",i),r0(r,n.precedence,t),e.instance=r;case"stylesheet":i=Wd(n.href);var s=t.querySelector(Vp(i));if(s)return e.state.loading|=4,e.instance=s,or(s),s;r=cA(n),(i=ts.get(i))&&cw(r,i),s=(t.ownerDocument||t).createElement("link"),or(s);var a=s;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),xr(s,"link",r),e.state.loading|=4,r0(s,n.precedence,t),e.instance=s;case"script":return s=hh(n.src),(i=t.querySelector(Gp(s)))?(e.instance=i,or(i),i):(r=n,(i=ts.get(s))&&(r=hn({},n),uw(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),or(i),xr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Re(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,r0(r,n.precedence,t));return e.instance}function r0(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function cw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function uw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var i0=null;function E4(t,e,n){if(i0===null){var r=new Map,i=i0=new Map;i.set(n,r)}else i=i0,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Dp]||s[kr]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function O4(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function eP(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function uA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ip=null;function tP(){}function nP(t,e,n){if(ip===null)throw Error(Re(475));var r=ip;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Wd(n.href),s=t.querySelector(Vp(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=K0.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,or(s);return}s=t.ownerDocument||t,n=cA(n),(i=ts.get(i))&&cw(n,i),s=s.createElement("link"),or(s);var a=s;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),xr(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=K0.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function rP(){if(ip===null)throw Error(Re(475));var t=ip;return t.stylesheets&&t.count===0&&V2(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&V2(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function K0(){if(this.count--,this.count===0){if(this.stylesheets)V2(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Q0=null;function V2(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Q0=new Map,e.forEach(iP,t),Q0=null,K0.call(t))}function iP(t,e){if(!(e.state.loading&4)){var n=Q0.get(t);if(n)var r=n.get(null);else{n=new Map,Q0.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=K0.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var sp={$$typeof:Ya,Provider:null,Consumer:null,_currentValue:bc,_currentValue2:bc,_threadCount:0};function sP(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=A1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A1(0),this.hiddenUpdates=A1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function dA(t,e,n,r,i,s,a,o,c,u,d,h){return t=new sP(t,e,n,a,o,c,u,h),e=1,s===!0&&(e|=24),s=ji(3,null,null,e),t.current=s,s.stateNode=t,e=I5(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},B5(s),t}function hA(t){return t?(t=Ju,t):Ju}function fA(t,e,n,r,i,s){i=hA(i),r.context===null?r.context=i:r.pendingContext=i,r=pl(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=ml(t,r,e),n!==null&&(Ti(n,t,e),Mf(n,t,e))}function L4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dw(t,e){L4(t,e),(t=t.alternate)&&L4(t,e)}function pA(t){if(t.tag===13){var e=ch(t,67108864);e!==null&&Ti(e,t,67108864),dw(t,67108864)}}var Z0=!0;function aP(t,e,n,r){var i=ft.T;ft.T=null;var s=Ut.p;try{Ut.p=2,hw(t,e,n,r)}finally{Ut.p=s,ft.T=i}}function oP(t,e,n,r){var i=ft.T;ft.T=null;var s=Ut.p;try{Ut.p=8,hw(t,e,n,r)}finally{Ut.p=s,ft.T=i}}function hw(t,e,n,r){if(Z0){var i=G2(r);if(i===null)iy(t,e,r,J0,n),M4(t,r);else if(cP(i,t,e,n,r))r.stopPropagation();else if(M4(t,r),e&4&&-1<lP.indexOf(t)){for(;i!==null;){var s=lh(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-_i(a);o.entanglements[1]|=c,a&=~c}ya(s),!(Kt&6)&&(H0=ha()+500,Hp(0))}}break;case 13:o=ch(s,2),o!==null&&Ti(o,s,2),Uv(),dw(s,2)}if(s=G2(r),s===null&&iy(t,e,r,J0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else iy(t,e,r,null,n)}}function G2(t){return t=T5(t),fw(t)}var J0=null;function fw(t){if(J0=null,t=Xu(t),t!==null){var e=Ep(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=zC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return J0=t,null}function mA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(XL()){case HC:return 2;case VC:return 8;case A0:case WL:return 32;case GC:return 268435456;default:return 32}default:return 32}}var Y2=!1,xl=null,yl=null,bl=null,ap=new Map,op=new Map,Qo=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M4(t,e){switch(t){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(e.pointerId)}}function uf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lh(e),e!==null&&pA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cP(t,e,n,r,i){switch(e){case"focusin":return xl=uf(xl,t,e,n,r,i),!0;case"dragenter":return yl=uf(yl,t,e,n,r,i),!0;case"mouseover":return bl=uf(bl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ap.set(s,uf(ap.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,op.set(s,uf(op.get(s)||null,t,e,n,r,i)),!0}return!1}function gA(t){var e=Xu(t.target);if(e!==null){var n=Ep(e);if(n!==null){if(e=n.tag,e===13){if(e=zC(n),e!==null){t.blockedOn=e,nM(t.priority,function(){if(n.tag===13){var r=Ai();r=N5(r);var i=ch(n,r);i!==null&&Ti(i,n,r),dw(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function s0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=G2(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);c2=r,n.target.dispatchEvent(r),c2=null}else return e=lh(n),e!==null&&pA(e),t.blockedOn=n,!1;e.shift()}return!0}function D4(t,e,n){s0(t)&&n.delete(e)}function uP(){Y2=!1,xl!==null&&s0(xl)&&(xl=null),yl!==null&&s0(yl)&&(yl=null),bl!==null&&s0(bl)&&(bl=null),ap.forEach(D4),op.forEach(D4)}function ig(t,e){t.blockedOn===e&&(t.blockedOn=null,Y2||(Y2=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,uP)))}var sg=null;function P4(t){sg!==t&&(sg=t,er.unstable_scheduleCallback(er.unstable_NormalPriority,function(){sg===t&&(sg=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(fw(r||n)===null)continue;break}var s=lh(n);s!==null&&(t.splice(e,3),e-=3,C2(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function lp(t){function e(c){return ig(c,t)}xl!==null&&ig(xl,t),yl!==null&&ig(yl,t),bl!==null&&ig(bl,t),ap.forEach(e),op.forEach(e);for(var n=0;n<Qo.length;n++){var r=Qo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Qo.length&&(n=Qo[0],n.blockedOn===null);)gA(n),n.blockedOn===null&&Qo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[li]||null;if(typeof s=="function")a||P4(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[li]||null)o=a.formAction;else if(fw(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),P4(n)}}}function pw(t){this._internalRoot=t}Yv.prototype.render=pw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));var n=e.current,r=Ai();fA(n,r,t,e,null,null)};Yv.prototype.unmount=pw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fA(t.current,2,null,t,null,null),Uv(),e[oh]=null}};function Yv(t){this._internalRoot=t}Yv.prototype.unstable_scheduleHydration=function(t){if(t){var e=KC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qo.length&&e!==0&&e<Qo[n].priority;n++);Qo.splice(n,0,t),n===0&&gA(t)}};var R4=FC.version;if(R4!=="19.1.0")throw Error(Re(527,R4,"19.1.0"));Ut.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=BL(e),t=t!==null?BC(t):null,t=t===null?null:t.stateNode,t};var dP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ft,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ag.isDisabled&&ag.supportsFiber)try{Op=ag.inject(dP),Ci=ag}catch{}}Ev.createRoot=function(t,e){if(!IC(t))throw Error(Re(299));var n=!1,r="",i=d6,s=h6,a=f6,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=dA(t,1,!1,null,null,n,r,i,s,a,o,null),t[oh]=e.current,lw(t),new pw(e)};Ev.hydrateRoot=function(t,e,n){if(!IC(t))throw Error(Re(299));var r=!1,i="",s=d6,a=h6,o=f6,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=dA(t,1,!0,e,n??null,r,i,s,a,o,c,u),e.context=hA(null),n=e.current,r=Ai(),r=N5(r),i=pl(r),i.callback=null,ml(n,i,r),n=r,e.current.lanes=n,Mp(e,n),ya(e),t[oh]=e.current,lw(t),new Yv(e)};Ev.version="19.1.0";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),NC.exports=Ev;var hP=NC.exports;function fP(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,a=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var xA={exports:{}},yA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=C;function pP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mP=typeof Object.is=="function"?Object.is:pP,gP=$d.useState,vP=$d.useEffect,xP=$d.useLayoutEffect,yP=$d.useDebugValue;function bP(t,e){var n=e(),r=gP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return xP(function(){i.value=n,i.getSnapshot=e,ay(i)&&s({inst:i})},[t,n,e]),vP(function(){return ay(i)&&s({inst:i}),t(function(){ay(i)&&s({inst:i})})},[t]),yP(n),n}function ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mP(t,n)}catch{return!0}}function wP(t,e){return e()}var SP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wP:bP;yA.useSyncExternalStore=$d.useSyncExternalStore!==void 0?$d.useSyncExternalStore:SP;xA.exports=yA;var bA=xA.exports;const jP=b5.useInsertionEffect,NP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CP=NP?C.useLayoutEffect:C.useEffect,_P=jP||CP,wA=t=>{const e=C.useRef([t,(...n)=>e[0](...n)]).current;return _P(()=>{e[0]=t}),e[1]},AP="popstate",mw="pushState",gw="replaceState",TP="hashchange",F4=[AP,mw,gw,TP],kP=t=>{for(const e of F4)addEventListener(e,t);return()=>{for(const e of F4)removeEventListener(e,t)}},SA=(t,e)=>bA.useSyncExternalStore(kP,t,e),EP=()=>location.search,OP=({ssrSearch:t=""}={})=>SA(EP,()=>t),I4=()=>location.pathname,LP=({ssrPath:t}={})=>SA(I4,t?()=>t:I4),MP=(t,{replace:e=!1,state:n=null}={})=>history[e?gw:mw](n,"",t),DP=(t={})=>[LP(t),MP],z4=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[z4]>"u"){for(const t of[mw,gw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,z4,{value:!0})}const PP=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",jA=(t="")=>t==="/"?"":t,RP=(t,e)=>t[0]==="~"?t.slice(1):jA(e)+t,FP=(t="",e)=>PP(B4(jA(t)),B4(e)),B4=t=>{try{return decodeURI(t)}catch{return t}},NA={hook:DP,searchHook:OP,parser:fP,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},CA=C.createContext(NA),Xv=()=>C.useContext(CA),_A={},AA=C.createContext(_A),IP=()=>C.useContext(AA),vw=t=>{const[e,n]=t.hook(t);return[FP(t.base,e),wA((r,i)=>n(RP(r,t.base),i))]},TA=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=i.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((h,p)=>[h,c[p]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[o]:[]]:[!1,null]},zP=({children:t,...e})=>{var d,h;const n=Xv(),r=e.hook?NA:n;let i=r;const[s,a]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let o=C.useRef({}),c=o.current,u=c;for(let p in r){const f=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===u&&f!==u[p]&&(o.current=u={...u}),u[p]=f,(f!==r[p]||f!==i[p])&&(i=u)}return C.createElement(CA.Provider,{value:i,children:t})},q4=({children:t,component:e},n)=>e?C.createElement(e,{params:n}):typeof t=="function"?t(n):t,BP=t=>{let e=C.useRef(_A);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},ec=({path:t,nest:e,match:n,...r})=>{const i=Xv(),[s]=vw(i),[a,o,c]=n??TA(i.parser,t,s,e),u=BP({...IP(),...o});if(!a)return null;const d=c?C.createElement(zP,{base:c},q4(r,u)):q4(r,u);return C.createElement(AA.Provider,{value:u,children:d})},Ir=C.forwardRef((t,e)=>{const n=Xv(),[r,i]=vw(n),{to:s="",href:a=s,onClick:o,asChild:c,children:u,className:d,replace:h,state:p,...f}=t,b=wA(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(o==null||o(w),w.defaultPrevented||(w.preventDefault(),i(a,t)))}),g=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&C.isValidElement(u)?C.cloneElement(u,{onClick:b,href:g}):C.createElement("a",{...f,onClick:b,href:g,className:d!=null&&d.call?d(r===a):d,children:u,ref:e})}),kA=t=>Array.isArray(t)?t.flatMap(e=>kA(e&&e.type===C.Fragment?e.props.children:e)):[t],qP=({children:t,location:e})=>{const n=Xv(),[r]=vw(n);for(const i of kA(t)){let s=0;if(C.isValidElement(i)&&(s=TA(n.parser,i.props.path,e||r,i.props.nest))[0])return C.cloneElement(i,{match:s})}return null};var Yp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dc=typeof window>"u"||"Deno"in globalThis;function ri(){}function UP(t,e){return typeof t=="function"?t(e):t}function X2(t){return typeof t=="number"&&t>=0&&t!==1/0}function EA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wl(t,e){return typeof t=="function"?t(e):t}function Vi(t,e){return typeof t=="function"?t(e):t}function U4(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==xw(a,e.options))return!1}else if(!up(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function H4(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(cp(e.options.mutationKey)!==cp(s))return!1}else if(!up(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function xw(t,e){return((e==null?void 0:e.queryKeyHashFn)||cp)(t)}function cp(t){return JSON.stringify(t,(e,n)=>$2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function up(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>up(t[n],e[n])):!1}function OA(t,e){if(t===e)return t;const n=V4(t)&&V4(e);if(n||$2(t)&&$2(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:s[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,u++):(o[h]=OA(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function W2(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function V4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $2(t){if(!G4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!G4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function G4(t){return Object.prototype.toString.call(t)==="[object Object]"}function HP(t){return new Promise(e=>{setTimeout(e,t)})}function K2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OA(t,e):e}function VP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function GP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yw=Symbol();function LA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function YP(t,e){return typeof t=="function"?t(...e):!!t}var dc,Jo,_d,fC,XP=(fC=class extends Yp{constructor(){super();dt(this,dc);dt(this,Jo);dt(this,_d);Qe(this,_d,e=>{if(!Dc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,Jo)||this.setEventListener(pe(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,Jo))==null||e.call(this),Qe(this,Jo,void 0))}setEventListener(e){var n;Qe(this,_d,e),(n=pe(this,Jo))==null||n.call(this),Qe(this,Jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){pe(this,dc)!==e&&(Qe(this,dc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof pe(this,dc)=="boolean"?pe(this,dc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},dc=new WeakMap,Jo=new WeakMap,_d=new WeakMap,fC),bw=new XP,Ad,el,Td,pC,WP=(pC=class extends Yp{constructor(){super();dt(this,Ad,!0);dt(this,el);dt(this,Td);Qe(this,Td,e=>{if(!Dc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,el)||this.setEventListener(pe(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,el))==null||e.call(this),Qe(this,el,void 0))}setEventListener(e){var n;Qe(this,Td,e),(n=pe(this,el))==null||n.call(this),Qe(this,el,e(this.setOnline.bind(this)))}setOnline(e){pe(this,Ad)!==e&&(Qe(this,Ad,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return pe(this,Ad)}},Ad=new WeakMap,el=new WeakMap,Td=new WeakMap,pC),ev=new WP;function Q2(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function $P(t){return Math.min(1e3*2**t,3e4)}function MA(t){return(t??"online")==="online"?ev.isOnline():!0}var DA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function oy(t){return t instanceof DA}function PA(t){let e=!1,n=0,r=!1,i;const s=Q2(),a=g=>{var w;r||(p(new DA(g)),(w=t.abort)==null||w.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>bw.isFocused()&&(t.networkMode==="always"||ev.isOnline())&&t.canRun(),d=()=>MA(t.networkMode)&&t.canRun(),h=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),i==null||i(),s.resolve(g))},p=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),i==null||i(),s.reject(g))},f=()=>new Promise(g=>{var w;i=x=>{(r||u())&&g(x)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),b=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var E;if(r)return;const y=t.retry??(Dc?0:3),N=t.retryDelay??$P,A=typeof N=="function"?N(n,x):N,k=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(e||!k){p(x);return}n++,(E=t.onFail)==null||E.call(t,n,x),HP(A).then(()=>u()?void 0:f()).then(()=>{e?p(x):b()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?b():f().then(b),s)}}var KP=t=>setTimeout(t,0);function QP(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=KP;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var pr=QP(),hc,mC,RA=(mC=class{constructor(){dt(this,hc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X2(this.gcTime)&&Qe(this,hc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dc?1/0:5*60*1e3))}clearGcTimeout(){pe(this,hc)&&(clearTimeout(pe(this,hc)),Qe(this,hc,void 0))}},hc=new WeakMap,mC),kd,fc,Ui,pc,Ar,_p,mc,ws,qa,gC,ZP=(gC=class extends RA{constructor(e){super();dt(this,ws);dt(this,kd);dt(this,fc);dt(this,Ui);dt(this,pc);dt(this,Ar);dt(this,_p);dt(this,mc);Qe(this,mc,!1),Qe(this,_p,e.defaultOptions),this.setOptions(e.options),this.observers=[],Qe(this,pc,e.client),Qe(this,Ui,pe(this,pc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Qe(this,kd,JP(this.options)),this.state=e.state??pe(this,kd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=pe(this,Ar))==null?void 0:e.promise}setOptions(e){this.options={...pe(this,_p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Ui).remove(this)}setData(e,n){const r=K2(this.state.data,e,this.options);return Ot(this,ws,qa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ot(this,ws,qa).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=pe(this,Ar))==null?void 0:r.promise;return(i=pe(this,Ar))==null||i.cancel(e),n?n.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,kd))}isActive(){return this.observers.some(e=>Vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>wl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!EA(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=pe(this,Ar))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=pe(this,Ar))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),pe(this,Ui).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(pe(this,Ar)&&(pe(this,mc)?pe(this,Ar).cancel({revert:!0}):pe(this,Ar).cancelRetry()),this.scheduleGc()),pe(this,Ui).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ws,qa).call(this,{type:"invalidate"})}fetch(e,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Ar))return pe(this,Ar).continueRetry(),pe(this,Ar).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Qe(this,mc,!0),r.signal)})},s=()=>{const p=LA(this.options,n),b=(()=>{const g={client:pe(this,pc),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return Qe(this,mc,!1),this.options.persister?this.options.persister(p,b,this):p(b)},o=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,pc),state:this.state,fetchFn:s};return i(p),p})();(u=this.options.behavior)==null||u.onFetch(o,this),Qe(this,fc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ot(this,ws,qa).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=p=>{var f,b,g,w;oy(p)&&p.silent||Ot(this,ws,qa).call(this,{type:"error",error:p}),oy(p)||((b=(f=pe(this,Ui).config).onError)==null||b.call(f,p,this),(w=(g=pe(this,Ui).config).onSettled)==null||w.call(g,this.state.data,p,this)),this.scheduleGc()};return Qe(this,Ar,PA({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var f,b,g,w;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){c(x);return}(b=(f=pe(this,Ui).config).onSuccess)==null||b.call(f,p,this),(w=(g=pe(this,Ui).config).onSettled)==null||w.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{Ot(this,ws,qa).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{Ot(this,ws,qa).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ws,qa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,Ar).start()}},kd=new WeakMap,fc=new WeakMap,Ui=new WeakMap,pc=new WeakMap,Ar=new WeakMap,_p=new WeakMap,mc=new WeakMap,ws=new WeakSet,qa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FA(r.data,this.options),fetchMeta:e.meta??null};case"success":return Qe(this,fc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return oy(i)&&i.revert&&pe(this,fc)?{...pe(this,fc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),pe(this,Ui).notify({query:this,type:"updated",action:e})})},gC);function FA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zs,vC,eR=(vC=class extends Yp{constructor(e={}){super();dt(this,Zs);this.config=e,Qe(this,Zs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??xw(i,n);let a=this.get(s);return a||(a=new ZP({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){pe(this,Zs).has(e.queryHash)||(pe(this,Zs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=pe(this,Zs).get(e.queryHash);n&&(e.destroy(),n===e&&pe(this,Zs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,Zs).get(e)}getAll(){return[...pe(this,Zs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>U4(e,r)):n}notify(e){pr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zs=new WeakMap,vC),Js,Rr,gc,ea,Vo,xC,tR=(xC=class extends RA{constructor(e){super();dt(this,ea);dt(this,Js);dt(this,Rr);dt(this,gc);this.mutationId=e.mutationId,Qe(this,Rr,e.mutationCache),Qe(this,Js,[]),this.state=e.state||nR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){pe(this,Js).includes(e)||(pe(this,Js).push(e),this.clearGcTimeout(),pe(this,Rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Qe(this,Js,pe(this,Js).filter(n=>n!==e)),this.scheduleGc(),pe(this,Rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){pe(this,Js).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Rr).remove(this))}continue(){var e;return((e=pe(this,gc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,c,u,d,h,p,f,b,g,w,x,y,N,A,k,E,R,O;const n=()=>{Ot(this,ea,Vo).call(this,{type:"continue"})};Qe(this,gc,PA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(H,K)=>{Ot(this,ea,Vo).call(this,{type:"failed",failureCount:H,error:K})},onPause:()=>{Ot(this,ea,Vo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Rr).canRun(this)}));const r=this.state.status==="pending",i=!pe(this,gc).canStart();try{if(r)n();else{Ot(this,ea,Vo).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=pe(this,Rr).config).onMutate)==null?void 0:a.call(s,e,this));const K=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));K!==this.state.context&&Ot(this,ea,Vo).call(this,{type:"pending",context:K,variables:e,isPaused:i})}const H=await pe(this,gc).start();return await((d=(u=pe(this,Rr).config).onSuccess)==null?void 0:d.call(u,H,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,H,e,this.state.context)),await((b=(f=pe(this,Rr).config).onSettled)==null?void 0:b.call(f,H,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,H,null,e,this.state.context)),Ot(this,ea,Vo).call(this,{type:"success",data:H}),H}catch(H){try{throw await((y=(x=pe(this,Rr).config).onError)==null?void 0:y.call(x,H,e,this.state.context,this)),await((A=(N=this.options).onError)==null?void 0:A.call(N,H,e,this.state.context)),await((E=(k=pe(this,Rr).config).onSettled)==null?void 0:E.call(k,void 0,H,this.state.variables,this.state.context,this)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,H,e,this.state.context)),H}finally{Ot(this,ea,Vo).call(this,{type:"error",error:H})}}finally{pe(this,Rr).runNext(this)}}},Js=new WeakMap,Rr=new WeakMap,gc=new WeakMap,ea=new WeakSet,Vo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pr.batch(()=>{pe(this,Js).forEach(r=>{r.onMutationUpdate(e)}),pe(this,Rr).notify({mutation:this,type:"updated",action:e})})},xC);function nR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Va,Ss,Ap,yC,rR=(yC=class extends Yp{constructor(e={}){super();dt(this,Va);dt(this,Ss);dt(this,Ap);this.config=e,Qe(this,Va,new Set),Qe(this,Ss,new Map),Qe(this,Ap,0)}build(e,n,r){const i=new tR({mutationCache:this,mutationId:++Gm(this,Ap)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){pe(this,Va).add(e);const n=og(e);if(typeof n=="string"){const r=pe(this,Ss).get(n);r?r.push(e):pe(this,Ss).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(pe(this,Va).delete(e)){const n=og(e);if(typeof n=="string"){const r=pe(this,Ss).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&pe(this,Ss).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=og(e);if(typeof n=="string"){const r=pe(this,Ss).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=og(e);if(typeof n=="string"){const i=(r=pe(this,Ss).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pr.batch(()=>{pe(this,Va).forEach(e=>{this.notify({type:"removed",mutation:e})}),pe(this,Va).clear(),pe(this,Ss).clear()})}getAll(){return Array.from(pe(this,Va))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H4(n,r))}findAll(e={}){return this.getAll().filter(n=>H4(e,n))}notify(e){pr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ri))))}},Va=new WeakMap,Ss=new WeakMap,Ap=new WeakMap,yC);function og(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Y4(t){return{onFetch:(e,n)=>{var d,h,p,f,b;const r=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=LA(e.options,e.fetchOptions),y=async(N,A,k)=>{if(g)return Promise.reject();if(A==null&&N.pages.length)return Promise.resolve(N);const R=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};return w(D),D})(),O=await x(R),{maxPages:H}=e.options,K=k?GP:VP;return{pages:K(N.pages,O,H),pageParams:K(N.pageParams,A,H)}};if(i&&s.length){const N=i==="backward",A=N?iR:X4,k={pages:s,pageParams:a},E=A(r,k);o=await y(k,E,N)}else{const N=t??s.length;do{const A=c===0?a[0]??r.initialPageParam:X4(r,o);if(c>0&&A==null)break;o=await y(o,A),c++}while(c<N)}return o};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function X4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var _n,tl,nl,Ed,Od,rl,Ld,Md,bC,sR=(bC=class{constructor(t={}){dt(this,_n);dt(this,tl);dt(this,nl);dt(this,Ed);dt(this,Od);dt(this,rl);dt(this,Ld);dt(this,Md);Qe(this,_n,t.queryCache||new eR),Qe(this,tl,t.mutationCache||new rR),Qe(this,nl,t.defaultOptions||{}),Qe(this,Ed,new Map),Qe(this,Od,new Map),Qe(this,rl,0)}mount(){Gm(this,rl)._++,pe(this,rl)===1&&(Qe(this,Ld,bw.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,_n).onFocus())})),Qe(this,Md,ev.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,_n).onOnline())})))}unmount(){var t,e;Gm(this,rl)._--,pe(this,rl)===0&&((t=pe(this,Ld))==null||t.call(this),Qe(this,Ld,void 0),(e=pe(this,Md))==null||e.call(this),Qe(this,Md,void 0))}isFetching(t){return pe(this,_n).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,tl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,_n).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=pe(this,_n).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(wl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return pe(this,_n).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=pe(this,_n).get(r.queryHash),s=i==null?void 0:i.state.data,a=UP(e,s);if(a!==void 0)return pe(this,_n).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return pr.batch(()=>pe(this,_n).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,_n).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=pe(this,_n);pr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=pe(this,_n);return pr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=pr.batch(()=>pe(this,_n).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ri).catch(ri)}invalidateQueries(t,e={}){return pr.batch(()=>(pe(this,_n).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=pr.batch(()=>pe(this,_n).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ri)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ri)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=pe(this,_n).build(this,e);return n.isStaleByTime(wl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ri).catch(ri)}fetchInfiniteQuery(t){return t.behavior=Y4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ri).catch(ri)}ensureInfiniteQueryData(t){return t.behavior=Y4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ev.isOnline()?pe(this,tl).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,_n)}getMutationCache(){return pe(this,tl)}getDefaultOptions(){return pe(this,nl)}setDefaultOptions(t){Qe(this,nl,t)}setQueryDefaults(t,e){pe(this,Ed).set(cp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,Ed).values()],n={};return e.forEach(r=>{up(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){pe(this,Od).set(cp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,Od).values()],n={};return e.forEach(r=>{up(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,nl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,nl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,_n).clear(),pe(this,tl).clear()}},_n=new WeakMap,tl=new WeakMap,nl=new WeakMap,Ed=new WeakMap,Od=new WeakMap,rl=new WeakMap,Ld=new WeakMap,Md=new WeakMap,bC),Jr,Lt,Tp,Fr,vc,Dd,il,sl,kp,Pd,Rd,xc,yc,al,Fd,Gt,Nf,Z2,J2,eb,tb,nb,rb,ib,IA,wC,aR=(wC=class extends Yp{constructor(e,n){super();dt(this,Gt);dt(this,Jr);dt(this,Lt);dt(this,Tp);dt(this,Fr);dt(this,vc);dt(this,Dd);dt(this,il);dt(this,sl);dt(this,kp);dt(this,Pd);dt(this,Rd);dt(this,xc);dt(this,yc);dt(this,al);dt(this,Fd,new Set);this.options=n,Qe(this,Jr,e),Qe(this,sl,null),Qe(this,il,Q2()),this.options.experimental_prefetchInRender||pe(this,il).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,Lt).addObserver(this),W4(pe(this,Lt),this.options)?Ot(this,Gt,Nf).call(this):this.updateResult(),Ot(this,Gt,tb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sb(pe(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sb(pe(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,Gt,nb).call(this),Ot(this,Gt,rb).call(this),pe(this,Lt).removeObserver(this)}setOptions(e){const n=this.options,r=pe(this,Lt);if(this.options=pe(this,Jr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,pe(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,Gt,ib).call(this),pe(this,Lt).setOptions(this.options),n._defaulted&&!W2(this.options,n)&&pe(this,Jr).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,Lt),observer:this});const i=this.hasListeners();i&&$4(pe(this,Lt),r,this.options,n)&&Ot(this,Gt,Nf).call(this),this.updateResult(),i&&(pe(this,Lt)!==r||Vi(this.options.enabled,pe(this,Lt))!==Vi(n.enabled,pe(this,Lt))||wl(this.options.staleTime,pe(this,Lt))!==wl(n.staleTime,pe(this,Lt)))&&Ot(this,Gt,Z2).call(this);const s=Ot(this,Gt,J2).call(this);i&&(pe(this,Lt)!==r||Vi(this.options.enabled,pe(this,Lt))!==Vi(n.enabled,pe(this,Lt))||s!==pe(this,al))&&Ot(this,Gt,eb).call(this,s)}getOptimisticResult(e){const n=pe(this,Jr).getQueryCache().build(pe(this,Jr),e),r=this.createResult(n,e);return lR(this,r)&&(Qe(this,Fr,r),Qe(this,Dd,this.options),Qe(this,vc,pe(this,Lt).state)),r}getCurrentResult(){return pe(this,Fr)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){pe(this,Fd).add(e)}getCurrentQuery(){return pe(this,Lt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=pe(this,Jr).defaultQueryOptions(e),r=pe(this,Jr).getQueryCache().build(pe(this,Jr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ot(this,Gt,Nf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Fr)))}createResult(e,n){var H;const r=pe(this,Lt),i=this.options,s=pe(this,Fr),a=pe(this,vc),o=pe(this,Dd),u=e!==r?e.state:pe(this,Tp),{state:d}=e;let h={...d},p=!1,f;if(n._optimisticResults){const K=this.hasListeners(),D=!K&&W4(e,n),T=K&&$4(e,r,n,i);(D||T)&&(h={...h,...FA(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:w}=h;f=h.data;let x=!1;if(n.placeholderData!==void 0&&f===void 0&&w==="pending"){let K;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(K=s.data,x=!0):K=typeof n.placeholderData=="function"?n.placeholderData((H=pe(this,Rd))==null?void 0:H.state.data,pe(this,Rd)):n.placeholderData,K!==void 0&&(w="success",f=K2(s==null?void 0:s.data,K,n),p=!0)}if(n.select&&f!==void 0&&!x)if(s&&f===(a==null?void 0:a.data)&&n.select===pe(this,kp))f=pe(this,Pd);else try{Qe(this,kp,n.select),f=n.select(f),f=K2(s==null?void 0:s.data,f,n),Qe(this,Pd,f),Qe(this,sl,null)}catch(K){Qe(this,sl,K)}pe(this,sl)&&(b=pe(this,sl),f=pe(this,Pd),g=Date.now(),w="error");const y=h.fetchStatus==="fetching",N=w==="pending",A=w==="error",k=N&&y,E=f!==void 0,O={status:w,fetchStatus:h.fetchStatus,isPending:N,isSuccess:w==="success",isError:A,isInitialLoading:k,isLoading:k,data:f,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!N,isLoadingError:A&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&E,isStale:ww(e,n),refetch:this.refetch,promise:pe(this,il),isEnabled:Vi(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=X=>{O.status==="error"?X.reject(O.error):O.data!==void 0&&X.resolve(O.data)},D=()=>{const X=Qe(this,il,O.promise=Q2());K(X)},T=pe(this,il);switch(T.status){case"pending":e.queryHash===r.queryHash&&K(T);break;case"fulfilled":(O.status==="error"||O.data!==T.value)&&D();break;case"rejected":(O.status!=="error"||O.error!==T.reason)&&D();break}}return O}updateResult(){const e=pe(this,Fr),n=this.createResult(pe(this,Lt),this.options);if(Qe(this,vc,pe(this,Lt).state),Qe(this,Dd,this.options),pe(this,vc).data!==void 0&&Qe(this,Rd,pe(this,Lt)),W2(n,e))return;Qe(this,Fr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!pe(this,Fd).size)return!0;const a=new Set(s??pe(this,Fd));return this.options.throwOnError&&a.add("error"),Object.keys(pe(this,Fr)).some(o=>{const c=o;return pe(this,Fr)[c]!==e[c]&&a.has(c)})};Ot(this,Gt,IA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,Gt,tb).call(this)}},Jr=new WeakMap,Lt=new WeakMap,Tp=new WeakMap,Fr=new WeakMap,vc=new WeakMap,Dd=new WeakMap,il=new WeakMap,sl=new WeakMap,kp=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,xc=new WeakMap,yc=new WeakMap,al=new WeakMap,Fd=new WeakMap,Gt=new WeakSet,Nf=function(e){Ot(this,Gt,ib).call(this);let n=pe(this,Lt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ri)),n},Z2=function(){Ot(this,Gt,nb).call(this);const e=wl(this.options.staleTime,pe(this,Lt));if(Dc||pe(this,Fr).isStale||!X2(e))return;const r=EA(pe(this,Fr).dataUpdatedAt,e)+1;Qe(this,xc,setTimeout(()=>{pe(this,Fr).isStale||this.updateResult()},r))},J2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,Lt)):this.options.refetchInterval)??!1},eb=function(e){Ot(this,Gt,rb).call(this),Qe(this,al,e),!(Dc||Vi(this.options.enabled,pe(this,Lt))===!1||!X2(pe(this,al))||pe(this,al)===0)&&Qe(this,yc,setInterval(()=>{(this.options.refetchIntervalInBackground||bw.isFocused())&&Ot(this,Gt,Nf).call(this)},pe(this,al)))},tb=function(){Ot(this,Gt,Z2).call(this),Ot(this,Gt,eb).call(this,Ot(this,Gt,J2).call(this))},nb=function(){pe(this,xc)&&(clearTimeout(pe(this,xc)),Qe(this,xc,void 0))},rb=function(){pe(this,yc)&&(clearInterval(pe(this,yc)),Qe(this,yc,void 0))},ib=function(){const e=pe(this,Jr).getQueryCache().build(pe(this,Jr),this.options);if(e===pe(this,Lt))return;const n=pe(this,Lt);Qe(this,Lt,e),Qe(this,Tp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},IA=function(e){pr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(pe(this,Fr))}),pe(this,Jr).getQueryCache().notify({query:pe(this,Lt),type:"observerResultsUpdated"})})},wC);function oR(t,e){return Vi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function W4(t,e){return oR(t,e)||t.state.data!==void 0&&sb(t,e,e.refetchOnMount)}function sb(t,e,n){if(Vi(e.enabled,t)!==!1&&wl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ww(t,e)}return!1}function $4(t,e,n,r){return(t!==e||Vi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ww(t,n)}function ww(t,e){return Vi(e.enabled,t)!==!1&&t.isStaleByTime(wl(e.staleTime,t))}function lR(t,e){return!W2(t.getCurrentResult(),e)}var zA=C.createContext(void 0),BA=t=>{const e=C.useContext(zA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cR=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(zA.Provider,{value:t,children:e})),qA=C.createContext(!1),uR=()=>C.useContext(qA);qA.Provider;function dR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var hR=C.createContext(dR()),fR=()=>C.useContext(hR),pR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},mR=t=>{C.useEffect(()=>{t.clearReset()},[t])},gR=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||YP(n,[t.error,r])),vR=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xR=(t,e)=>t.isLoading&&t.isFetching&&!e,yR=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,K4=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function bR(t,e,n){var h,p,f,b,g;const r=uR(),i=fR(),s=BA(),a=s.defaultQueryOptions(t);(p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",vR(a),pR(a,i),mR(i);const o=!s.getQueryCache().get(a.queryHash),[c]=C.useState(()=>new e(s,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(w=>{const x=d?c.subscribe(pr.batchCalls(w)):ri;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(a)},[a,c]),yR(a,u))throw K4(a,c,i);if(gR({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((b=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||b.call(f,a,u),a.experimental_prefetchInRender&&!Dc&&xR(u,r)){const w=o?K4(a,c,i):(g=s.getQueryCache().get(a.queryHash))==null?void 0:g.promise;w==null||w.catch(ri).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function ab(t,e){return bR(t,aR)}const wR=new sR({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500?!1:t<3,retryDelay:t=>Math.min(1e3*2**t,3e4),refetchOnWindowFocus:!0,refetchOnReconnect:"always",refetchOnMount:!0},mutations:{retry:1,retryDelay:1e3}}}),SR=1,jR=1e6;let ly=0;function NR(){return ly=(ly+1)%Number.MAX_SAFE_INTEGER,ly.toString()}const cy=new Map,Q4=t=>{if(cy.has(t))return;const e=setTimeout(()=>{cy.delete(t),Uf({type:"REMOVE_TOAST",toastId:t})},jR);cy.set(t,e)},CR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Q4(n):t.toasts.forEach(r=>{Q4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},a0=[];let o0={toasts:[]};function Uf(t){o0=CR(o0,t),a0.forEach(e=>{e(o0)})}function _R({...t}){const e=NR(),n=i=>Uf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Uf({type:"DISMISS_TOAST",toastId:e});return Uf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function UA(){const[t,e]=C.useState(o0);return C.useEffect(()=>(a0.push(e),()=>{const n=a0.indexOf(e);n>-1&&a0.splice(n,1)}),[t]),{...t,toast:_R,dismiss:n=>Uf({type:"DISMISS_TOAST",toastId:n})}}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Z4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HA(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Z4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Z4(t[i],null)}}}}function Mt(...t){return C.useCallback(HA(...t),t)}function AR(t,e){const n=C.createContext(e),r=s=>{const{children:a,...o}=s,c=C.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ps(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a),c=n.length;n=[...n,a];const u=h=>{var x;const{scope:p,children:f,...b}=h,g=((x=p==null?void 0:p[t])==null?void 0:x[c])||o,w=C.useMemo(()=>b,Object.values(b));return l.jsx(g.Provider,{value:w,children:f})};u.displayName=s+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[t])==null?void 0:g[c])||o,b=C.useContext(f);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,TR(i,...e)]}function TR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Kd(t){const e=ER(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),c=o.find(LR);if(c){const u=c.props.children,d=o.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...a,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var kR=Kd("Slot");function ER(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=DR(i),o=MR(s,i.props);return i.type!==C.Fragment&&(o.ref=r?HA(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VA=Symbol("radix.slottable");function OR(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VA,e}function LR(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VA}function MR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function DR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wv(t){const e=t+"CollectionProvider",[n,r]=Ps(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:w,children:x}=g,y=ht.useRef(null),N=ht.useRef(new Map).current;return l.jsx(i,{scope:w,itemMap:N,collectionRef:y,children:x})};a.displayName=e;const o=t+"CollectionSlot",c=Kd(o),u=ht.forwardRef((g,w)=>{const{scope:x,children:y}=g,N=s(o,x),A=Mt(w,N.collectionRef);return l.jsx(c,{ref:A,children:y})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Kd(d),f=ht.forwardRef((g,w)=>{const{scope:x,children:y,...N}=g,A=ht.useRef(null),k=Mt(w,A),E=s(d,x);return ht.useEffect(()=>(E.itemMap.set(A,{ref:A,...N}),()=>void E.itemMap.delete(A))),l.jsx(p,{[h]:"",ref:k,children:y})});f.displayName=d;function b(g){const w=s(t+"CollectionConsumer",g);return ht.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const N=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((E,R)=>N.indexOf(E.ref.current)-N.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:f},b,r]}var PR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=PR.reduce((t,e)=>{const n=Kd(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function GA(t,e){t&&Uc.flushSync(()=>t.dispatchEvent(e))}function ns(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RR(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FR="DismissableLayer",ob="dismissableLayer.update",IR="dismissableLayer.pointerDownOutside",zR="dismissableLayer.focusOutside",J4,YA=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xp=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=C.useContext(YA),[d,h]=C.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=C.useState({}),b=Mt(e,R=>h(R)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),y=d?g.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,k=qR(R=>{const O=R.target,H=[...u.branches].some(K=>K.contains(O));!A||H||(i==null||i(R),a==null||a(R),R.defaultPrevented||o==null||o())},p),E=UR(R=>{const O=R.target;[...u.branches].some(K=>K.contains(O))||(s==null||s(R),a==null||a(R),R.defaultPrevented||o==null||o())},p);return RR(R=>{y===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},p),C.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(J4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ej(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=J4)}},[d,p,n,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ej())},[d,u]),C.useEffect(()=>{const R=()=>f({});return document.addEventListener(ob,R),()=>document.removeEventListener(ob,R)},[]),l.jsx(ct.div,{...c,ref:b,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,E.onFocusCapture),onBlurCapture:st(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,k.onPointerDownCapture)})});Xp.displayName=FR;var BR="DismissableLayerBranch",XA=C.forwardRef((t,e)=>{const n=C.useContext(YA),r=C.useRef(null),i=Mt(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(ct.div,{...t,ref:i})});XA.displayName=BR;function qR(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){WA(IR,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UR(t,e=globalThis==null?void 0:globalThis.document){const n=ns(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&WA(zR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ej(){const t=new CustomEvent(ob);document.dispatchEvent(t)}function WA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?GA(i,s):i.dispatchEvent(s)}var HR=Xp,VR=XA,qn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},GR="Portal",$v=C.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=C.useState(!1);qn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?IL.createPortal(l.jsx(ct.div,{...r,ref:e}),a):null});$v.displayName=GR;function YR(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Rl=t=>{const{present:e,children:n}=t,r=XR(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Mt(r.ref,WR(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Rl.displayName="Presence";function XR(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[o,c]=YR(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=lg(r.current);s.current=o==="mounted"?u:"none"},[o]),qn(()=>{const u=r.current,d=i.current;if(d!==t){const p=s.current,f=lg(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),qn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=f=>{const g=lg(r.current).includes(f.animationName);if(f.target===e&&g&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=f=>{f.target===e&&(s.current=lg(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function lg(t){return(t==null?void 0:t.animationName)||"none"}function WR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $R=b5[" useInsertionEffect ".trim().toString()]||qn;function ao({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=KR({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const d=C.useRef(t!==void 0);C.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=C.useCallback(d=>{var h;if(o){const p=QR(d)?d(t):d;p!==t&&((h=a.current)==null||h.call(a,p))}else s(d)},[o,t,s,a]);return[c,u]}function KR({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return $R(()=>{s.current=e},[e]),C.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function QR(t){return typeof t=="function"}var $A=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZR="VisuallyHidden",Kv=C.forwardRef((t,e)=>l.jsx(ct.span,{...t,ref:e,style:{...$A,...t.style}}));Kv.displayName=ZR;var JR=Kv,Sw="ToastProvider",[jw,e9,t9]=Wv("Toast"),[KA,A$]=Ps("Toast",[t9]),[n9,Qv]=KA(Sw),QA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=C.useState(null),[u,d]=C.useState(0),h=C.useRef(!1),p=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sw}\`. Expected non-empty \`string\`.`),l.jsx(jw.Provider,{scope:e,children:l.jsx(n9,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:C.useCallback(()=>d(f=>f+1),[]),onToastRemove:C.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};QA.displayName=Sw;var ZA="ToastViewport",r9=["F8"],lb="toast.viewportPause",cb="toast.viewportResume",JA=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=r9,label:i="Notifications ({hotkey})",...s}=t,a=Qv(ZA,n),o=e9(n),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),h=C.useRef(null),p=Mt(e,h,a.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;C.useEffect(()=>{const w=x=>{var N;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),C.useEffect(()=>{const w=c.current,x=h.current;if(b&&w&&x){const y=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(lb);x.dispatchEvent(E),a.isClosePausedRef.current=!0}},N=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(cb);x.dispatchEvent(E),a.isClosePausedRef.current=!1}},A=E=>{!w.contains(E.relatedTarget)&&N()},k=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",y),w.addEventListener("focusout",A),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",k),window.addEventListener("blur",y),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",y),window.removeEventListener("focus",N)}}},[b,a.isClosePausedRef]);const g=C.useCallback(({tabbingDirection:w})=>{const y=o().map(N=>{const A=N.ref.current,k=[A,...g9(A)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?y.reverse():y).flat()},[o]);return C.useEffect(()=>{const w=h.current;if(w){const x=y=>{var k,E,R;const N=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!N){const O=document.activeElement,H=y.shiftKey;if(y.target===w&&H){(k=u.current)==null||k.focus();return}const T=g({tabbingDirection:H?"backwards":"forwards"}),X=T.findIndex(B=>B===O);uy(T.slice(X+1))?y.preventDefault():H?(E=u.current)==null||E.focus():(R=d.current)==null||R.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[o,g]),l.jsxs(VR,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(ub,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});uy(w)}}),l.jsx(jw.Slot,{scope:n,children:l.jsx(ct.ol,{tabIndex:-1,...s,ref:p})}),b&&l.jsx(ub,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});uy(w)}})]})});JA.displayName=ZA;var eT="ToastFocusProxy",ub=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Qv(eT,n);return l.jsx(Kv,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});ub.displayName=eT;var Wp="Toast",i9="toast.swipeStart",s9="toast.swipeMove",a9="toast.swipeCancel",o9="toast.swipeEnd",tT=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=ao({prop:r,defaultProp:i??!0,onChange:s,caller:Wp});return l.jsx(Rl,{present:n||o,children:l.jsx(u9,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:ns(t.onPause),onResume:ns(t.onResume),onSwipeStart:st(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:st(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tT.displayName=Wp;var[l9,c9]=KA(Wp,{onClose(){}}),u9=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=t,g=Qv(Wp,n),[w,x]=C.useState(null),y=Mt(e,B=>x(B)),N=C.useRef(null),A=C.useRef(null),k=i||g.duration,E=C.useRef(0),R=C.useRef(k),O=C.useRef(0),{onToastAdd:H,onToastRemove:K}=g,D=ns(()=>{var ee;(w==null?void 0:w.contains(document.activeElement))&&((ee=g.viewport)==null||ee.focus()),a()}),T=C.useCallback(B=>{!B||B===1/0||(window.clearTimeout(O.current),E.current=new Date().getTime(),O.current=window.setTimeout(D,B))},[D]);C.useEffect(()=>{const B=g.viewport;if(B){const ee=()=>{T(R.current),u==null||u()},G=()=>{const te=new Date().getTime()-E.current;R.current=R.current-te,window.clearTimeout(O.current),c==null||c()};return B.addEventListener(lb,G),B.addEventListener(cb,ee),()=>{B.removeEventListener(lb,G),B.removeEventListener(cb,ee)}}},[g.viewport,k,c,u,T]),C.useEffect(()=>{s&&!g.isClosePausedRef.current&&T(k)},[s,k,g.isClosePausedRef,T]),C.useEffect(()=>(H(),()=>K()),[H,K]);const X=C.useMemo(()=>w?lT(w):null,[w]);return g.viewport?l.jsxs(l.Fragment,{children:[X&&l.jsx(d9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),l.jsx(l9,{scope:n,onClose:D,children:Uc.createPortal(l.jsx(jw.ItemSlot,{scope:n,children:l.jsx(HR,{asChild:!0,onEscapeKeyDown:st(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,B=>{B.key==="Escape"&&(o==null||o(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:st(t.onPointerDown,B=>{B.button===0&&(N.current={x:B.clientX,y:B.clientY})}),onPointerMove:st(t.onPointerMove,B=>{if(!N.current)return;const ee=B.clientX-N.current.x,G=B.clientY-N.current.y,te=!!A.current,V=["left","right"].includes(g.swipeDirection),re=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,de=V?re(0,ee):0,Oe=V?0:re(0,G),F=B.pointerType==="touch"?10:2,Y={x:de,y:Oe},W={originalEvent:B,delta:Y};te?(A.current=Y,cg(s9,h,W,{discrete:!1})):tj(Y,g.swipeDirection,F)?(A.current=Y,cg(i9,d,W,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>F||Math.abs(G)>F)&&(N.current=null)}),onPointerUp:st(t.onPointerUp,B=>{const ee=A.current,G=B.target;if(G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),A.current=null,N.current=null,ee){const te=B.currentTarget,V={originalEvent:B,delta:ee};tj(ee,g.swipeDirection,g.swipeThreshold)?cg(o9,f,V,{discrete:!0}):cg(a9,p,V,{discrete:!0}),te.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),d9=t=>{const{__scopeToast:e,children:n,...r}=t,i=Qv(Wp,e),[s,a]=C.useState(!1),[o,c]=C.useState(!1);return p9(()=>a(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx($v,{asChild:!0,children:l.jsx(Kv,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},h9="ToastTitle",nT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ct.div,{...r,ref:e})});nT.displayName=h9;var f9="ToastDescription",rT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ct.div,{...r,ref:e})});rT.displayName=f9;var iT="ToastAction",sT=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(oT,{altText:n,asChild:!0,children:l.jsx(Nw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iT}\`. Expected non-empty \`string\`.`),null)});sT.displayName=iT;var aT="ToastClose",Nw=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=c9(aT,n);return l.jsx(oT,{asChild:!0,children:l.jsx(ct.button,{type:"button",...r,ref:e,onClick:st(t.onClick,i.onClose)})})});Nw.displayName=aT;var oT=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function lT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),m9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...lT(r))}}),e}function cg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?GA(i,s):i.dispatchEvent(s)}var tj=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function p9(t=()=>{}){const e=ns(t);qn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function m9(t){return t.nodeType===t.ELEMENT_NODE}function g9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var v9=QA,cT=JA,uT=tT,dT=nT,hT=rT,fT=sT,pT=Nw;function mT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mT(t))&&(r&&(r+=" "),r+=e);return r}const nj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rj=gT,Zv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return rj(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const p=nj(d)||nj(h);return i[u][p]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...s,...o}[g]):{...s,...o}[g]===w})?[...u,h,p]:u},[]);return rj(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>C.createElement("svg",{ref:c,...y9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vT("lucide",i),...o},[...a.map(([u,d])=>C.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(b9,{ref:s,iconNode:e,className:vT(`lucide-${x9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=qe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=qe("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=qe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=qe("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=qe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=qe("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=qe("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=qe("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=qe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=qe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=qe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=qe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=qe("MoveVertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=qe("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=qe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=qe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=qe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=qe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=qe("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=qe("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=qe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=qe("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=qe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=qe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Pw="-",fF=t=>{const e=mF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Pw);return o[0]===""&&o.length!==1&&o.shift(),AT(o,e)||pF(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},AT=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?AT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Pw);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},sj=/^\[(.+)\]$/,pF=t=>{if(sj.test(t)){const e=sj.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vF(Object.entries(t.classGroups),n).forEach(([s,a])=>{mb(a,r,s,e)}),r},mb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:aj(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(gF(i)){mb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{mb(a,aj(e,s),n,r)})})},aj=(t,e)=>{let n=t;return e.split(Pw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gF=t=>t.isThemeGetter,vF=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,xF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},TT="!",yF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,h;for(let w=0;w<o.length;w++){let x=o[w];if(u===0){if(x===i&&(r||o.slice(w,w+s)===e)){c.push(o.slice(d,w)),d=w+s;continue}if(x==="/"){h=w;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?o:o.substring(d),f=p.startsWith(TT),b=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:a}):a},bF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},wF=t=>({cache:xF(t.cacheSize),parseClassName:yF(t),...fF(t)}),SF=/\s+/,jF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(SF);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(u);let b=!!f,g=r(b?p.substring(0,f):p);if(!g){if(!b){o=u+(o.length>0?" "+o:o);continue}if(g=r(p),!g){o=u+(o.length>0?" "+o:o);continue}b=!1}const w=bF(d).join(":"),x=h?w+TT:w,y=x+g;if(s.includes(y))continue;s.push(y);const N=i(g,b);for(let A=0;A<N.length;++A){const k=N[A];s.push(x+k)}o=u+(o.length>0?" "+o:o)}return o};function NF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kT(e))&&(r&&(r+=" "),r+=n);return r}const kT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kT(t[r]))&&(n&&(n+=" "),n+=e);return n};function CF(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=wF(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=jF(c,n);return i(c,d),d}return function(){return s(NF.apply(null,arguments))}}const un=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ET=/^\[(?:([a-z-]+):)?(.+)\]$/i,_F=/^\d+\/\d+$/,AF=new Set(["px","full","screen"]),TF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ia=t=>md(t)||AF.has(t)||_F.test(t),Ro=t=>fh(t,"length",BF),md=t=>!!t&&!Number.isNaN(Number(t)),dy=t=>fh(t,"number",md),df=t=>!!t&&Number.isInteger(Number(t)),MF=t=>t.endsWith("%")&&md(t.slice(0,-1)),wt=t=>ET.test(t),Fo=t=>TF.test(t),DF=new Set(["length","size","percentage"]),PF=t=>fh(t,DF,OT),RF=t=>fh(t,"position",OT),FF=new Set(["image","url"]),IF=t=>fh(t,FF,UF),zF=t=>fh(t,"",qF),hf=()=>!0,fh=(t,e,n)=>{const r=ET.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},BF=t=>kF.test(t)&&!EF.test(t),OT=()=>!1,qF=t=>OF.test(t),UF=t=>LF.test(t),HF=()=>{const t=un("colors"),e=un("spacing"),n=un("blur"),r=un("brightness"),i=un("borderColor"),s=un("borderRadius"),a=un("borderSpacing"),o=un("borderWidth"),c=un("contrast"),u=un("grayscale"),d=un("hueRotate"),h=un("invert"),p=un("gap"),f=un("gradientColorStops"),b=un("gradientColorStopPositions"),g=un("inset"),w=un("margin"),x=un("opacity"),y=un("padding"),N=un("saturate"),A=un("scale"),k=un("sepia"),E=un("skew"),R=un("space"),O=un("translate"),H=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",wt,e],T=()=>[wt,e],X=()=>["",Ia,Ro],B=()=>["auto",md,wt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",wt],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Oe=()=>[md,wt];return{cacheSize:500,separator:":",theme:{colors:[hf],spacing:[Ia,Ro],blur:["none","",Fo,wt],brightness:Oe(),borderColor:[t],borderRadius:["none","","full",Fo,wt],borderSpacing:T(),borderWidth:X(),contrast:Oe(),grayscale:re(),hueRotate:Oe(),invert:re(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[MF,Ro],inset:D(),margin:D(),opacity:Oe(),padding:T(),saturate:Oe(),scale:Oe(),sepia:re(),skew:Oe(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[Fo]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),wt]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",df,wt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",df,wt]}],"grid-cols":[{"grid-cols":[hf]}],"col-start-end":[{col:["auto",{span:["full",df,wt]},wt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[hf]}],"row-start-end":[{row:["auto",{span:[df,wt]},wt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,e]}],"min-w":[{"min-w":[wt,e,"min","max","fit"]}],"max-w":[{"max-w":[wt,e,"none","full","min","max","fit","prose",{screen:[Fo]},Fo]}],h:[{h:[wt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fo,Ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dy]}],"font-family":[{font:[hf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",md,dy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ia,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ia,Ro]}],"underline-offset":[{"underline-offset":["auto",Ia,wt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),RF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ia,wt]}],"outline-w":[{outline:[Ia,Ro]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ia,Ro]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fo,zF]}],"shadow-color":[{shadow:[hf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fo,wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:Oe()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:Oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[df,wt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ia,Ro,dy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VF=CF(HF);function _t(...t){return VF(gT(t))}const GF=v9,LT=C.forwardRef(({className:t,...e},n)=>l.jsx(cT,{ref:n,className:_t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));LT.displayName=cT.displayName;const YF=Zv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MT=C.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(uT,{ref:r,className:_t(YF({variant:e}),t),...n}));MT.displayName=uT.displayName;const XF=C.forwardRef(({className:t,...e},n)=>l.jsx(fT,{ref:n,className:_t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));XF.displayName=fT.displayName;const DT=C.forwardRef(({className:t,...e},n)=>l.jsx(pT,{ref:n,className:_t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(vo,{className:"h-4 w-4"})}));DT.displayName=pT.displayName;const PT=C.forwardRef(({className:t,...e},n)=>l.jsx(dT,{ref:n,className:_t("text-sm font-semibold",t),...e}));PT.displayName=dT.displayName;const RT=C.forwardRef(({className:t,...e},n)=>l.jsx(hT,{ref:n,className:_t("text-sm opacity-90",t),...e}));RT.displayName=hT.displayName;function WF(){const{toasts:t}=UA();return l.jsxs(GF,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(MT,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(PT,{children:n}),r&&l.jsx(RT,{children:r})]}),i,l.jsx(DT,{})]},e)}),l.jsx(LT,{})]})}var $F=b5[" useId ".trim().toString()]||(()=>{}),KF=0;function Sl(t){const[e,n]=C.useState($F());return qn(()=>{n(r=>r??String(KF++))},[t]),e?`radix-${e}`:""}const QF=["top","right","bottom","left"],Al=Math.min,Si=Math.max,nv=Math.round,ug=Math.floor,pa=t=>({x:t,y:t}),ZF={left:"right",right:"left",bottom:"top",top:"bottom"},JF={start:"end",end:"start"};function gb(t,e,n){return Si(t,Al(e,n))}function co(t,e){return typeof t=="function"?t(e):t}function uo(t){return t.split("-")[0]}function ph(t){return t.split("-")[1]}function Rw(t){return t==="x"?"y":"x"}function Fw(t){return t==="y"?"height":"width"}const eI=new Set(["top","bottom"]);function oa(t){return eI.has(uo(t))?"y":"x"}function Iw(t){return Rw(oa(t))}function tI(t,e,n){n===void 0&&(n=!1);const r=ph(t),i=Iw(t),s=Fw(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=rv(a)),[a,rv(a)]}function nI(t){const e=rv(t);return[vb(t),e,vb(e)]}function vb(t){return t.replace(/start|end/g,e=>JF[e])}const oj=["left","right"],lj=["right","left"],rI=["top","bottom"],iI=["bottom","top"];function sI(t,e,n){switch(t){case"top":case"bottom":return n?e?lj:oj:e?oj:lj;case"left":case"right":return e?rI:iI;default:return[]}}function aI(t,e,n,r){const i=ph(t);let s=sI(uo(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(vb)))),s}function rv(t){return t.replace(/left|right|bottom|top/g,e=>ZF[e])}function oI(t){return{top:0,right:0,bottom:0,left:0,...t}}function FT(t){return typeof t!="number"?oI(t):{top:t,right:t,bottom:t,left:t}}function iv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function cj(t,e,n){let{reference:r,floating:i}=t;const s=oa(e),a=Iw(e),o=Fw(a),c=uo(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let f;switch(c){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ph(e)){case"start":f[a]-=p*(n&&u?-1:1);break;case"end":f[a]+=p*(n&&u?-1:1);break}return f}const lI=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=cj(u,r,c),p=r,f={},b=0;for(let g=0;g<o.length;g++){const{name:w,fn:x}=o[g],{x:y,y:N,data:A,reset:k}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:u,platform:a,elements:{reference:t,floating:e}});d=y??d,h=N??h,f={...f,[w]:{...f[w],...A}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:h}=cj(u,p,c)),g=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:f}};async function pp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=co(e,t),b=FT(f),w=o[p?h==="floating"?"reference":"floating":h],x=iv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},k=iv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:N,strategy:c}):y);return{top:(x.top-k.top+b.top)/A.y,bottom:(k.bottom-x.bottom+b.bottom)/A.y,left:(x.left-k.left+b.left)/A.x,right:(k.right-x.right+b.right)/A.x}}const cI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=co(t,e)||{};if(u==null)return{};const h=FT(d),p={x:n,y:r},f=Iw(i),b=Fw(f),g=await a.getDimensions(u),w=f==="y",x=w?"top":"left",y=w?"bottom":"right",N=w?"clientHeight":"clientWidth",A=s.reference[b]+s.reference[f]-p[f]-s.floating[b],k=p[f]-s.reference[f],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let R=E?E[N]:0;(!R||!await(a.isElement==null?void 0:a.isElement(E)))&&(R=o.floating[N]||s.floating[b]);const O=A/2-k/2,H=R/2-g[b]/2-1,K=Al(h[x],H),D=Al(h[y],H),T=K,X=R-g[b]-D,B=R/2-g[b]/2+O,ee=gb(T,B,X),G=!c.arrow&&ph(i)!=null&&B!==ee&&s.reference[b]/2-(B<T?K:D)-g[b]/2<0,te=G?B<T?B-T:B-X:0;return{[f]:p[f]+te,data:{[f]:ee,centerOffset:B-ee-te,...G&&{alignmentOffset:te}},reset:G}}}),uI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=co(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=uo(i),y=oa(o),N=uo(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(N||!g?[rv(o)]:nI(o)),E=b!=="none";!p&&E&&k.push(...aI(o,g,b,A));const R=[o,...k],O=await pp(e,w),H=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&H.push(O[x]),h){const B=tI(i,a,A);H.push(O[B[0]],O[B[1]])}if(K=[...K,{placement:i,overflows:H}],!H.every(B=>B<=0)){var D,T;const B=(((D=s.flip)==null?void 0:D.index)||0)+1,ee=R[B];if(ee&&(!(h==="alignment"?y!==oa(ee):!1)||K.every(V=>V.overflows[0]>0&&oa(V.placement)===y)))return{data:{index:B,overflows:K},reset:{placement:ee}};let G=(T=K.filter(te=>te.overflows[0]<=0).sort((te,V)=>te.overflows[1]-V.overflows[1])[0])==null?void 0:T.placement;if(!G)switch(f){case"bestFit":{var X;const te=(X=K.filter(V=>{if(E){const re=oa(V.placement);return re===y||re==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((V,re)=>V[1]-re[1])[0])==null?void 0:X[0];te&&(G=te);break}case"initialPlacement":G=o;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function uj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dj(t){return QF.some(e=>t[e]>=0)}const dI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=co(t,e);switch(r){case"referenceHidden":{const s=await pp(e,{...i,elementContext:"reference"}),a=uj(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dj(a)}}}case"escaped":{const s=await pp(e,{...i,altBoundary:!0}),a=uj(s,n.floating);return{data:{escapedOffsets:a,escaped:dj(a)}}}default:return{}}}}},IT=new Set(["left","top"]);async function hI(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=uo(n),o=ph(n),c=oa(n)==="y",u=IT.has(a)?-1:1,d=s&&c?-1:1,h=co(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof b=="number"&&(f=o==="end"?b*-1:b),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const fI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await hI(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},pI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x,y}=w;return{x,y}}},...c}=co(t,e),u={x:n,y:r},d=await pp(e,c),h=oa(uo(i)),p=Rw(h);let f=u[p],b=u[h];if(s){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=f+d[w],N=f-d[x];f=gb(y,f,N)}if(a){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=b+d[w],N=b-d[x];b=gb(y,b,N)}const g=o.fn({...e,[p]:f,[h]:b});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:s,[h]:a}}}}}},mI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=co(t,e),d={x:n,y:r},h=oa(i),p=Rw(h);let f=d[p],b=d[h];const g=co(o,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=p==="y"?"height":"width",A=s.reference[p]-s.floating[N]+w.mainAxis,k=s.reference[p]+s.reference[N]-w.mainAxis;f<A?f=A:f>k&&(f=k)}if(u){var x,y;const N=p==="y"?"width":"height",A=IT.has(uo(i)),k=s.reference[h]-s.floating[N]+(A&&((x=a.offset)==null?void 0:x[h])||0)+(A?0:w.crossAxis),E=s.reference[h]+s.reference[N]+(A?0:((y=a.offset)==null?void 0:y[h])||0)-(A?w.crossAxis:0);b<k?b=k:b>E&&(b=E)}return{[p]:f,[h]:b}}}},gI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=co(t,e),d=await pp(e,u),h=uo(i),p=ph(i),f=oa(i)==="y",{width:b,height:g}=s.floating;let w,x;h==="top"||h==="bottom"?(w=h,x=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,w=p==="end"?"top":"bottom");const y=g-d.top-d.bottom,N=b-d.left-d.right,A=Al(g-d[w],y),k=Al(b-d[x],N),E=!e.middlewareData.shift;let R=A,O=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=y),E&&!p){const K=Si(d.left,0),D=Si(d.right,0),T=Si(d.top,0),X=Si(d.bottom,0);f?O=b-2*(K!==0||D!==0?K+D:Si(d.left,d.right)):R=g-2*(T!==0||X!==0?T+X:Si(d.top,d.bottom))}await c({...e,availableWidth:O,availableHeight:R});const H=await a.getDimensions(o.floating);return b!==H.width||g!==H.height?{reset:{rects:!0}}:{}}}};function ix(){return typeof window<"u"}function mh(t){return zT(t)?(t.nodeName||"").toLowerCase():"#document"}function ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ba(t){var e;return(e=(zT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zT(t){return ix()?t instanceof Node||t instanceof ki(t).Node:!1}function Ls(t){return ix()?t instanceof Element||t instanceof ki(t).Element:!1}function ga(t){return ix()?t instanceof HTMLElement||t instanceof ki(t).HTMLElement:!1}function hj(t){return!ix()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ki(t).ShadowRoot}const vI=new Set(["inline","contents"]);function Qp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vI.has(i)}const xI=new Set(["table","td","th"]);function yI(t){return xI.has(mh(t))}const bI=[":popover-open",":modal"];function sx(t){return bI.some(e=>{try{return t.matches(e)}catch{return!1}})}const wI=["transform","translate","scale","rotate","perspective"],SI=["transform","translate","scale","rotate","perspective","filter"],jI=["paint","layout","strict","content"];function zw(t){const e=Bw(),n=Ls(t)?Ms(t):t;return wI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SI.some(r=>(n.willChange||"").includes(r))||jI.some(r=>(n.contain||"").includes(r))}function NI(t){let e=Tl(t);for(;ga(e)&&!Jd(e);){if(zw(e))return e;if(sx(e))return null;e=Tl(e)}return null}function Bw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CI=new Set(["html","body","#document"]);function Jd(t){return CI.has(mh(t))}function Ms(t){return ki(t).getComputedStyle(t)}function ax(t){return Ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tl(t){if(mh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hj(t)&&t.host||ba(t);return hj(e)?e.host:e}function BT(t){const e=Tl(t);return Jd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ga(e)&&Qp(e)?e:BT(e)}function mp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BT(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ki(i);if(s){const o=xb(a);return e.concat(a,a.visualViewport||[],Qp(i)?i:[],o&&n?mp(o):[])}return e.concat(i,mp(i,[],n))}function xb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qT(t){const e=Ms(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ga(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=nv(n)!==s||nv(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function qw(t){return Ls(t)?t:t.contextElement}function gd(t){const e=qw(t);if(!ga(e))return pa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=qT(e);let a=(s?nv(n.width):n.width)/r,o=(s?nv(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const _I=pa(0);function UT(t){const e=ki(t);return!Bw()||!e.visualViewport?_I:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ki(t)?!1:e}function Fc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=qw(t);let a=pa(1);e&&(r?Ls(r)&&(a=gd(r)):a=gd(t));const o=AI(s,n,r)?UT(s):pa(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const p=ki(s),f=r&&Ls(r)?ki(r):r;let b=p,g=xb(b);for(;g&&r&&f!==b;){const w=gd(g),x=g.getBoundingClientRect(),y=Ms(g),N=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,A=x.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=N,u+=A,b=ki(g),g=xb(b)}}return iv({width:d,height:h,x:c,y:u})}function Uw(t,e){const n=ax(t).scrollLeft;return e?e.left+n:Fc(ba(t)).left+n}function HT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Uw(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function TI(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=ba(r),o=e?sx(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=pa(1);const d=pa(0),h=ga(r);if((h||!h&&!s)&&((mh(r)!=="body"||Qp(a))&&(c=ax(r)),ga(r))){const f=Fc(r);u=gd(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const p=a&&!h&&!s?HT(a,c,!0):pa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function kI(t){return Array.from(t.getClientRects())}function EI(t){const e=ba(t),n=ax(t),r=t.ownerDocument.body,i=Si(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Si(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Uw(t);const o=-n.scrollTop;return Ms(r).direction==="rtl"&&(a+=Si(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function OI(t,e){const n=ki(t),r=ba(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=Bw();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}const LI=new Set(["absolute","fixed"]);function MI(t,e){const n=Fc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ga(t)?gd(t):pa(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function fj(t,e,n){let r;if(e==="viewport")r=OI(t,n);else if(e==="document")r=EI(ba(t));else if(Ls(e))r=MI(e,n);else{const i=UT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return iv(r)}function VT(t,e){const n=Tl(t);return n===e||!Ls(n)||Jd(n)?!1:Ms(n).position==="fixed"||VT(n,e)}function DI(t,e){const n=e.get(t);if(n)return n;let r=mp(t,[],!1).filter(o=>Ls(o)&&mh(o)!=="body"),i=null;const s=Ms(t).position==="fixed";let a=s?Tl(t):t;for(;Ls(a)&&!Jd(a);){const o=Ms(a),c=zw(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&LI.has(i.position)||Qp(a)&&!c&&VT(t,a))?r=r.filter(d=>d!==a):i=o,a=Tl(a)}return e.set(t,r),r}function PI(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?sx(e)?[]:DI(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const h=fj(e,d,i);return u.top=Si(h.top,u.top),u.right=Al(h.right,u.right),u.bottom=Al(h.bottom,u.bottom),u.left=Si(h.left,u.left),u},fj(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RI(t){const{width:e,height:n}=qT(t);return{width:e,height:n}}function FI(t,e,n){const r=ga(e),i=ba(e),s=n==="fixed",a=Fc(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=pa(0);function u(){c.x=Uw(i)}if(r||!r&&!s)if((mh(e)!=="body"||Qp(i))&&(o=ax(e)),r){const f=Fc(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?HT(i,o):pa(0),h=a.left+o.scrollLeft-c.x-d.x,p=a.top+o.scrollTop-c.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function hy(t){return Ms(t).position==="static"}function pj(t,e){if(!ga(t)||Ms(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ba(t)===n&&(n=n.ownerDocument.body),n}function GT(t,e){const n=ki(t);if(sx(t))return n;if(!ga(t)){let i=Tl(t);for(;i&&!Jd(i);){if(Ls(i)&&!hy(i))return i;i=Tl(i)}return n}let r=pj(t,e);for(;r&&yI(r)&&hy(r);)r=pj(r,e);return r&&Jd(r)&&hy(r)&&!zw(r)?n:r||NI(t)||n}const II=async function(t){const e=this.getOffsetParent||GT,n=this.getDimensions,r=await n(t.floating);return{reference:FI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zI(t){return Ms(t).direction==="rtl"}const BI={convertOffsetParentRelativeRectToViewportRelativeRect:TI,getDocumentElement:ba,getClippingRect:PI,getOffsetParent:GT,getElementRects:II,getClientRects:kI,getDimensions:RI,getScale:gd,isElement:Ls,isRTL:zI};function YT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qI(t,e){let n=null,r;const i=ba(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(o||e(),!p||!f)return;const b=ug(h),g=ug(i.clientWidth-(d+p)),w=ug(i.clientHeight-(h+f)),x=ug(d),N={rootMargin:-b+"px "+-g+"px "+-w+"px "+-x+"px",threshold:Si(0,Al(1,c))||1};let A=!0;function k(E){const R=E[0].intersectionRatio;if(R!==c){if(!A)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!YT(u,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(k,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,N)}n.observe(t)}return a(!0),s}function UI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qw(t),d=i||s?[...u?mp(u):[],...mp(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const h=u&&o?qI(u,n):null;let p=-1,f=null;a&&(f=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=f)==null||N.observe(e)})),n()}),u&&!c&&f.observe(u),f.observe(e));let b,g=c?Fc(t):null;c&&w();function w(){const x=Fc(t);g&&!YT(g,x)&&n(),g=x,b=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(b)}}const HI=fI,VI=pI,GI=uI,YI=gI,XI=dI,mj=cI,WI=mI,$I=(t,e,n)=>{const r=new Map,i={platform:BI,...n},s={...i.platform,_c:r};return lI(t,e,{...i,platform:s})};var KI=typeof document<"u",QI=function(){},c0=KI?C.useLayoutEffect:QI;function sv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!sv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function XT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gj(t,e){const n=XT(t);return Math.round(e*n)/n}function fy(t){const e=C.useRef(t);return c0(()=>{e.current=t}),e}function ZI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=C.useState(r);sv(p,r)||f(r);const[b,g]=C.useState(null),[w,x]=C.useState(null),y=C.useCallback(V=>{V!==E.current&&(E.current=V,g(V))},[]),N=C.useCallback(V=>{V!==R.current&&(R.current=V,x(V))},[]),A=s||b,k=a||w,E=C.useRef(null),R=C.useRef(null),O=C.useRef(d),H=c!=null,K=fy(c),D=fy(i),T=fy(u),X=C.useCallback(()=>{if(!E.current||!R.current)return;const V={placement:e,strategy:n,middleware:p};D.current&&(V.platform=D.current),$I(E.current,R.current,V).then(re=>{const de={...re,isPositioned:T.current!==!1};B.current&&!sv(O.current,de)&&(O.current=de,Uc.flushSync(()=>{h(de)}))})},[p,e,n,D,T]);c0(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const B=C.useRef(!1);c0(()=>(B.current=!0,()=>{B.current=!1}),[]),c0(()=>{if(A&&(E.current=A),k&&(R.current=k),A&&k){if(K.current)return K.current(A,k,X);X()}},[A,k,X,K,H]);const ee=C.useMemo(()=>({reference:E,floating:R,setReference:y,setFloating:N}),[y,N]),G=C.useMemo(()=>({reference:A,floating:k}),[A,k]),te=C.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const re=gj(G.floating,d.x),de=gj(G.floating,d.y);return o?{...V,transform:"translate("+re+"px, "+de+"px)",...XT(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:de}},[n,o,G.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:X,refs:ee,elements:G,floatingStyles:te}),[d,X,ee,G,te])}const JI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mj({element:r.current,padding:i}).fn(n):{}:r?mj({element:r,padding:i}).fn(n):{}}}},ez=(t,e)=>({...HI(t),options:[t,e]}),tz=(t,e)=>({...VI(t),options:[t,e]}),nz=(t,e)=>({...WI(t),options:[t,e]}),rz=(t,e)=>({...GI(t),options:[t,e]}),iz=(t,e)=>({...YI(t),options:[t,e]}),sz=(t,e)=>({...XI(t),options:[t,e]}),az=(t,e)=>({...JI(t),options:[t,e]});var oz="Arrow",WT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(ct.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});WT.displayName=oz;var lz=WT;function Hw(t){const[e,n]=C.useState(void 0);return qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vw="Popper",[$T,ox]=Ps(Vw),[cz,KT]=$T(Vw),QT=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return l.jsx(cz,{scope:e,anchor:r,onAnchorChange:i,children:n})};QT.displayName=Vw;var ZT="PopperAnchor",JT=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=KT(ZT,n),a=C.useRef(null),o=Mt(e,a);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(ct.div,{...i,ref:o})});JT.displayName=ZT;var Gw="PopperContent",[uz,dz]=$T(Gw),ek=C.forwardRef((t,e)=>{var ie,ce,ve,je,Ce,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...g}=t,w=KT(Gw,n),[x,y]=C.useState(null),N=Mt(e,Be=>y(Be)),[A,k]=C.useState(null),E=Hw(A),R=(E==null?void 0:E.width)??0,O=(E==null?void 0:E.height)??0,H=r+(s!=="center"?"-"+s:""),K=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],T=D.length>0,X={padding:K,boundary:D.filter(fz),altBoundary:T},{refs:B,floatingStyles:ee,placement:G,isPositioned:te,middlewareData:V}=ZI({strategy:"fixed",placement:H,whileElementsMounted:(...Be)=>UI(...Be,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[ez({mainAxis:i+O,alignmentAxis:a}),c&&tz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?nz():void 0,...X}),c&&rz({...X}),iz({...X,apply:({elements:Be,rects:he,availableWidth:J,availableHeight:P})=>{const{width:ne,height:ye}=he.reference,Se=Be.floating.style;Se.setProperty("--radix-popper-available-width",`${J}px`),Se.setProperty("--radix-popper-available-height",`${P}px`),Se.setProperty("--radix-popper-anchor-width",`${ne}px`),Se.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),A&&az({element:A,padding:o}),pz({arrowWidth:R,arrowHeight:O}),p&&sz({strategy:"referenceHidden",...X})]}),[re,de]=rk(G),Oe=ns(b);qn(()=>{te&&(Oe==null||Oe())},[te,Oe]);const F=(ie=V.arrow)==null?void 0:ie.x,Y=(ce=V.arrow)==null?void 0:ce.y,W=((ve=V.arrow)==null?void 0:ve.centerOffset)!==0,[Z,se]=C.useState();return qn(()=>{x&&se(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(je=V.transformOrigin)==null?void 0:je.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((ke=V.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(uz,{scope:n,placedSide:re,onArrowChange:k,arrowX:F,arrowY:Y,shouldHideArrow:W,children:l.jsx(ct.div,{"data-side":re,"data-align":de,...g,ref:N,style:{...g.style,animation:te?void 0:"none"}})})})});ek.displayName=Gw;var tk="PopperArrow",hz={top:"bottom",right:"left",bottom:"top",left:"right"},nk=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=dz(tk,r),a=hz[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(lz,{...i,ref:n,style:{...i.style,display:"block"}})})});nk.displayName=tk;function fz(t){return t!==null}var pz=t=>({name:"transformOrigin",options:t,fn(e){var w,x,y;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=rk(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=a?h:`${p}px`,g=`${-c}px`):u==="top"?(b=a?h:`${p}px`,g=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=a?h:`${f}px`):u==="left"&&(b=`${r.floating.width+c}px`,g=a?h:`${f}px`),{data:{x:b,y:g}}}});function rk(t){const[e,n="center"]=t.split("-");return[e,n]}var mz=QT,ik=JT,sk=ek,ak=nk,[lx,T$]=Ps("Tooltip",[ox]),Yw=ox(),ok="TooltipProvider",gz=700,vj="tooltip.open",[vz,lk]=lx(ok),ck=t=>{const{__scopeTooltip:e,delayDuration:n=gz,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=C.useRef(!0),o=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(vz,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};ck.displayName=ok;var uk="Tooltip",[k$,cx]=lx(uk),yb="TooltipTrigger",xz=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=cx(yb,n),s=lk(yb,n),a=Yw(n),o=C.useRef(null),c=Mt(e,o,i.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),h=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(ik,{asChild:!0,...a,children:l.jsx(ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:st(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:st(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:st(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:st(t.onBlur,i.onClose),onClick:st(t.onClick,i.onClose)})})});xz.displayName=yb;var yz="TooltipPortal",[E$,bz]=lx(yz,{forceMount:void 0}),eh="TooltipContent",dk=C.forwardRef((t,e)=>{const n=bz(eh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=cx(eh,t.__scopeTooltip);return l.jsx(Rl,{present:r||a.open,children:a.disableHoverableContent?l.jsx(hk,{side:i,...s,ref:e}):l.jsx(wz,{side:i,...s,ref:e})})}),wz=C.forwardRef((t,e)=>{const n=cx(eh,t.__scopeTooltip),r=lk(eh,t.__scopeTooltip),i=C.useRef(null),s=Mt(e,i),[a,o]=C.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,p=C.useCallback(()=>{o(null),h(!1)},[h]),f=C.useCallback((b,g)=>{const w=b.currentTarget,x={x:b.clientX,y:b.clientY},y=_z(x,w.getBoundingClientRect()),N=Az(x,y),A=Tz(g.getBoundingClientRect()),k=Ez([...N,...A]);o(k),h(!0)},[h]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(c&&d){const b=w=>f(w,d),g=w=>f(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,f,p]),C.useEffect(()=>{if(a){const b=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),N=!kz(x,a);y?p():N&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,a,u,p]),l.jsx(hk,{...t,ref:s})}),[Sz,jz]=lx(uk,{isInside:!1}),Nz=OR("TooltipContent"),hk=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=cx(eh,n),u=Yw(n),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(vj,d),()=>document.removeEventListener(vj,d)),[d]),C.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Xp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(sk,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Nz,{children:r}),l.jsx(Sz,{scope:n,isInside:!0,children:l.jsx(JR,{id:c.contentId,role:"tooltip",children:i||r})})]})})});dk.displayName=eh;var fk="TooltipArrow",Cz=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Yw(n);return jz(fk,n).isInside?null:l.jsx(ak,{...i,...r,ref:e})});Cz.displayName=fk;function _z(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Az(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Tz(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function kz(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,h=c.x,p=c.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(i=!i)}return i}function Ez(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Oz(e)}function Oz(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Lz=ck,pk=dk;const Mz=Lz,Dz=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(pk,{ref:r,sideOffset:e,className:_t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Dz.displayName=pk.displayName;const Gi=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Gi.displayName="Card";const Pz=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("flex flex-col space-y-1.5 p-6",t),...e}));Pz.displayName="CardHeader";const Rz=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("text-2xl font-semibold leading-none tracking-tight",t),...e}));Rz.displayName="CardTitle";const Fz=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("text-sm text-muted-foreground",t),...e}));Fz.displayName="CardDescription";const Yi=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("p-6 pt-0",t),...e}));Yi.displayName="CardContent";const Iz=C.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_t("flex items-center p-6 pt-0",t),...e}));Iz.displayName="CardFooter";function zz(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Gi,{className:"w-full max-w-md mx-4",children:l.jsxs(Yi,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(dp,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var mk={exports:{}},Bz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qz=Bz,Uz=qz;function gk(){}function vk(){}vk.resetWarningCache=gk;var Hz=function(){function t(r,i,s,a,o,c){if(c!==Uz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vk,resetWarningCache:gk};return n.PropTypes=n,n};mk.exports=Hz();var Vz=mk.exports;const it=sh(Vz);function Gz(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var xk=C,Yz=Gz(xk);function xj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Wz=!!(typeof window<"u"&&window.document&&window.document.createElement);function $z(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],o;function c(){o=t(a.map(function(d){return d.props})),u.canUseDOM?e(o):n&&(o=n(o))}var u=function(d){Xz(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return o},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var b=o;return o=void 0,a=[],b};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){a.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var b=a.indexOf(this);a.splice(b,1),c()},p.render=function(){return Yz.createElement(s,this.props)},h}(xk.PureComponent);return xj(u,"displayName","SideEffect("+r(s)+")"),xj(u,"canUseDOM",Wz),u}}var Kz=$z;const Qz=sh(Kz);var Zz=typeof Element<"u",Jz=typeof Map=="function",eB=typeof Set=="function",tB=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function u0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!u0(t[r],e[r]))return!1;return!0}var s;if(Jz&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!u0(r.value[1],e.get(r.value[0])))return!1;return!0}if(eB&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(tB&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Zz&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!u0(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var nB=function(e,n){try{return u0(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const rB=sh(nB);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yj=Object.getOwnPropertySymbols,iB=Object.prototype.hasOwnProperty,sB=Object.prototype.propertyIsEnumerable;function aB(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function oB(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var lB=oB()?Object.assign:function(t,e){for(var n,r=aB(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)iB.call(n,a)&&(r[a]=n[a]);if(yj){i=yj(n);for(var o=0;o<i.length;o++)sB.call(n,i[o])&&(r[i[o]]=n[i[o]])}}return r};const cB=sh(lB);var Ac={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},yt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(yt).map(function(t){return yt[t]});var pn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},av={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},gp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},uB=Object.keys(av).reduce(function(t,e){return t[av[e]]=e,t},{}),dB=[yt.NOSCRIPT,yt.SCRIPT,yt.STYLE],As="data-react-helmet",hB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fB=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pB=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mB=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},bj=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},gB=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},bb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},vB=function(e){var n=vd(e,yt.TITLE),r=vd(e,gp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=vd(e,gp.DEFAULT_TITLE);return n||i||void 0},xB=function(e){return vd(e,gp.ON_CHANGE_CLIENT_STATE)||function(){}},py=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Zr({},r,i)},{})},yB=function(e,n){return n.filter(function(r){return typeof r[yt.BASE]<"u"}).map(function(r){return r[yt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],c=o.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},ff=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&jB("Helmet: "+e+' should be of type "Array". Instead found type "'+hB(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,a){var o={};a.filter(function(p){for(var f=void 0,b=Object.keys(p),g=0;g<b.length;g++){var w=b[g],x=w.toLowerCase();n.indexOf(x)!==-1&&!(f===pn.REL&&p[f].toLowerCase()==="canonical")&&!(x===pn.REL&&p[x].toLowerCase()==="stylesheet")&&(f=x),n.indexOf(w)!==-1&&(w===pn.INNER_HTML||w===pn.CSS_TEXT||w===pn.ITEM_PROP)&&(f=w)}if(!f||!p[f])return!1;var y=p[f].toLowerCase();return i[f]||(i[f]={}),o[f]||(o[f]={}),i[f][y]?!1:(o[f][y]=!0,!0)}).reverse().forEach(function(p){return s.push(p)});for(var c=Object.keys(o),u=0;u<c.length;u++){var d=c[u],h=cB({},i[d],o[d]);i[d]=h}return s},[]).reverse()},vd=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},bB=function(e){return{baseTag:yB([pn.HREF,pn.TARGET],e),bodyAttributes:py(Ac.BODY,e),defer:vd(e,gp.DEFER),encode:vd(e,gp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:py(Ac.HTML,e),linkTags:ff(yt.LINK,[pn.REL,pn.HREF],e),metaTags:ff(yt.META,[pn.NAME,pn.CHARSET,pn.HTTPEQUIV,pn.PROPERTY,pn.ITEM_PROP],e),noscriptTags:ff(yt.NOSCRIPT,[pn.INNER_HTML],e),onChangeClientState:xB(e),scriptTags:ff(yt.SCRIPT,[pn.SRC,pn.INNER_HTML],e),styleTags:ff(yt.STYLE,[pn.CSS_TEXT],e),title:vB(e),titleAttributes:py(Ac.TITLE,e)}},wb=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){wb(e)},0)}}(),wj=function(e){return clearTimeout(e)},wB=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||wb:global.requestAnimationFrame||wb,SB=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||wj:global.cancelAnimationFrame||wj,jB=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},pf=null,NB=function(e){pf&&SB(pf),e.defer?pf=wB(function(){Sj(e,function(){pf=null})}):(Sj(e),pf=null)},Sj=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,p=e.title,f=e.titleAttributes;Sb(yt.BODY,i),Sb(yt.HTML,s),CB(p,f);var b={baseTag:ku(yt.BASE,r),linkTags:ku(yt.LINK,a),metaTags:ku(yt.META,o),noscriptTags:ku(yt.NOSCRIPT,c),scriptTags:ku(yt.SCRIPT,d),styleTags:ku(yt.STYLE,h)},g={},w={};Object.keys(b).forEach(function(x){var y=b[x],N=y.newTags,A=y.oldTags;N.length&&(g[x]=N),A.length&&(w[x]=b[x].oldTags)}),n&&n(),u(e,g,w)},yk=function(e){return Array.isArray(e)?e.join(""):e},CB=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=yk(e)),Sb(yt.TITLE,n)},Sb=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(As),s=i?i.split(","):[],a=[].concat(s),o=Object.keys(n),c=0;c<o.length;c++){var u=o[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),s.indexOf(u)===-1&&s.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var p=a.length-1;p>=0;p--)r.removeAttribute(a[p]);s.length===a.length?r.removeAttribute(As):r.getAttribute(As)!==o.join(",")&&r.setAttribute(As,o.join(","))}},ku=function(e,n){var r=document.head||document.querySelector(yt.HEAD),i=r.querySelectorAll(e+"["+As+"]"),s=Array.prototype.slice.call(i),a=[],o=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===pn.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===pn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(As,"true"),s.some(function(p,f){return o=f,u.isEqualNode(p)})?s.splice(o,1):a.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:a}},bk=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},_B=function(e,n,r,i){var s=bk(r),a=yk(n);return s?"<"+e+" "+As+'="true" '+s+">"+bb(a,i)+"</"+e+">":"<"+e+" "+As+'="true">'+bb(a,i)+"</"+e+">"},AB=function(e,n,r){return n.reduce(function(i,s){var a=Object.keys(s).filter(function(u){return!(u===pn.INNER_HTML||u===pn.CSS_TEXT)}).reduce(function(u,d){var h=typeof s[d]>"u"?d:d+'="'+bb(s[d],r)+'"';return u?u+" "+h:h},""),o=s.innerHTML||s.cssText||"",c=dB.indexOf(e)===-1;return i+"<"+e+" "+As+'="true" '+a+(c?"/>":">"+o+"</"+e+">")},"")},wk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[av[i]||i]=e[i],r},n)},TB=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[uB[i]||i]=e[i],r},n)},kB=function(e,n,r){var i,s=(i={key:n},i[As]=!0,i),a=wk(r,s);return[ht.createElement(yt.TITLE,a,n)]},EB=function(e,n){return n.map(function(r,i){var s,a=(s={key:i},s[As]=!0,s);return Object.keys(r).forEach(function(o){var c=av[o]||o;if(c===pn.INNER_HTML||c===pn.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[o]}),ht.createElement(e,a)})},za=function(e,n,r){switch(e){case yt.TITLE:return{toComponent:function(){return kB(e,n.title,n.titleAttributes)},toString:function(){return _B(e,n.title,n.titleAttributes,r)}};case Ac.BODY:case Ac.HTML:return{toComponent:function(){return wk(n)},toString:function(){return bk(n)}};default:return{toComponent:function(){return EB(e,n)},toString:function(){return AB(e,n,r)}}}},Sk=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,a=e.linkTags,o=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,p=h===void 0?"":h,f=e.titleAttributes;return{base:za(yt.BASE,n,i),bodyAttributes:za(Ac.BODY,r,i),htmlAttributes:za(Ac.HTML,s,i),link:za(yt.LINK,a,i),meta:za(yt.META,o,i),noscript:za(yt.NOSCRIPT,c,i),script:za(yt.SCRIPT,u,i),style:za(yt.STYLE,d,i),title:za(yt.TITLE,{title:p,titleAttributes:f},i)}},OB=function(e){var n,r;return r=n=function(i){mB(s,i);function s(){return fB(this,s),gB(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!rB(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,c){if(!c)return null;switch(o.type){case yt.SCRIPT:case yt.NOSCRIPT:return{innerHTML:c};case yt.STYLE:return{cssText:c}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var c,u=o.child,d=o.arrayTypeChildren,h=o.newChildProps,p=o.nestedChildren;return Zr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Zr({},h,this.mapNestedChildrenToProps(u,p))]),c))},s.prototype.mapObjectTypeChildren=function(o){var c,u,d=o.child,h=o.newProps,p=o.newChildProps,f=o.nestedChildren;switch(d.type){case yt.TITLE:return Zr({},h,(c={},c[d.type]=f,c.titleAttributes=Zr({},p),c));case yt.BODY:return Zr({},h,{bodyAttributes:Zr({},p)});case yt.HTML:return Zr({},h,{htmlAttributes:Zr({},p)})}return Zr({},h,(u={},u[d.type]=Zr({},p),u))},s.prototype.mapArrayTypeChildrenToProps=function(o,c){var u=Zr({},c);return Object.keys(o).forEach(function(d){var h;u=Zr({},u,(h={},h[d]=o[d],h))}),u},s.prototype.warnOnInvalidChildren=function(o,c){return!0},s.prototype.mapChildrenToProps=function(o,c){var u=this,d={};return ht.Children.forEach(o,function(h){if(!(!h||!h.props)){var p=h.props,f=p.children,b=bj(p,["children"]),g=TB(b);switch(u.warnOnInvalidChildren(h,f),h.type){case yt.LINK:case yt.META:case yt.NOSCRIPT:case yt.SCRIPT:case yt.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:g,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},s.prototype.render=function(){var o=this.props,c=o.children,u=bj(o,["children"]),d=Zr({},u);return c&&(d=this.mapChildrenToProps(c,d)),ht.createElement(e,d)},pB(s,null,[{key:"canUseDOM",set:function(o){e.canUseDOM=o}}]),s}(ht.Component),n.propTypes={base:it.object,bodyAttributes:it.object,children:it.oneOfType([it.arrayOf(it.node),it.node]),defaultTitle:it.string,defer:it.bool,encodeSpecialCharacters:it.bool,htmlAttributes:it.object,link:it.arrayOf(it.object),meta:it.arrayOf(it.object),noscript:it.arrayOf(it.object),onChangeClientState:it.func,script:it.arrayOf(it.object),style:it.arrayOf(it.object),title:it.string,titleAttributes:it.object,titleTemplate:it.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=Sk({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},LB=function(){return null},MB=Qz(bB,NB,Sk)(LB),ov=OB(MB);ov.renderStatic=ov.rewind;const DB=Zv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wt=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?kR:"button";return l.jsx(a,{className:_t(DB({variant:e,size:n,className:t})),ref:s,...i})});Wt.displayName="Button";const PB="/assets/Viewport%20image-B8bfqedJ.png";function RB(){const[t,e]=C.useState(!1),[n,r]=C.useState(0),[i,s]=C.useState(!1),a=["/tshirts-new/7.jpg","/tshirts-new/8.jpg","/tshirts-new/9.jpg","/tshirts-new/10.jpg","/tshirts-new/11.jpg","/tshirts-new/12.jpg"],o=C.useCallback(()=>{r(d=>(d+1)%a.length)},[a.length]),c=C.useCallback(()=>{r(d=>(d-1+a.length)%a.length)},[a.length]);C.useEffect(()=>{if(i)return;const d=setInterval(()=>{o()},8e3);return()=>clearInterval(d)},[o,i]);const u=()=>{s(!0),setTimeout(()=>s(!1),15e3)};return C.useEffect(()=>{e(!0)},[]),l.jsxs("section",{className:"relative bg-cover bg-center min-h-screen h-screen flex items-center pt-16 md:pt-20 pb-8 md:pb-10 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.5)), url(${PB})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/8 via-red-500/6 to-blue-500/8"}),l.jsx("div",{className:"container mx-auto px-4 h-full",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center h-full",children:[l.jsxs("div",{className:"w-full md:w-1/2 md:pl-12 lg:pl-24 text-center md:text-left flex flex-col justify-center",children:[l.jsxs("h1",{className:`text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight transition-all duration-1000 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[l.jsxs("div",{className:"inline-block relative",children:[l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-red-600 drop-shadow-[0_2px_3px_rgba(249,115,22,0.5)]",children:"Unleash Your Passion."}),l.jsx("div",{className:"absolute -right-8 -top-7 text-yellow-400 animate-pulse-slow",children:l.jsx(Mw,{className:"h-6 w-6"})})]}),l.jsx("br",{}),l.jsx("span",{className:`text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] transition-all duration-1000 delay-300 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:"Wear Your Power."})]}),l.jsx("p",{className:`mt-6 text-lg text-gray-200 mx-auto md:mx-0 max-w-lg transition-all duration-1000 delay-500 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:"Transform your anime fandom into wearable art with our premium customized products featuring your favorite legendary characters and epic designs."}),l.jsx("div",{className:`mt-8 transition-all duration-1000 delay-700 ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:l.jsx(Wt,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 inline-flex items-center px-8 py-4 rounded-full shadow-lg hover:shadow-orange-600/30 transform hover:-translate-y-1 transition-all duration-300",children:l.jsxs(Ir,{href:"/customize",children:["Create Your Design",l.jsx(Dn,{className:"ml-2 h-5 w-5"})]})})})]}),l.jsx("div",{className:"w-full md:w-1/2 flex justify-center md:justify-end mt-8 md:mt-0 items-center",children:l.jsx("div",{className:`relative transition-all duration-1000 delay-300 ease-out ${t?"opacity-100 scale-100":"opacity-0 scale-90"}`,style:{marginRight:"0.8cm"},children:l.jsxs("div",{className:"bg-black/30 backdrop-blur-md p-4 md:p-6 rounded-2xl border border-white/10 shadow-2xl hover:shadow-lg hover:translate-y-[-2px] transition-all duration-500 ease-out max-w-[550px] w-full",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl aspect-square group",style:{boxShadow:"0 0 20px rgba(0,0,0,0.15)"},onMouseEnter:u,onTouchStart:u,children:[l.jsx("div",{className:"absolute inset-0 bg-black/5 overflow-hidden rounded-3xl",children:l.jsx("div",{className:"w-full h-full opacity-5 bg-gradient-to-br from-white/3 to-transparent"})}),l.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-red-600/20 to-red-900/10",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("img",{src:a[n],alt:`Anime themed product ${n+1}`,className:"z-10",style:{filter:"drop-shadow(0 10px 8px rgb(0 0 0 / 0.2))",width:"360px",maxWidth:"none",height:"auto",transition:"opacity 0.5s ease"},loading:"lazy",onError:d=>{console.warn("Failed to load image:",a[n]);const h=d.target;h.src.includes(".jpg")&&(h.src=h.src.replace(".jpg",".png"))}})})}),l.jsx("button",{onClick:()=>{c(),u()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20","aria-label":"Previous image",children:l.jsx(Aw,{size:18})}),l.jsx("button",{onClick:()=>{o(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20","aria-label":"Next image",children:l.jsx(Tw,{size:18})}),l.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-1 z-20",children:a.map((d,h)=>l.jsx("button",{onClick:()=>{r(h),u()},className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all ${n===h?"bg-white":"bg-white/50"}`,"aria-label":`Go to image ${h+1}`},h))})]}),l.jsxs("div",{className:"mt-3 md:mt-4 bg-gradient-to-r from-black/70 to-black/60 backdrop-blur-sm p-3 md:p-4 rounded-lg text-white",children:[l.jsx("p",{className:"font-bold text-base md:text-lg",children:"Limited Edition Designs"}),l.jsx("p",{className:"text-gray-300 mt-1 text-sm md:text-base",children:"Premium quality prints on multiple products"}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx("div",{className:"flex -space-x-2",children:[...Array(4)].map((d,h)=>l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-800",style:{backgroundImage:`url(https://i.pravatar.cc/100?img=${h+10})`,backgroundSize:"cover",transform:`translateX(${h*5}px)`}},h))}),l.jsx("span",{className:"ml-4 text-sm text-gray-300",children:"250+ customers"})]})]})]})})})]})})]})}const jj=[{id:"regular",title:"Regular T-Shirts",description:"Premium cotton tees with anime designs",frontImageUrl:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1622445275576-721325763afe?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"599",rating:4.8,reviews:234},{id:"oversized",title:"Oversized T-Shirts",description:"Relaxed fit tees for maximum comfort",frontImageUrl:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1618354691373-d851c5c3a990?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"699",rating:4.9,reviews:189},{id:"polo",title:"Polo T-Shirts",description:"Elegant polos with embroidered designs",frontImageUrl:"https://images.unsplash.com/photo-1589831377283-33cb1cc6bd5d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1588117305388-c2631a279f82?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"tshirt",price:"799",rating:4.7,reviews:156},{id:"phone-covers",title:"Phone Covers",description:"Durable cases with anime artwork",frontImageUrl:"https://images.unsplash.com/photo-1606041011872-596597976b25?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1541345023926-55d6e0853f4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"other",price:"399",rating:4.6,reviews:312},{id:"plates",title:"Plates",description:"Ceramic plates with anime designs",frontImageUrl:"https://images.pexels.com/photos/6373307/pexels-photo-6373307.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",backImageUrl:"https://images.pexels.com/photos/5702993/pexels-photo-5702993.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",type:"other",price:"499",rating:4.5,reviews:89},{id:"bottles",title:"Bottles",description:"Anime-themed water bottles",frontImageUrl:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",backImageUrl:"https://images.unsplash.com/photo-1589365278144-c9e705f843ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",type:"other",price:"299",rating:4.4,reviews:167}];function FB(){const[t,e]=C.useState({}),[n,r]=C.useState({}),[i,s]=C.useState({});C.useEffect(()=>{const d=jj.map((h,p)=>setTimeout(()=>{r(f=>({...f,[h.id]:!0}))},150*p));return()=>{d.forEach(h=>clearTimeout(h))}},[]);const a=d=>{e(h=>({...h,[d]:!0}))},o=d=>{e(h=>({...h,[d]:!1}))},c=d=>{s(h=>({...h,[d]:!h[d]}))},u=d=>{window.location.href=`/products?category=${d}`};return l.jsx("section",{id:"products",className:"py-20 bg-gradient-to-br from-slate-50 via-white to-slate-100 min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full text-purple-700 text-sm font-medium mb-6",children:[l.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Premium Collection"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-4",children:["Anime-Inspired",l.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Products"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Express your passion for anime with our premium quality customizable merchandise"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:jj.map((d,h)=>l.jsx("div",{className:`transition-all duration-700 transform ${n[d.id]?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${h*100}ms`},children:l.jsxs(Gi,{className:"group relative bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 border-0",children:[l.jsxs("div",{className:"relative h-64 overflow-hidden cursor-pointer",onMouseEnter:()=>a(d.id),onMouseLeave:()=>o(d.id),children:[l.jsx("img",{src:d.frontImageUrl,alt:`${d.title} front view`,className:`absolute w-full h-full object-cover transition-all duration-700 ease-out transform group-hover:scale-110 ${t[d.id]?"opacity-0 scale-105":"opacity-100"}`,loading:"lazy"}),l.jsx("img",{src:d.backImageUrl,alt:`${d.title} back view`,className:`absolute w-full h-full object-cover transition-all duration-700 ease-out transform group-hover:scale-110 ${t[d.id]?"opacity-100 scale-105":"opacity-0"}`,loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white shadow-lg ${d.type==="tshirt"?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-emerald-500 to-teal-600"}`,children:d.type==="tshirt"?"Apparel":"Merchandise"})}),l.jsx("button",{onClick:()=>c(d.id),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300",children:l.jsx(oo,{className:`w-5 h-5 transition-all duration-300 ${i[d.id]?"fill-red-500 text-red-500":"text-gray-600 hover:text-red-500"}`})}),l.jsx("div",{className:`absolute bottom-4 left-4 right-4 text-center transition-all duration-300 ${t[d.id]?"opacity-0 translate-y-2":"opacity-100"}`,children:l.jsx("div",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium",children:"Hover to see back view"})})]}),l.jsxs(Yi,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),l.jsx("span",{className:"text-2xl font-bold text-purple-600",children:d.price})]}),l.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:d.description}),l.jsxs("div",{className:"flex items-center mb-4 space-x-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((p,f)=>l.jsx(Rc,{className:`w-4 h-4 ${f<Math.floor(d.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},f))}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.rating}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",d.reviews," reviews)"]})]}),l.jsxs(Wt,{onClick:()=>u(d.id),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl group",children:[l.jsx("span",{className:"mr-2",children:"Explore Designs"}),l.jsx(Dn,{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1"})]})]})]})},d.id))}),l.jsx("div",{className:"text-center mt-16",children:l.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white rounded-full shadow-lg",children:[l.jsx("span",{className:"text-gray-600 mr-2",children:""}),l.jsx("span",{className:"text-gray-700 font-medium",children:"New designs added weekly"})]})})]})})}const Nj=[{icon:l.jsx(eF,{className:"h-6 w-6"}),title:"Premium Fabric & Printing",description:"High-quality materials that perfectly showcase your favorite anime designs with vibrant, durable prints.",bgColor:"bg-red-600/10 text-red-600",borderColor:"border-red-500/20"},{icon:l.jsx(Jv,{className:"h-6 w-6"}),title:"High-Resolution 3D Mockups",description:"Preview your designs with realistic 3D mockups before ordering to ensure perfect placement.",bgColor:"bg-purple-500/10 text-purple-500",borderColor:"border-purple-500/20"},{icon:l.jsx(fp,{className:"h-6 w-6"}),title:"Global Shipping",description:"Fast and reliable worldwide shipping to bring your anime merchandise anywhere in the world.",bgColor:"bg-blue-500/10 text-blue-500",borderColor:"border-blue-500/20"},{icon:l.jsx(R9,{className:"h-6 w-6"}),title:"Anime-Focused Community",description:"Join our community of anime enthusiasts sharing their passion through custom merchandise.",bgColor:"bg-amber-500/10 text-amber-500",borderColor:"border-amber-500/20"},{icon:l.jsx(cF,{className:"h-6 w-6"}),title:"Multi-Position Design Options",description:"Place your designs on multiple positions of the same product for unique, personalized items.",bgColor:"bg-emerald-500/10 text-emerald-500",borderColor:"border-emerald-500/20"}];function IB(){const[t,e]=C.useState({});return C.useEffect(()=>{const n=Nj.map((r,i)=>setTimeout(()=>{e(s=>({...s,[i]:!0}))},100*i));return()=>{n.forEach(r=>clearTimeout(r))}},[]),l.jsxs("section",{className:"py-16 bg-gray-900 text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1607604276583-eef5d076aa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080&q=80')] bg-fixed bg-center bg-no-repeat opacity-5"}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-gray-900 to-transparent"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-900 to-transparent"}),l.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-red-600/5 rounded-full blur-3xl animate-pulse-slow"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-blue-600/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"1.5s"}}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl font-extrabold inline-block relative",children:["Why Choose ",l.jsx("span",{className:"text-red-600 drop-shadow-sm",children:"ANIME"})," ",l.jsx("span",{className:"text-white ml-2",children:"INDIA"}),"?",l.jsx("div",{className:"absolute -right-8 -top-5 text-yellow-400 animate-pulse-slow",children:l.jsx(Mw,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"mt-2 h-1 w-24 bg-gradient-to-r from-red-500 to-red-400 rounded-full mx-auto"}),l.jsx("p",{className:"mt-6 text-lg text-gray-300 max-w-2xl mx-auto",children:"We're dedicated to helping anime fans express their passion through high-quality merchandise"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Nj.map((n,r)=>l.jsx("div",{className:`transition-all duration-700 transform ${t[r]?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${r*100}ms`},children:l.jsxs(Gi,{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700/50 hover:border-gray-600/70 shadow-lg hover:shadow-xl hover:shadow-red-600/5 transition-all group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-700/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs(Yi,{className:"p-6 text-center relative z-10",children:[l.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${n.bgColor} ${n.borderColor} border mb-5 mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.icon}),l.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-red-100 transition-colors",children:n.title}),l.jsx("p",{className:"mt-4 text-gray-300 leading-relaxed",children:n.description})]})]})},r))})]})]})}function zB(){return bA.useSyncExternalStore(BB,()=>!0,()=>!1)}function BB(){return()=>{}}var Xw="Avatar",[qB,O$]=Ps(Xw),[UB,jk]=qB(Xw),Nk=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return l.jsx(UB,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(ct.span,{...r,ref:e})})});Nk.displayName=Xw;var Ck="AvatarImage",_k=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=jk(Ck,n),o=HB(r,s),c=ns(u=>{i(u),a.onImageLoadingStatusChange(u)});return qn(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(ct.img,{...s,ref:e,src:r}):null});_k.displayName=Ck;var Ak="AvatarFallback",Tk=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=jk(Ak,n),[a,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(ct.span,{...i,ref:e}):null});Tk.displayName=Ak;function Cj(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function HB(t,{referrerPolicy:e,crossOrigin:n}){const r=zB(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=C.useState(()=>Cj(s,t));return qn(()=>{o(Cj(s,t))},[s,t]),qn(()=>{const c=h=>()=>{o(h)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var kk=Nk,Ek=_k,Ok=Tk;const Ww=C.forwardRef(({className:t,...e},n)=>l.jsx(kk,{ref:n,className:_t("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ww.displayName=kk.displayName;const Lk=C.forwardRef(({className:t,...e},n)=>l.jsx(Ek,{ref:n,className:_t("aspect-square h-full w-full",t),...e}));Lk.displayName=Ek.displayName;const $w=C.forwardRef(({className:t,...e},n)=>l.jsx(Ok,{ref:n,className:_t("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$w.displayName=Ok.displayName;const mf=[{id:1,text:"The Demon Slayer design on my t-shirt is incredible! Perfect print quality that captures all the details and vibrant colors. Even after multiple washes, it still looks amazing.",stars:5,productImage:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Arjun Sharma",role:"Anime T-Shirt Enthusiast",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"2 weeks ago",helpfulCount:24},{id:2,text:"Just received my custom My Hero Academia phone case and it's beyond perfect! The design tool made it so easy to position the artwork. Will be ordering more anime merch soon!",stars:5,productImage:"https://images.unsplash.com/photo-1606041011872-596597976b25?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Priya Patel",role:"Cosplay Enthusiast",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"1 month ago",helpfulCount:18},{id:3,text:"Ordered oversized tees with Naruto designs for our anime club, and they were a massive hit! The 3D preview feature helped me perfect the design placement before ordering.",stars:4.5,productImage:"https://images.unsplash.com/photo-1621799754526-a0d52c49fad5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Vikram Mehta",role:"Anime Club President",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"3 weeks ago",helpfulCount:31},{id:4,text:"My custom Attack on Titan water bottle gets compliments everywhere I go! The print quality is exceptional and the design tool made it easy to get the artwork placed perfectly.",stars:5,productImage:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Anjali Kumar",role:"Anime Collector",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"5 days ago",helpfulCount:12},{id:5,text:"The quality exceeded my expectations! Got a custom Jujutsu Kaisen hoodie and the colors are so vibrant. Fast shipping and amazing customer service too!",stars:5,productImage:"https://images.unsplash.com/photo-1556821840-3a9c6dcb0c88?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",customer:{name:"Rohit Singh",role:"Manga Reader",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"1 week ago",helpfulCount:15},{id:6,text:"Love my One Piece themed plate set! Perfect for my anime room setup. The designs are crisp and the quality is restaurant-grade. Highly recommend!",stars:4.5,productImage:"https://images.pexels.com/photos/6373307/pexels-photo-6373307.jpeg?auto=compress&cs=tinysrgb&w=600&h=400",customer:{name:"Sakshi Gupta",role:"Anime Merchandise Lover",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100&q=80"},verified:!0,purchaseDate:"2 months ago",helpfulCount:22}];function VB(){const[t,e]=C.useState([]),[n,r]=C.useState(null);C.useEffect(()=>{const o=setInterval(()=>{e(c=>c.length<mf.length?[...c,c.length]:c)},200);return()=>clearInterval(o)},[]);const i=o=>Array.from({length:5}).map((c,u)=>{const d=u<Math.floor(o),h=u===Math.floor(o)&&o%1!==0;return l.jsxs("div",{className:"relative",children:[l.jsx(Rc,{className:"h-5 w-5 text-gray-300",fill:"currentColor"}),(d||h)&&l.jsx(Rc,{className:"h-5 w-5 text-yellow-400 absolute top-0 left-0",fill:"currentColor",style:{clipPath:h?"inset(0 50% 0 0)":"none"}})]},u)}),s=mf.reduce((o,c)=>o+c.stars,0)/mf.length,a=mf.length;return l.jsxs("section",{className:"py-20 bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full blur-3xl opacity-30"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-gradient-to-br from-pink-200 to-orange-200 rounded-full blur-3xl opacity-30"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full text-blue-700 text-sm font-medium mb-6",children:[l.jsx(oo,{className:"w-4 h-4 mr-2 fill-current"}),"Trusted by Anime Fans"]}),l.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-4",children:["What Our",l.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Amazing Customers Say"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Join thousands of satisfied anime fans who've brought their favorite characters to life with our premium custom merchandise"}),l.jsxs("div",{className:"flex items-center justify-center space-x-8 mb-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:i(5)}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s.toFixed(1)}),l.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),l.jsx("div",{className:"w-px h-16 bg-gray-200"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[a,"+"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Happy Customers"})]}),l.jsx("div",{className:"w-px h-16 bg-gray-200"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:"98%"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Satisfaction Rate"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:mf.map((o,c)=>l.jsx("div",{className:`transition-all duration-700 transform ${t.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${c*150}ms`},children:l.jsxs(Gi,{className:"group relative bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",onMouseEnter:()=>r(o.id),onMouseLeave:()=>r(null),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-3xl blur-sm opacity-0 group-hover:opacity-30 transition-opacity duration-500"}),l.jsxs("div",{className:"relative bg-white rounded-3xl overflow-hidden",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:o.productImage,alt:"Customer product",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.verified&&l.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center shadow-lg",children:[l.jsx(Mw,{className:"w-3 h-3 mr-1"}),"Verified"]}),l.jsx("div",{className:"absolute bottom-3 left-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg",children:l.jsx(Q9,{className:"w-5 h-5 text-blue-600"})})]}),l.jsxs(Yi,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"flex items-center space-x-1",children:i(o.stars)}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:o.purchaseDate})]}),l.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',o.text,'"']}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs(Ww,{className:"h-12 w-12 border-2 border-blue-100 mr-3 shadow-md",children:[l.jsx(Lk,{src:o.customer.image,alt:o.customer.name}),l.jsx($w,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold",children:o.customer.name.split(" ").map(u=>u[0]).join("")})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:o.customer.name}),l.jsx("p",{className:"text-sm text-blue-600 font-medium",children:o.customer.role})]})]})}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:l.jsxs("button",{className:"flex items-center text-sm text-gray-500 hover:text-blue-600 transition-colors",children:[l.jsx(oo,{className:"w-4 h-4 mr-1"}),o.helpfulCount," found helpful"]})})]})]})]})},o.id))}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 shadow-2xl transform hover:scale-105 transition-all duration-300",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Join Our Happy Customers?"}),l.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Create your own custom anime merchandise and experience the same quality that made our customers so happy!"}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>window.location.href="/products",className:"bg-white text-blue-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center",children:[l.jsx(Lw,{className:"w-5 h-5 mr-2"}),"Shop Now"]})})]})}),l.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"50k+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Products Sold"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"24h"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Fast Shipping"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"100%"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Premium Quality"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:"24/7"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Customer Support"})]})]})]})]})}var ux="Collapsible",[GB,Mk]=Ps(ux),[YB,Kw]=GB(ux),Dk=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=t,[c,u]=ao({prop:r,defaultProp:i??!1,onChange:a,caller:ux});return l.jsx(YB,{scope:n,disabled:s,contentId:Sl(),open:c,onOpenToggle:C.useCallback(()=>u(d=>!d),[u]),children:l.jsx(ct.div,{"data-state":Zw(c),"data-disabled":s?"":void 0,...o,ref:e})})});Dk.displayName=ux;var Pk="CollapsibleTrigger",Rk=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Kw(Pk,n);return l.jsx(ct.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Zw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:st(t.onClick,i.onOpenToggle)})});Rk.displayName=Pk;var Qw="CollapsibleContent",Fk=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Kw(Qw,t.__scopeCollapsible);return l.jsx(Rl,{present:n||i.open,children:({present:s})=>l.jsx(XB,{...r,ref:e,present:s})})});Fk.displayName=Qw;var XB=C.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,a=Kw(Qw,n),[o,c]=C.useState(r),u=C.useRef(null),d=Mt(e,u),h=C.useRef(0),p=h.current,f=C.useRef(0),b=f.current,g=a.open||o,w=C.useRef(g),x=C.useRef(void 0);return C.useEffect(()=>{const y=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(y)},[]),qn(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const N=y.getBoundingClientRect();h.current=N.height,f.current=N.width,w.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(r)}},[a.open,r]),l.jsx(ct.div,{"data-state":Zw(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:g&&i})});function Zw(t){return t?"open":"closed"}var WB=Dk,$B=Rk,KB=Fk,QB=C.createContext(void 0);function Jw(t){const e=C.useContext(QB);return t||e||"ltr"}var Rs="Accordion",ZB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[eS,JB,eq]=Wv(Rs),[dx,L$]=Ps(Rs,[eq,Mk]),tS=Mk(),Ik=ht.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return l.jsx(eS.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(iq,{...s,ref:e}):l.jsx(rq,{...i,ref:e})})});Ik.displayName=Rs;var[zk,tq]=dx(Rs),[Bk,nq]=dx(Rs,{collapsible:!1}),rq=ht.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=t,[o,c]=ao({prop:n,defaultProp:r??"",onChange:i,caller:Rs});return l.jsx(zk,{scope:t.__scopeAccordion,value:ht.useMemo(()=>o?[o]:[],[o]),onItemOpen:c,onItemClose:ht.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(Bk,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(qk,{...a,ref:e})})})}),iq=ht.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[a,o]=ao({prop:n,defaultProp:r??[],onChange:i,caller:Rs}),c=ht.useCallback(d=>o((h=[])=>[...h,d]),[o]),u=ht.useCallback(d=>o((h=[])=>h.filter(p=>p!==d)),[o]);return l.jsx(zk,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:l.jsx(Bk,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(qk,{...s,ref:e})})})}),[sq,hx]=dx(Rs),qk=ht.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...a}=t,o=ht.useRef(null),c=Mt(o,e),u=JB(n),h=Jw(i)==="ltr",p=st(t.onKeyDown,f=>{var O;if(!ZB.includes(f.key))return;const b=f.target,g=u().filter(H=>{var K;return!((K=H.ref.current)!=null&&K.disabled)}),w=g.findIndex(H=>H.ref.current===b),x=g.length;if(w===-1)return;f.preventDefault();let y=w;const N=0,A=x-1,k=()=>{y=w+1,y>A&&(y=N)},E=()=>{y=w-1,y<N&&(y=A)};switch(f.key){case"Home":y=N;break;case"End":y=A;break;case"ArrowRight":s==="horizontal"&&(h?k():E());break;case"ArrowDown":s==="vertical"&&k();break;case"ArrowLeft":s==="horizontal"&&(h?E():k());break;case"ArrowUp":s==="vertical"&&E();break}const R=y%x;(O=g[R].ref.current)==null||O.focus()});return l.jsx(sq,{scope:n,disabled:r,direction:i,orientation:s,children:l.jsx(eS.Slot,{scope:n,children:l.jsx(ct.div,{...a,"data-orientation":s,ref:c,onKeyDown:r?void 0:p})})})}),lv="AccordionItem",[aq,nS]=dx(lv),Uk=ht.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=hx(lv,n),a=tq(lv,n),o=tS(n),c=Sl(),u=r&&a.value.includes(r)||!1,d=s.disabled||t.disabled;return l.jsx(aq,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(WB,{"data-orientation":s.orientation,"data-state":Wk(u),...o,...i,ref:e,disabled:d,open:u,onOpenChange:h=>{h?a.onItemOpen(r):a.onItemClose(r)}})})});Uk.displayName=lv;var Hk="AccordionHeader",Vk=ht.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=hx(Rs,n),s=nS(Hk,n);return l.jsx(ct.h3,{"data-orientation":i.orientation,"data-state":Wk(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Vk.displayName=Hk;var jb="AccordionTrigger",Gk=ht.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=hx(Rs,n),s=nS(jb,n),a=nq(jb,n),o=tS(n);return l.jsx(eS.ItemSlot,{scope:n,children:l.jsx($B,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...o,...r,ref:e})})});Gk.displayName=jb;var Yk="AccordionContent",Xk=ht.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=hx(Rs,n),s=nS(Yk,n),a=tS(n);return l.jsx(KB,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Xk.displayName=Yk;function Wk(t){return t?"open":"closed"}var oq=Ik,lq=Uk,cq=Vk,$k=Gk,Kk=Xk;const uq=oq,Qk=C.forwardRef(({className:t,...e},n)=>l.jsx(lq,{ref:n,className:_t("border-b",t),...e}));Qk.displayName="AccordionItem";const Zk=C.forwardRef(({className:t,children:e,...n},r)=>l.jsx(cq,{className:"flex",children:l.jsxs($k,{ref:r,className:_t("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(_w,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Zk.displayName=$k.displayName;const Jk=C.forwardRef(({className:t,children:e,...n},r)=>l.jsx(Kk,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:_t("pb-4 pt-0",t),children:e})}));Jk.displayName=Kk.displayName;const dq=[{id:"copyright",question:"Can I use copyrighted anime characters?",answer:"While we understand the love for anime characters, we recommend using original artwork or designs you have permission to use. For personal use, fan art is generally acceptable, but for commercial purposes or bulk orders, we recommend using non-copyrighted designs or obtaining proper licenses. We can provide guidance on creating anime-inspired designs that don't infringe on copyrights."},{id:"materials",question:"What materials are the shirts made from?",answer:"Our t-shirts come in various premium fabrics. Regular t-shirts are made from 100% combed ring-spun cotton (180 GSM) for softness and durability. Oversized t-shirts use a heavier 220 GSM cotton blend for a relaxed drape. Our polo shirts feature a cotton-polyester blend with moisture-wicking properties. All fabrics are pre-shrunk and optimal for vibrant anime design printing."},{id:"shipping",question:"How long does it take to deliver?",answer:"Domestic shipping within India takes 3-5 business days after production (which takes 2-3 days for custom designs). International shipping can take 7-14 business days depending on the destination country. Express shipping options are available at checkout. All orders include tracking information and are packaged in protective materials to ensure your anime merchandise arrives in perfect condition."},{id:"cancel",question:"Can I cancel after uploading my design?",answer:"You can cancel your order within 2 hours of submission if the production hasn't started. Once we begin the printing process, cancellations aren't possible as we create each item on demand. However, if you're unhappy with the final product, we offer a satisfaction guarantee. Please contact our customer service team with your order details to discuss options."},{id:"design-positions",question:"Can I put designs on multiple positions of a shirt?",answer:"Yes! Our customization tool allows you to place designs on the front, back, both sleeves, and even the neck label. You can use different designs for each position or create a cohesive theme across all areas. Each position can be customized with different sizes and placements for truly unique anime merchandise that shows your fandom in creative ways."}];function hq(){return l.jsx("section",{className:"py-16 bg-gray-50 border-t border-b border-gray-200",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Frequently Asked Questions"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Everything you need to know about our anime merchandise and customization services"})]}),l.jsx(uq,{type:"single",collapsible:!0,className:"space-y-4",children:dq.map(t=>l.jsxs(Qk,{value:t.id,className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[l.jsx(Zk,{className:"px-6 py-4 text-left text-lg font-semibold text-gray-900 hover:text-red-600 transition-colors",children:t.question}),l.jsx(Jk,{className:"px-6 pb-4 text-gray-600",children:t.answer})]},t.id))}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't see your question here? ",l.jsx("a",{href:"/contact",className:"text-red-600 hover:underline",children:"Contact our support team"})]})})]})})}const fq=t=>{const e={};(!t.name||t.name.length<2)&&(e.name="Name must be at least 2 characters");const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!t.email||!n.test(t.email))&&(e.email="Please enter a valid email address"),t.inquiryType||(e.inquiryType="Please select an inquiry type"),(!t.message||t.message.length<10)&&(e.message="Message must be at least 10 characters"),e};function pq(){const[t,e]=C.useState({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),[n,r]=C.useState({}),[i,s]=C.useState(!1),[a,o]=C.useState(!1),c=d=>{const{name:h,value:p}=d.target;e(f=>({...f,[h]:p})),n[h]&&r(f=>({...f,[h]:""}))},u=async()=>{const d=fq(t);if(Object.keys(d).length>0){r(d);return}s(!0);try{await new Promise(h=>setTimeout(h,1e3)),o(!0),e({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),setTimeout(()=>o(!1),3e3)}catch(h){console.error("Error submitting form:",h)}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[a&&l.jsx("div",{className:"mb-8 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:"Message sent successfully! We'll get back to you as soon as possible."})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{children:l.jsxs("div",{className:"h-full bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"%3E%3Cpath d="M0,0h1000v1000H0V0z" fill="%23000"/>%3Cg fill="%23111"%3E%3Cpath d="M100,200h800v100H100V200z"/>%3Cpath d="M200,400h600v100H200V400z"/>%3Cpath d="M150,600h700v100H150V600z"/>%3C/g%3E%3C/svg%3E')`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/70"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold",children:[l.jsx("span",{className:"text-red-400",children:"ANIME"}),l.jsx("span",{className:"text-white ml-1",children:"INDIA"})," Support"]}),l.jsx("p",{className:"text-gray-300 mt-2",children:"We aim to respond to all inquiries within 24 hours."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Wc,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Email"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"support@animeindia.com"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tx,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Phone"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"+91 123 456 7890"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(kw,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Address"}),l.jsxs("p",{className:"text-gray-300 text-sm",children:["123 Anime Street",l.jsx("br",{}),"Mumbai, Maharashtra 400001",l.jsx("br",{}),"India"]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(NT,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Social Media"}),l.jsxs("div",{className:"flex space-x-3 mt-2",children:[l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Instagram"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"YouTube"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Twitter"})]})]})]})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border border-red-100 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Send us a message"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below to create a support ticket"}),l.jsx("div",{className:"h-1 w-20 bg-red-600 rounded-full mt-3"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),n.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:c,placeholder:"your.email@example.com",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),n.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"orderNumber",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Order ID (if applicable)"}),l.jsx("input",{type:"text",id:"orderNumber",name:"orderNumber",value:t.orderNumber,onChange:c,placeholder:"e.g. AI-12345",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Inquiry Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{value:"general",label:"General Question"},{value:"order",label:"Order Status"},{value:"design",label:"Design Help"},{value:"return",label:"Returns & Refunds"}].map(d=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"inquiryType",value:d.value,checked:t.inquiryType===d.value,onChange:c,className:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"}),l.jsx("span",{className:"text-gray-700",children:d.label})]},d.value))}),n.inquiryType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.inquiryType})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),l.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:c,rows:6,placeholder:"How can we help you with your anime merchandise needs?",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none"}),n.message&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:u,disabled:i,className:"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-semibold px-8 py-3 rounded-lg transition-all transform hover:-translate-y-0.5 shadow-lg hover:shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2",children:[l.jsx("span",{children:i?"Sending...":"Create Support Ticket"}),l.jsx(Dn,{className:"h-5 w-5"})]})})]})]})})})]})]})})}const my=768;function mq(){const[t,e]=C.useState(void 0);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${my-1}px)`),r=()=>{e(window.innerWidth<my)};return n.addEventListener("change",r),e(window.innerWidth<my),()=>n.removeEventListener("change",r)},[]),!!t}const gy=[{id:"1",title:"Roronoa Zoro",images:["/tshirts-new/7.jpg","/tshirts-new/zoro back.jpg"],colorScheme:"from-green-900/40 via-green-800/20 to-green-700/10",products:["T-Shirts","Hoodies","Phone Cases"],customers:[{avatar:"",initials:"AK"},{avatar:"",initials:"TN"},{avatar:"",initials:"SM"},{avatar:"",initials:"RP"}]},{id:"2",title:"Sung Jin Woo",images:["/tshirts-new/8.jpg","/tshirts-new/sung jin woo back.jpg"],colorScheme:"from-purple-900/40 via-purple-800/20 to-indigo-700/10",products:["T-Shirts","Stickers","Posters"],customers:[{avatar:"",initials:"JD"},{avatar:"",initials:"KL"},{avatar:"",initials:"MT"},{avatar:"",initials:"SR"}]},{id:"3",title:"Naruto Uzumaki",images:["/tshirts-new/9.jpg","/tshirts-new/naruto back.jpg"],colorScheme:"from-orange-700/40 via-orange-600/20 to-yellow-500/10",products:["T-Shirts","Posters","Figurines"],customers:[{avatar:"",initials:"DK"},{avatar:"",initials:"AL"},{avatar:"",initials:"FG"},{avatar:"",initials:"HT"}]},{id:"4",title:"Itachi Uchiha",images:["/tshirts-new/10.jpg","/tshirts-new/itachi back.jpg"],colorScheme:"from-red-900/40 via-slate-800/20 to-gray-700/10",products:["T-Shirts","LED Signs","Laptop Sleeves"],customers:[{avatar:"",initials:"CP"},{avatar:"",initials:"MX"},{avatar:"",initials:"EV"},{avatar:"",initials:"RN"}]},{id:"5",title:"Madara Uchiha",images:["/tshirts-new/12.jpg","/tshirts-new/madara back.jpg"],colorScheme:"from-purple-700/40 via-indigo-800/20 to-blue-700/10",products:["T-Shirts","Wall Scrolls","Jewelry"],customers:[{avatar:"",initials:"GH"},{avatar:"",initials:"JL"},{avatar:"",initials:"KA"},{avatar:"",initials:"TW"}]},{id:"6",title:"Ryomen Sukuna",images:["/tshirts-new/13.jpg","/tshirts-new/sukuna back.jpg"],colorScheme:"from-red-800/40 via-red-700/20 to-orange-600/10",products:["T-Shirts","Mouse Pads","Mugs"],customers:[{avatar:"",initials:"BN"},{avatar:"",initials:"HS"},{avatar:"",initials:"PK"},{avatar:"",initials:"VL"}]}],gq=ht.memo(({src:t,alt:e,design:n,isVisible:r})=>{const[i,s]=C.useState(!1),[a,o]=C.useState(!1),c=C.useCallback(()=>{s(!0),o(!1)},[]),u=C.useCallback(()=>{o(!0),console.warn(`Failed to load image: ${t}`)},[t]);return l.jsxs("div",{className:"h-72 overflow-hidden relative group",children:[!i&&!a&&l.jsx("div",{className:"absolute inset-0 bg-gray-800/50 backdrop-blur-sm animate-pulse flex items-center justify-center",children:l.jsxs("div",{className:"text-gray-400 text-sm text-center",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-gray-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),l.jsxs("div",{children:["Loading ",n.title,"..."]})]})}),a&&l.jsx("div",{className:"absolute inset-0 bg-red-900/20 backdrop-blur-sm flex items-center justify-center",children:l.jsxs("div",{className:"text-red-400 text-sm text-center p-4",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("div",{children:"Image not found"}),l.jsx("div",{className:"text-xs mt-1 opacity-70 break-all",children:t})]})}),l.jsx("img",{src:t,alt:e,className:`w-full h-full object-cover transition-all duration-300 ${i?"opacity-100 scale-100":"opacity-0 scale-105"} group-hover:scale-110`,style:{objectFit:"cover",objectPosition:"center",transform:"translateZ(0)",backfaceVisibility:"hidden",willChange:"transform, opacity"},loading:r?"eager":"lazy",onLoad:c,onError:u}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-end",children:l.jsxs("div",{className:"p-4 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[l.jsx("h4",{className:"font-bold text-lg mb-1",children:n.title}),l.jsx("p",{className:"text-xs text-gray-200",children:"Limited Edition Design"})]})})]})}),vq=ht.memo(({text:t})=>l.jsx("span",{className:"px-3 py-1 text-white text-xs rounded-full bg-white/10 border border-white/20 backdrop-blur-sm transition-colors hover:bg-white/20",children:t})),xq=ht.memo(({design:t,index:e,isVisible:n})=>l.jsxs("div",{className:"w-64 shrink-0 overflow-hidden rounded-xl shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer",style:{background:"rgba(91, 33, 182, 0.08)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.15)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},children:[l.jsx(gq,{src:t.images[0],alt:`${t.title} T-shirt design`,design:t,isVisible:n}),l.jsxs("div",{className:"p-4 bg-gray-800/60 backdrop-blur-sm",children:[l.jsx("h3",{className:"text-white font-bold mb-3 text-lg",children:t.title}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.products.slice(0,2).map((r,i)=>l.jsx(vq,{text:r},i))})]})]}));function yq(){var s;mq();const t=C.useRef(null),[e,n]=C.useState(new Set([0,1,2])),r=C.useCallback(()=>{t.current&&t.current.scrollBy({left:-320,behavior:"smooth"})},[]),i=C.useCallback(()=>{t.current&&t.current.scrollBy({left:320,behavior:"smooth"})},[]);return C.useEffect(()=>{const a=t.current;if(!a)return;let o;const c=()=>{o||(o=window.setTimeout(()=>{const u=a.scrollLeft,h=Math.floor(u/300),p=Math.min(h+4,gy.length-1),f=new Set;for(let b=Math.max(0,h-1);b<=p+1;b++)f.add(b);n(f),o=0},150))};return a.addEventListener("scroll",c,{passive:!0}),()=>{a.removeEventListener("scroll",c),o&&clearTimeout(o)}},[]),l.jsxs("section",{className:"py-16 bg-gradient-to-br from-purple-900 via-violet-950 to-black relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-violet-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),l.jsxs("div",{className:"container px-8 mx-auto max-w-7xl relative z-10",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-3 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Limited Edition Designs"}),l.jsx("p",{className:"text-violet-200 text-xl",children:"Premium quality prints on multiple products"})]}),l.jsxs("div",{className:"flex items-center mt-6 md:mt-0",children:[l.jsx("div",{className:"flex -space-x-2 mr-3",children:(s=gy[0].customers)==null?void 0:s.slice(0,4).map((a,o)=>l.jsx(Ww,{className:"border-2 border-violet-900 w-10 h-10",children:l.jsx($w,{className:"bg-violet-700 text-white text-sm font-bold",children:a.initials})},o))}),l.jsx("span",{className:"text-violet-200 font-medium",children:"250+ customers"})]})]}),l.jsx("div",{className:"relative mx-auto px-4",children:l.jsxs("div",{className:"relative overflow-hidden bg-gray-900/30 backdrop-blur-lg p-8 rounded-2xl border border-purple-900/30 shadow-2xl",children:[l.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 h-12 w-12 rounded-full bg-black/60 backdrop-blur-sm text-white flex items-center justify-center hover:bg-black/80 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-purple-500",onClick:r,"aria-label":"Scroll left",children:l.jsx(Aw,{className:"h-6 w-6"})}),l.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 h-12 w-12 rounded-full bg-black/60 backdrop-blur-sm text-white flex items-center justify-center hover:bg-black/80 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-purple-500",onClick:i,"aria-label":"Scroll right",children:l.jsx(Tw,{className:"h-6 w-6"})}),l.jsx("div",{className:"overflow-hidden relative",children:l.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",scrollBehavior:"smooth"},children:l.jsx("div",{className:"flex space-x-6 py-4",children:gy.map((a,o)=>l.jsx(xq,{design:a,index:o,isVisible:e.has(o)},a.id))})})}),l.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-gray-900/80 via-gray-900/40 to-transparent z-10 pointer-events-none"}),l.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-gray-900/80 via-gray-900/40 to-transparent z-10 pointer-events-none"})]})}),l.jsx("div",{className:"w-full flex justify-center mt-12",children:l.jsx("button",{onClick:()=>window.location.href="/products",className:"px-10 py-3 border-2 border-violet-500 text-white font-semibold rounded-lg hover:bg-violet-500/20 transition-all duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-violet-500",children:"View All Designs"})})]})]})}function bq(){document.querySelectorAll("img").forEach(t=>{if(t.loading="lazy",t.decoding="async",!t.width&&!t.height&&t.complete){const{naturalWidth:e,naturalHeight:n}=t;e&&n&&(t.width=e,t.height=n)}})}function vy(){bq(),document.querySelectorAll(".anime-scroll-animation, .limited-edition-scroll").forEach(r=>{r instanceof HTMLElement&&(r.style.transform="translateZ(0)",r.style.willChange="transform",r.style.backfaceVisibility="hidden",r.style.transition="transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)")});let e=null;const n=document.body;window.addEventListener("scroll",()=>{n.classList.contains("is-scrolling")||n.classList.add("is-scrolling"),e!==null&&window.clearTimeout(e),e=window.setTimeout(()=>{n.classList.remove("is-scrolling")},150)},{passive:!0})}function _j(){const t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),e=/chrome/i.test(navigator.userAgent);if(t||e){document.querySelectorAll('[style*="backdrop-filter"]').forEach(i=>{i instanceof HTMLElement&&(i.setAttribute("data-has-backdrop","true"),i.classList.add("backdrop-element"))});let r=null;document.addEventListener("scroll",()=>{document.body.classList.add("is-scrolling"),r!==null&&window.clearTimeout(r),r=window.setTimeout(()=>{document.body.classList.remove("is-scrolling")},150)},{passive:!0})}}function wq(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{vy(),_j()}):(vy(),_j()),window.addEventListener("load",vy)}function Sq(){return C.useEffect(()=>(wq(),document.body.classList.add("optimize-scroll"),()=>{document.body.classList.remove("optimize-scroll")}),[]),l.jsxs(l.Fragment,{children:[l.jsxs(ov,{children:[l.jsx("title",{children:"PrintCraft - Premium Print on Demand Service"}),l.jsx("meta",{name:"description",content:"Transform your creativity into premium custom products with our high-quality print on demand service. T-Shirts, Phone Covers, Plates, Bottles and more!"}),l.jsx("meta",{property:"og:title",content:"PrintCraft - Premium Print on Demand Service"}),l.jsx("meta",{property:"og:description",content:"Transform your creativity into premium custom products with our high-quality print on demand service."}),l.jsx("meta",{property:"og:type",content:"website"})]}),l.jsxs("main",{className:"smooth-scroll",children:[l.jsx(RB,{}),l.jsx(FB,{}),l.jsx(yq,{}),l.jsx(IB,{}),l.jsx(VB,{}),l.jsx(hq,{}),l.jsx(pq,{})]})]})}const jq=t=>{const e={};(!t.name||t.name.length<2)&&(e.name="Name must be at least 2 characters");const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(!t.email||!n.test(t.email))&&(e.email="Please enter a valid email address"),t.inquiryType||(e.inquiryType="Please select an inquiry type"),(!t.message||t.message.length<10)&&(e.message="Message must be at least 10 characters"),e};function Nq(){const[t,e]=C.useState({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),[n,r]=C.useState({}),[i,s]=C.useState(!1),[a,o]=C.useState(!1),c=d=>{const{name:h,value:p}=d.target;e(f=>({...f,[h]:p})),n[h]&&r(f=>({...f,[h]:""}))},u=async()=>{const d=jq(t);if(Object.keys(d).length>0){r(d);return}s(!0);try{await new Promise(h=>setTimeout(h,1e3)),o(!0),e({name:"",email:"",orderNumber:"",inquiryType:"general",message:""}),setTimeout(()=>o(!1),3e3)}catch(h){console.error("Error submitting form:",h)}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",style:{paddingTop:"5rem"},children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Contact Us"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Have questions about our anime products? Need support with your order? We're here to help! "})]}),a&&l.jsx("div",{className:"mb-8 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:"Message sent successfully! We'll get back to you as soon as possible."})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{children:l.jsxs("div",{className:"h-full bg-gray-900 text-white rounded-lg shadow-xl overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"%3E%3Cpath d="M0,0h1000v1000H0V0z" fill="%23000"/>%3Cg fill="%23111"%3E%3Cpath d="M100,200h800v100H100V200z"/>%3Cpath d="M200,400h600v100H200V400z"/>%3Cpath d="M150,600h700v100H150V600z"/>%3C/g%3E%3C/svg%3E')`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/70"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold",children:[l.jsx("span",{className:"text-red-400",children:"ANIME"}),l.jsx("span",{className:"text-white ml-1",children:"INDIA POD"})," Support"]}),l.jsx("p",{className:"text-gray-300 mt-2",children:"We aim to respond to all inquiries within 24 hours. "})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Wc,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:" Email"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"support@animeindiapod.com"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tx,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:" Phone"}),l.jsx("p",{className:"text-gray-300 text-sm",children:"+91 123 456 7890"}),l.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Mon-Fri 9 AM - 6 PM IST"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(kw,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:" Address"}),l.jsxs("p",{className:"text-gray-300 text-sm",children:["123 Anime Street",l.jsx("br",{}),"Mumbai, Maharashtra 400001",l.jsx("br",{}),"India "]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(NT,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:" Social Media"}),l.jsxs("div",{className:"flex space-x-3 mt-2",children:[l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:" Instagram"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:" YouTube"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors hover:text-red-400",children:" Twitter"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-6",children:[l.jsx("h3",{className:"font-medium text-red-400 mb-2",children:" Business Hours"}),l.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[l.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM"}),l.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM"}),l.jsx("p",{children:"Sunday: Closed"})]})]})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border border-red-100 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Send us a message"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below and we'll get back to you as soon as possible!"}),l.jsx("div",{className:"h-1 w-20 bg-red-600 rounded-full mt-3"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:" Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:c,placeholder:"Your name",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),n.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:" Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:c,placeholder:"your.email@example.com",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),n.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"orderNumber",className:"block text-sm font-semibold text-gray-700 mb-2",children:" Order ID (if applicable)"}),l.jsx("input",{type:"text",id:"orderNumber",name:"orderNumber",value:t.orderNumber,onChange:c,placeholder:"e.g. AI-12345",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:" Inquiry Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{value:"general",label:" General Question",emoji:""},{value:"order",label:" Order Status",emoji:""},{value:"design",label:" Design Help",emoji:""},{value:"return",label:" Returns & Refunds",emoji:""}].map(d=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx("input",{type:"radio",name:"inquiryType",value:d.value,checked:t.inquiryType===d.value,onChange:c,className:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"}),l.jsx("span",{className:"text-gray-700",children:d.label})]},d.value))}),n.inquiryType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.inquiryType})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:" Message"}),l.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:c,rows:6,placeholder:"How can we help you with your anime merchandise needs? Please be as detailed as possible...",className:"w-full px-4 py-3 bg-white/70 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none"}),n.message&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:u,disabled:i,className:"bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 text-white font-semibold px-8 py-3 rounded-lg transition-all transform hover:-translate-y-0.5 shadow-lg hover:shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2",children:[l.jsx("span",{children:i?" Sending...":" Send Message"}),l.jsx(Dn,{className:"h-5 w-5"})]})})]})]})})})]}),l.jsxs("div",{className:"mt-12 bg-white/60 backdrop-blur-sm rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Frequently Asked Questions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" How long does shipping take?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We usually ship within 2-3 business days. Delivery takes 5-7 days within India."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Can I customize my anime designs?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Absolutely! Use our customization tool or contact us for special requests."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" What's your return policy?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Easy 7-day returns for defective products. Custom items have different terms."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" What payment methods do you accept?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"We accept UPI, cards, net banking, and cash on delivery."})]})]})]})]})})}const eE=C.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:_t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));eE.displayName="Input";const Cq=Zv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _q({className:t,variant:e,...n}){return l.jsx("div",{className:_t(Cq({variant:e}),t),...n})}function rS(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fx="Checkbox",[Aq,M$]=Ps(fx),[Tq,iS]=Aq(fx);function kq(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[p,f]=ao({prop:n,defaultProp:i??!1,onChange:c,caller:fx}),[b,g]=C.useState(null),[w,x]=C.useState(null),y=C.useRef(!1),N=b?!!a||!!b.closest("form"):!0,A={checked:p,disabled:s,setChecked:f,control:b,setControl:g,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:jl(i)?!1:i,isFormControl:N,bubbleInput:w,setBubbleInput:x};return l.jsx(Tq,{scope:e,...A,children:Eq(h)?h(A):r})}var tE="CheckboxTrigger",nE=C.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:b}=iS(tE,t),g=Mt(i,d),w=C.useRef(c);return C.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const y=()=>h(w.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[s,h]),l.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":jl(c)?"mixed":c,"aria-required":u,"data-state":oE(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:g,onKeyDown:st(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:st(n,x=>{h(y=>jl(y)?!0:!y),b&&f&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});nE.displayName=tE;var sS=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...h}=t;return l.jsx(kq,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(nE,{...h,ref:e,__scopeCheckbox:n}),p&&l.jsx(aE,{__scopeCheckbox:n})]})})});sS.displayName=fx;var rE="CheckboxIndicator",iE=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=iS(rE,n);return l.jsx(Rl,{present:r||jl(s.checked)||s.checked===!0,children:l.jsx(ct.span,{"data-state":oE(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});iE.displayName=rE;var sE="CheckboxBubbleInput",aE=C.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:f}=iS(sE,t),b=Mt(n,f),g=rS(s),w=Hw(r);C.useEffect(()=>{const y=p;if(!y)return;const N=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(N,"checked").set,E=!i.current;if(g!==s&&k){const R=new Event("click",{bubbles:E});y.indeterminate=jl(s),k.call(y,jl(s)?!1:s),y.dispatchEvent(R)}},[p,g,s,i]);const x=C.useRef(jl(s)?!1:s);return l.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:o,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aE.displayName=sE;function Eq(t){return typeof t=="function"}function jl(t){return t==="indeterminate"}function oE(t){return jl(t)?"indeterminate":t?"checked":"unchecked"}const lE=C.forwardRef(({className:t,...e},n)=>l.jsx(sS,{ref:n,className:_t("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(iE,{className:_t("flex items-center justify-center text-current"),children:l.jsx(Cw,{className:"h-4 w-4"})})}));lE.displayName=sS.displayName;function cv(t,[e,n]){return Math.min(n,Math.max(e,t))}var cE=["PageUp","PageDown"],uE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gh="Slider",[Nb,Oq,Lq]=Wv(gh),[hE,D$]=Ps(gh,[Lq]),[Mq,px]=hE(gh),fE=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:b,...g}=t,w=C.useRef(new Set),x=C.useRef(0),N=a==="horizontal"?Dq:Pq,[A=[],k]=ao({prop:d,defaultProp:u,onChange:D=>{var X;(X=[...w.current][x.current])==null||X.focus(),h(D)}}),E=C.useRef(A);function R(D){const T=Bq(A,D);K(D,T)}function O(D){K(D,x.current)}function H(){const D=E.current[x.current];A[x.current]!==D&&p(A)}function K(D,T,{commit:X}={commit:!1}){const B=Vq(s),ee=Gq(Math.round((D-r)/s)*s+r,B),G=cv(ee,[r,i]);k((te=[])=>{const V=Iq(te,G,T);if(Hq(V,c*s)){x.current=V.indexOf(G);const re=String(V)!==String(te);return re&&X&&p(V),re?V:te}else return te})}return l.jsx(Mq,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:x,thumbs:w.current,values:A,orientation:a,form:b,children:l.jsx(Nb.Provider,{scope:t.__scopeSlider,children:l.jsx(Nb.Slot,{scope:t.__scopeSlider,children:l.jsx(N,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:e,onPointerDown:st(g.onPointerDown,()=>{o||(E.current=A)}),min:r,max:i,inverted:f,onSlideStart:o?void 0:R,onSlideMove:o?void 0:O,onSlideEnd:o?void 0:H,onHomeKeyDown:()=>!o&&K(r,0,{commit:!0}),onEndKeyDown:()=>!o&&K(i,A.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:T})=>{if(!o){const ee=cE.includes(D.key)||D.shiftKey&&uE.includes(D.key)?10:1,G=x.current,te=A[G],V=s*ee*T;K(te+V,G,{commit:!0})}}})})})})});fE.displayName=gh;var[pE,mE]=hE(gh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Dq=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,p]=C.useState(null),f=Mt(e,N=>p(N)),b=C.useRef(void 0),g=Jw(i),w=g==="ltr",x=w&&!s||!w&&s;function y(N){const A=b.current||h.getBoundingClientRect(),k=[0,A.width],R=aS(k,x?[n,r]:[r,n]);return b.current=A,R(N-A.left)}return l.jsx(pE,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(gE,{dir:g,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const A=y(N.clientX);a==null||a(A)},onSlideMove:N=>{const A=y(N.clientX);o==null||o(A)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:N=>{const k=dE[x?"from-left":"from-right"].includes(N.key);u==null||u({event:N,direction:k?-1:1})}})})}),Pq=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=t,d=C.useRef(null),h=Mt(e,d),p=C.useRef(void 0),f=!i;function b(g){const w=p.current||d.current.getBoundingClientRect(),x=[0,w.height],N=aS(x,f?[r,n]:[n,r]);return p.current=w,N(g-w.top)}return l.jsx(pE,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:l.jsx(gE,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const w=b(g.clientY);s==null||s(w)},onSlideMove:g=>{const w=b(g.clientY);a==null||a(w)},onSlideEnd:()=>{p.current=void 0,o==null||o()},onStepKeyDown:g=>{const x=dE[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),gE=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=t,d=px(gh,n);return l.jsx(ct.span,{...u,ref:e,onKeyDown:st(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):cE.concat(uE).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:st(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(p)?p.focus():r(h)}),onPointerMove:st(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:st(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),s(h))})})}),vE="SliderTrack",xE=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=px(vE,n);return l.jsx(ct.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});xE.displayName=vE;var Cb="SliderRange",yE=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=px(Cb,n),s=mE(Cb,n),a=C.useRef(null),o=Mt(e,a),c=i.values.length,u=i.values.map(p=>SE(p,i.min,i.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(ct.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:h+"%"}})});yE.displayName=Cb;var _b="SliderThumb",bE=C.forwardRef((t,e)=>{const n=Oq(t.__scopeSlider),[r,i]=C.useState(null),s=Mt(e,o=>i(o)),a=C.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(Rq,{...t,ref:s,index:a})}),Rq=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=px(_b,n),o=mE(_b,n),[c,u]=C.useState(null),d=Mt(e,y=>u(y)),h=c?a.form||!!c.closest("form"):!0,p=Hw(c),f=a.values[r],b=f===void 0?0:SE(f,a.min,a.max),g=zq(r,a.values.length),w=p==null?void 0:p[o.size],x=w?qq(w,b,o.direction):0;return C.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${b}% + ${x}px)`},children:[l.jsx(Nb.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(ct.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":f,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:f===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&l.jsx(wE,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:f},r)]})});bE.displayName=_b;var Fq="RadioBubbleInput",wE=C.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=C.useRef(null),s=Mt(i,r),a=rS(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),l.jsx(ct.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});wE.displayName=Fq;function Iq(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function SE(t,e,n){const s=100/(n-e)*(t-e);return cv(s,[0,100])}function zq(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Bq(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function qq(t,e,n){const r=t/2,s=aS([0,50],[0,r]);return(r-s(e)*n)*n}function Uq(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Hq(t,e){if(e>0){const n=Uq(t);return Math.min(...n)>=e}return!0}function aS(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Vq(t){return(String(t).split(".")[1]||"").length}function Gq(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var jE=fE,Yq=xE,Xq=yE,Wq=bE;const qu=C.forwardRef(({className:t,...e},n)=>l.jsxs(jE,{ref:n,className:_t("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(Yq,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Xq,{className:"absolute h-full bg-primary"})}),l.jsx(Wq,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));qu.displayName=jE.displayName;var xy=0;function NE(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Aj()),document.body.insertAdjacentElement("beforeend",t[1]??Aj()),xy++,()=>{xy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xy--}},[])}function Aj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yy="focusScope.autoFocusOnMount",by="focusScope.autoFocusOnUnmount",Tj={bubbles:!1,cancelable:!0},$q="FocusScope",oS=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=C.useState(null),u=ns(i),d=ns(s),h=C.useRef(null),p=Mt(e,g=>c(g)),f=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let g=function(N){if(f.paused||!o)return;const A=N.target;o.contains(A)?h.current=A:Go(h.current,{select:!0})},w=function(N){if(f.paused||!o)return;const A=N.relatedTarget;A!==null&&(o.contains(A)||Go(h.current,{select:!0}))},x=function(N){if(document.activeElement===document.body)for(const k of N)k.removedNodes.length>0&&Go(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const y=new MutationObserver(x);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),y.disconnect()}}},[r,o,f.paused]),C.useEffect(()=>{if(o){Ej.add(f);const g=document.activeElement;if(!o.contains(g)){const x=new CustomEvent(yy,Tj);o.addEventListener(yy,u),o.dispatchEvent(x),x.defaultPrevented||(Kq(tU(CE(o)),{select:!0}),document.activeElement===g&&Go(o))}return()=>{o.removeEventListener(yy,u),setTimeout(()=>{const x=new CustomEvent(by,Tj);o.addEventListener(by,d),o.dispatchEvent(x),x.defaultPrevented||Go(g??document.body,{select:!0}),o.removeEventListener(by,d),Ej.remove(f)},0)}}},[o,u,d,f]);const b=C.useCallback(g=>{if(!n&&!r||f.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const y=g.currentTarget,[N,A]=Qq(y);N&&A?!g.shiftKey&&x===A?(g.preventDefault(),n&&Go(N,{select:!0})):g.shiftKey&&x===N&&(g.preventDefault(),n&&Go(A,{select:!0})):x===y&&g.preventDefault()}},[n,r,f.paused]);return l.jsx(ct.div,{tabIndex:-1,...a,ref:p,onKeyDown:b})});oS.displayName=$q;function Kq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Go(r,{select:e}),document.activeElement!==n)return}function Qq(t){const e=CE(t),n=kj(e,t),r=kj(e.reverse(),t);return[n,r]}function CE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kj(t,e){for(const n of t)if(!Zq(n,{upTo:e}))return n}function Zq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Jq(t){return t instanceof HTMLInputElement&&"select"in t}function Go(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Jq(t)&&e&&t.select()}}var Ej=eU();function eU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Oj(t,e),t.unshift(e)},remove(e){var n;t=Oj(t,e),(n=t[0])==null||n.resume()}}}function Oj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tU(t){return t.filter(e=>e.tagName!=="A")}var nU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eu=new WeakMap,dg=new WeakMap,hg={},wy=0,_E=function(t){return t&&(t.host||_E(t.parentNode))},rU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_E(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iU=function(t,e,n,r){var i=rU(e,Array.isArray(t)?t:[t]);hg[n]||(hg[n]=new WeakMap);var s=hg[n],a=[],o=new Set,c=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var f=p.getAttribute(r),b=f!==null&&f!=="false",g=(Eu.get(p)||0)+1,w=(s.get(p)||0)+1;Eu.set(p,g),s.set(p,w),a.push(p),g===1&&b&&dg.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),o.clear(),wy++,function(){a.forEach(function(h){var p=Eu.get(h)-1,f=s.get(h)-1;Eu.set(h,p),s.set(h,f),p||(dg.has(h)||h.removeAttribute(r),dg.delete(h)),f||h.removeAttribute(n)}),wy--,wy||(Eu=new WeakMap,Eu=new WeakMap,dg=new WeakMap,hg={})}},AE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nU(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),iU(r,i,n,"aria-hidden")):function(){return null}},ia=function(){return ia=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ia.apply(this,arguments)};function TE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $c(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}function sU(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var d0="right-scroll-bar-position",h0="width-before-scroll-bar",aU="with-scroll-bars-hidden",oU="--removed-body-scroll-bar-size";function Sy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lU(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var cU=typeof window<"u"?C.useLayoutEffect:C.useEffect,Lj=new WeakMap;function uU(t,e){var n=lU(null,function(r){return t.forEach(function(i){return Sy(i,r)})});return cU(function(){var r=Lj.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Sy(o,null)}),s.forEach(function(o){i.has(o)||Sy(o,a)})}Lj.set(n,t)},[t]),n}function dU(t){return t}function hU(t,e){e===void 0&&(e=dU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function fU(t){t===void 0&&(t={});var e=hU(null);return e.options=ia({async:!0,ssr:!1},t),e}var kE=function(t){var e=t.sideCar,n=TE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,ia({},n))};kE.isSideCarExport=!0;function pU(t,e){return t.useMedium(e),kE}var EE=fU(),jy=function(){},mx=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:jy,onWheelCapture:jy,onTouchMoveCapture:jy}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,b=t.noIsolation,g=t.inert,w=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,N=t.gapMode,A=TE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,E=uU([n,e]),R=ia(ia({},A),i);return C.createElement(C.Fragment,null,d&&C.createElement(k,{sideCar:EE,removeScrollBar:u,shards:h,noRelative:f,noIsolation:b,inert:g,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:N}),a?C.cloneElement(C.Children.only(o),ia(ia({},R),{ref:E})):C.createElement(y,ia({},R,{className:c,ref:E}),o))});mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mx.classNames={fullWidth:h0,zeroRight:d0};var mU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mU();return e&&t.setAttribute("nonce",e),t}function vU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gU())&&(vU(e,n),xU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bU=function(){var t=yU();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OE=function(){var t=bU(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},wU={left:0,top:0,right:0,gap:0},Ny=function(t){return parseInt(t||"",10)||0},SU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ny(n),Ny(r),Ny(i)]},jU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wU;var e=SU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},NU=OE(),xd="data-scroll-locked",CU=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(d0,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(h0,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(d0," .").concat(d0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(h0," .").concat(h0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(oU,": ").concat(o,`px;
  }
`)},Mj=function(){var t=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(t)?t:0},_U=function(){C.useEffect(function(){return document.body.setAttribute(xd,(Mj()+1).toString()),function(){var t=Mj()-1;t<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,t.toString())}},[])},AU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_U();var s=C.useMemo(function(){return jU(i)},[i]);return C.createElement(NU,{styles:CU(s,!e,i,n?"":"!important")})},Ab=!1;if(typeof window<"u")try{var fg=Object.defineProperty({},"passive",{get:function(){return Ab=!0,!0}});window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,fg)}catch{Ab=!1}var Ou=Ab?{passive:!1}:!1,TU=function(t){return t.tagName==="TEXTAREA"},LE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TU(t)&&n[e]==="visible")},kU=function(t){return LE(t,"overflowY")},EU=function(t){return LE(t,"overflowX")},Dj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ME(t,r);if(i){var s=DE(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ME=function(t,e){return t==="v"?kU(e):EU(e)},DE=function(t,e){return t==="v"?OU(e):LU(e)},MU=function(t,e){return t==="h"&&e==="rtl"?-1:1},DU=function(t,e,n,r,i){var s=MU(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,d=a>0,h=0,p=0;do{if(!o)break;var f=DE(t,o),b=f[0],g=f[1],w=f[2],x=g-w-s*b;(b||x)&&ME(t,o)&&(h+=x,p+=b);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},pg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Pj=function(t){return[t.deltaX,t.deltaY]},Rj=function(t){return t&&"current"in t?t.current:t},PU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FU=0,Lu=[];function IU(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(FU++)[0],s=C.useState(OE)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=sU([t.lockRef.current],(t.shards||[]).map(Rj),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=pg(g),y=n.current,N="deltaX"in g?g.deltaX:y[0]-x[0],A="deltaY"in g?g.deltaY:y[1]-x[1],k,E=g.target,R=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in g&&R==="h"&&E.type==="range")return!1;var O=Dj(R,E);if(!O)return!0;if(O?k=R:(k=R==="v"?"h":"v",O=Dj(R,E)),!O)return!1;if(!r.current&&"changedTouches"in g&&(N||A)&&(r.current=k),!k)return!0;var H=r.current||k;return DU(H,w,g,H==="h"?N:A)},[]),c=C.useCallback(function(g){var w=g;if(!(!Lu.length||Lu[Lu.length-1]!==s)){var x="deltaY"in w?Pj(w):pg(w),y=e.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&PU(k.delta,x)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var N=(a.current.shards||[]).map(Rj).filter(Boolean).filter(function(k){return k.contains(w.target)}),A=N.length>0?o(w,N[0]):!a.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),u=C.useCallback(function(g,w,x,y){var N={name:g,delta:w,target:x,should:y,shadowParent:zU(x)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(A){return A!==N})},1)},[]),d=C.useCallback(function(g){n.current=pg(g),r.current=void 0},[]),h=C.useCallback(function(g){u(g.type,Pj(g),g.target,o(g,t.lockRef.current))},[]),p=C.useCallback(function(g){u(g.type,pg(g),g.target,o(g,t.lockRef.current))},[]);C.useEffect(function(){return Lu.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ou),document.addEventListener("touchmove",c,Ou),document.addEventListener("touchstart",d,Ou),function(){Lu=Lu.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Ou),document.removeEventListener("touchmove",c,Ou),document.removeEventListener("touchstart",d,Ou)}},[]);var f=t.removeScrollBar,b=t.inert;return C.createElement(C.Fragment,null,b?C.createElement(s,{styles:RU(i)}):null,f?C.createElement(AU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BU=pU(EE,IU);var lS=C.forwardRef(function(t,e){return C.createElement(mx,ia({},t,{ref:e,sideCar:BU}))});lS.classNames=mx.classNames;var qU=[" ","Enter","ArrowUp","ArrowDown"],UU=[" ","Enter"],Ic="Select",[gx,vx,HU]=Wv(Ic),[vh,P$]=Ps(Ic,[HU,ox]),xx=ox(),[VU,Fl]=vh(Ic),[GU,YU]=vh(Ic),PE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:b}=t,g=xx(e),[w,x]=C.useState(null),[y,N]=C.useState(null),[A,k]=C.useState(!1),E=Jw(u),[R,O]=ao({prop:r,defaultProp:i??!1,onChange:s,caller:Ic}),[H,K]=ao({prop:a,defaultProp:o,onChange:c,caller:Ic}),D=C.useRef(null),T=w?b||!!w.closest("form"):!0,[X,B]=C.useState(new Set),ee=Array.from(X).map(G=>G.props.value).join(";");return l.jsx(mz,{...g,children:l.jsxs(VU,{required:f,scope:e,trigger:w,onTriggerChange:x,valueNode:y,onValueNodeChange:N,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:Sl(),value:H,onValueChange:K,open:R,onOpenChange:O,dir:E,triggerPointerDownPosRef:D,disabled:p,children:[l.jsx(gx.Provider,{scope:e,children:l.jsx(GU,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(G=>{B(te=>new Set(te).add(G))},[]),onNativeOptionRemove:C.useCallback(G=>{B(te=>{const V=new Set(te);return V.delete(G),V})},[]),children:n})}),T?l.jsxs(s8,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:H,onChange:G=>K(G.target.value),disabled:p,form:b,children:[H===void 0?l.jsx("option",{value:""}):null,Array.from(X)]},ee):null]})})};PE.displayName=Ic;var RE="SelectTrigger",FE=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=xx(n),a=Fl(RE,n),o=a.disabled||r,c=Mt(e,a.onTriggerChange),u=vx(n),d=C.useRef("touch"),[h,p,f]=o8(g=>{const w=u().filter(N=>!N.disabled),x=w.find(N=>N.value===a.value),y=l8(w,g,x);y!==void 0&&a.onValueChange(y.value)}),b=g=>{o||(a.onOpenChange(!0),f()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(ik,{asChild:!0,...s,children:l.jsx(ct.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":a8(a.value)?"":void 0,...i,ref:c,onClick:st(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:st(i.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:st(i.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&qU.includes(g.key)&&(b(),g.preventDefault())})})})});FE.displayName=RE;var IE="SelectValue",zE=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=Fl(IE,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=Mt(e,c.onValueNodeChange);return qn(()=>{u(d)},[u,d]),l.jsx(ct.span,{...o,ref:h,style:{pointerEvents:"none"},children:a8(c.value)?l.jsx(l.Fragment,{children:a}):s})});zE.displayName=IE;var XU="SelectIcon",BE=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(ct.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});BE.displayName=XU;var WU="SelectPortal",qE=t=>l.jsx($v,{asChild:!0,...t});qE.displayName=WU;var zc="SelectContent",UE=C.forwardRef((t,e)=>{const n=Fl(zc,t.__scopeSelect),[r,i]=C.useState();if(qn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Uc.createPortal(l.jsx(HE,{scope:t.__scopeSelect,children:l.jsx(gx.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(VE,{...t,ref:e})});UE.displayName=zc;var xs=10,[HE,Il]=vh(zc),$U="SelectContentImpl",KU=Kd("SelectContent.RemoveScroll"),VE=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:b,hideWhenDetached:g,avoidCollisions:w,...x}=t,y=Fl(zc,n),[N,A]=C.useState(null),[k,E]=C.useState(null),R=Mt(e,ie=>A(ie)),[O,H]=C.useState(null),[K,D]=C.useState(null),T=vx(n),[X,B]=C.useState(!1),ee=C.useRef(!1);C.useEffect(()=>{if(N)return AE(N)},[N]),NE();const G=C.useCallback(ie=>{const[ce,...ve]=T().map(ke=>ke.ref.current),[je]=ve.slice(-1),Ce=document.activeElement;for(const ke of ie)if(ke===Ce||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===ce&&k&&(k.scrollTop=0),ke===je&&k&&(k.scrollTop=k.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ce))return},[T,k]),te=C.useCallback(()=>G([O,N]),[G,O,N]);C.useEffect(()=>{X&&te()},[X,te]);const{onOpenChange:V,triggerPointerDownPosRef:re}=y;C.useEffect(()=>{if(N){let ie={x:0,y:0};const ce=je=>{var Ce,ke;ie={x:Math.abs(Math.round(je.pageX)-(((Ce=re.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ke=re.current)==null?void 0:ke.y)??0))}},ve=je=>{ie.x<=10&&ie.y<=10?je.preventDefault():N.contains(je.target)||V(!1),document.removeEventListener("pointermove",ce),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ve,{capture:!0})}}},[N,V,re]),C.useEffect(()=>{const ie=()=>V(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[V]);const[de,Oe]=o8(ie=>{const ce=T().filter(Ce=>!Ce.disabled),ve=ce.find(Ce=>Ce.ref.current===document.activeElement),je=l8(ce,ie,ve);je&&setTimeout(()=>je.ref.current.focus())}),F=C.useCallback((ie,ce,ve)=>{const je=!ee.current&&!ve;(y.value!==void 0&&y.value===ce||je)&&(H(ie),je&&(ee.current=!0))},[y.value]),Y=C.useCallback(()=>N==null?void 0:N.focus(),[N]),W=C.useCallback((ie,ce,ve)=>{const je=!ee.current&&!ve;(y.value!==void 0&&y.value===ce||je)&&D(ie)},[y.value]),Z=r==="popper"?Tb:GE,se=Z===Tb?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:b,hideWhenDetached:g,avoidCollisions:w}:{};return l.jsx(HE,{scope:n,content:N,viewport:k,onViewportChange:E,itemRefCallback:F,selectedItem:O,onItemLeave:Y,itemTextRefCallback:W,focusSelectedItem:te,selectedItemText:K,position:r,isPositioned:X,searchRef:de,children:l.jsx(lS,{as:KU,allowPinchZoom:!0,children:l.jsx(oS,{asChild:!0,trapped:y.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:st(i,ie=>{var ce;(ce=y.trigger)==null||ce.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(Xp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(Z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ie=>ie.preventDefault(),...x,...se,onPlaced:()=>B(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:st(x.onKeyDown,ie=>{const ce=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ce&&ie.key.length===1&&Oe(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let je=T().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ce=ie.target,ke=je.indexOf(Ce);je=je.slice(ke+1)}setTimeout(()=>G(je)),ie.preventDefault()}})})})})})})});VE.displayName=$U;var QU="SelectItemAlignedPosition",GE=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Fl(zc,n),a=Il(zc,n),[o,c]=C.useState(null),[u,d]=C.useState(null),h=Mt(e,R=>d(R)),p=vx(n),f=C.useRef(!1),b=C.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:y}=a,N=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&w&&x){const R=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),H=s.valueNode.getBoundingClientRect(),K=x.getBoundingClientRect();if(s.dir!=="rtl"){const Ce=K.left-O.left,ke=H.left-Ce,Be=R.left-ke,he=R.width+Be,J=Math.max(he,O.width),P=window.innerWidth-xs,ne=cv(ke,[xs,Math.max(xs,P-J)]);o.style.minWidth=he+"px",o.style.left=ne+"px"}else{const Ce=O.right-K.right,ke=window.innerWidth-H.right-Ce,Be=window.innerWidth-R.right-ke,he=R.width+Be,J=Math.max(he,O.width),P=window.innerWidth-xs,ne=cv(ke,[xs,Math.max(xs,P-J)]);o.style.minWidth=he+"px",o.style.right=ne+"px"}const D=p(),T=window.innerHeight-xs*2,X=g.scrollHeight,B=window.getComputedStyle(u),ee=parseInt(B.borderTopWidth,10),G=parseInt(B.paddingTop,10),te=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),re=ee+G+X+V+te,de=Math.min(w.offsetHeight*5,re),Oe=window.getComputedStyle(g),F=parseInt(Oe.paddingTop,10),Y=parseInt(Oe.paddingBottom,10),W=R.top+R.height/2-xs,Z=T-W,se=w.offsetHeight/2,ie=w.offsetTop+se,ce=ee+G+ie,ve=re-ce;if(ce<=W){const Ce=D.length>0&&w===D[D.length-1].ref.current;o.style.bottom="0px";const ke=u.clientHeight-g.offsetTop-g.offsetHeight,Be=Math.max(Z,se+(Ce?Y:0)+ke+te),he=ce+Be;o.style.height=he+"px"}else{const Ce=D.length>0&&w===D[0].ref.current;o.style.top="0px";const Be=Math.max(W,ee+g.offsetTop+(Ce?F:0)+se)+ve;o.style.height=Be+"px",g.scrollTop=ce-W+g.offsetTop}o.style.margin=`${xs}px 0`,o.style.minHeight=de+"px",o.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[p,s.trigger,s.valueNode,o,u,g,w,x,s.dir,r]);qn(()=>N(),[N]);const[A,k]=C.useState();qn(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const E=C.useCallback(R=>{R&&b.current===!0&&(N(),y==null||y(),b.current=!1)},[N,y]);return l.jsx(JU,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(ct.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GE.displayName=QU;var ZU="SelectPopperPosition",Tb=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xs,...s}=t,a=xx(n);return l.jsx(sk,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tb.displayName=ZU;var[JU,cS]=vh(zc,{}),kb="SelectViewport",YE=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Il(kb,n),a=cS(kb,n),o=Mt(e,s.onViewportChange),c=C.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(gx.Slot,{scope:n,children:l.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const b=window.innerHeight-xs*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),x=Math.max(g,w);if(x<b){const y=x+f,N=Math.min(b,y),A=y-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});YE.displayName=kb;var XE="SelectGroup",[eH,tH]=vh(XE),nH=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Sl();return l.jsx(eH,{scope:n,id:i,children:l.jsx(ct.div,{role:"group","aria-labelledby":i,...r,ref:e})})});nH.displayName=XE;var WE="SelectLabel",$E=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=tH(WE,n);return l.jsx(ct.div,{id:i.id,...r,ref:e})});$E.displayName=WE;var uv="SelectItem",[rH,KE]=vh(uv),QE=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Fl(uv,n),c=Il(uv,n),u=o.value===r,[d,h]=C.useState(s??""),[p,f]=C.useState(!1),b=Mt(e,y=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,y,r,i)}),g=Sl(),w=C.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(rH,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:C.useCallback(y=>{h(N=>N||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(gx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(ct.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:st(a.onFocus,()=>f(!0)),onBlur:st(a.onBlur,()=>f(!1)),onClick:st(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:st(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:st(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:st(a.onPointerMove,y=>{var N;w.current=y.pointerType,i?(N=c.onItemLeave)==null||N.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(a.onPointerLeave,y=>{var N;y.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:st(a.onKeyDown,y=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(UU.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});QE.displayName=uv;var Cf="SelectItemText",ZE=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Fl(Cf,n),o=Il(Cf,n),c=KE(Cf,n),u=YU(Cf,n),[d,h]=C.useState(null),p=Mt(e,x=>h(x),c.onItemTextChange,x=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,x,c.value,c.disabled)}),f=d==null?void 0:d.textContent,b=C.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return qn(()=>(g(b),()=>w(b)),[g,w,b]),l.jsxs(l.Fragment,{children:[l.jsx(ct.span,{id:c.textId,...s,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Uc.createPortal(s.children,a.valueNode):null]})});ZE.displayName=Cf;var JE="SelectItemIndicator",e8=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KE(JE,n).isSelected?l.jsx(ct.span,{"aria-hidden":!0,...r,ref:e}):null});e8.displayName=JE;var Eb="SelectScrollUpButton",t8=C.forwardRef((t,e)=>{const n=Il(Eb,t.__scopeSelect),r=cS(Eb,t.__scopeSelect),[i,s]=C.useState(!1),a=Mt(e,r.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(r8,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});t8.displayName=Eb;var Ob="SelectScrollDownButton",n8=C.forwardRef((t,e)=>{const n=Il(Ob,t.__scopeSelect),r=cS(Ob,t.__scopeSelect),[i,s]=C.useState(!1),a=Mt(e,r.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(r8,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});n8.displayName=Ob;var r8=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Il("SelectScrollButton",n),a=C.useRef(null),o=vx(n),c=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),qn(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:st(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:st(i.onPointerLeave,()=>{c()})})}),iH="SelectSeparator",i8=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ct.div,{"aria-hidden":!0,...r,ref:e})});i8.displayName=iH;var Lb="SelectArrow",sH=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=xx(n),s=Fl(Lb,n),a=Il(Lb,n);return s.open&&a.position==="popper"?l.jsx(ak,{...i,...r,ref:e}):null});sH.displayName=Lb;var aH="SelectBubbleInput",s8=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=Mt(r,i),a=rS(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),l.jsx(ct.select,{...n,style:{...$A,...n.style},ref:s,defaultValue:e})});s8.displayName=aH;function a8(t){return t===""||t===void 0}function o8(t){const e=ns(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function l8(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=oH(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function oH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lH=PE,c8=FE,cH=zE,uH=BE,dH=qE,u8=UE,hH=YE,d8=$E,h8=QE,fH=ZE,pH=e8,f8=t8,p8=n8,m8=i8;const Cy=lH,_y=cH,f0=C.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(c8,{ref:r,className:_t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(uH,{asChild:!0,children:l.jsx(_w,{className:"h-4 w-4 opacity-50"})})]}));f0.displayName=c8.displayName;const g8=C.forwardRef(({className:t,...e},n)=>l.jsx(f8,{ref:n,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(E9,{className:"h-4 w-4"})}));g8.displayName=f8.displayName;const v8=C.forwardRef(({className:t,...e},n)=>l.jsx(p8,{ref:n,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(_w,{className:"h-4 w-4"})}));v8.displayName=p8.displayName;const p0=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(dH,{children:l.jsxs(u8,{ref:i,className:_t("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(g8,{}),l.jsx(hH,{className:_t("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(v8,{})]})}));p0.displayName=u8.displayName;const mH=C.forwardRef(({className:t,...e},n)=>l.jsx(d8,{ref:n,className:_t("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));mH.displayName=d8.displayName;const qi=C.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(h8,{ref:r,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(pH,{children:l.jsx(Cw,{className:"h-4 w-4"})})}),l.jsx(fH,{children:e})]}));qi.displayName=h8.displayName;const gH=C.forwardRef(({className:t,...e},n)=>l.jsx(m8,{ref:n,className:_t("-mx-1 my-1 h-px bg-muted",t),...e}));gH.displayName=m8.displayName;const Fj=[{id:"naruto",name:"Naruto",image:"https://images.unsplash.com/photo-1578632767115-351597cf2477?w=100&h=100&fit=crop",series:"Naruto",price:100},{id:"luffy",name:"Luffy",image:"https://images.unsplash.com/photo-1608889335941-32ac5f2041b9?w=100&h=100&fit=crop",series:"One Piece",price:100},{id:"goku",name:"Goku",image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=100&h=100&fit=crop",series:"Dragon Ball Z",price:100},{id:"ichigo",name:"Ichigo",image:"https://images.unsplash.com/photo-1621799754526-a0d52c49fad5?w=100&h=100&fit=crop",series:"Bleach",price:100},{id:"eren",name:"Eren",image:"https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=100&h=100&fit=crop",series:"Attack on Titan",price:100},{id:"tanjiro",name:"Tanjiro",image:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=100&h=100&fit=crop",series:"Demon Slayer",price:100}],vH=["Believe it! - Naruto","I am going to be King of the Pirates! - Luffy","Plus Ultra! - All Might","Kamehameha! - Goku","I'll take a potato chip... and eat it! - Light","I want to be the very best! - Ash","People die when they are killed - Shirou","The only one who can beat me is me - Aomine"],Ij={naruto:{name:"Naruto Theme",shirtColor:"#ff6600",layers:[{type:"character",content:"naruto",position:{x:0,y:20}},{type:"text",content:"Believe it!",position:{x:0,y:-80},color:"#000000"}]},onepiece:{name:"One Piece Theme",shirtColor:"#dc143c",layers:[{type:"character",content:"luffy",position:{x:0,y:20}},{type:"text",content:"King of Pirates!",position:{x:0,y:-80},color:"#ffffff"}]},dbz:{name:"Dragon Ball Theme",shirtColor:"#ff8c00",layers:[{type:"character",content:"goku",position:{x:0,y:20}},{type:"text",content:"Kamehameha!",position:{x:0,y:-80},color:"#000000"}]},aot:{name:"Attack on Titan Theme",shirtColor:"#654321",layers:[{type:"character",content:"eren",position:{x:0,y:20}},{type:"text",content:"Fight for Freedom!",position:{x:0,y:-80},color:"#ffffff"}]}};function xH(){var ve,je,Ce,ke,Be,he,J;const[t,e]=C.useState({id:"new-design",shirtColor:"#000000",shirtStyle:"regular",size:"M",layers:[],price:599}),[n,r]=C.useState(null),[i,s]=C.useState("front"),[a,o]=C.useState(!1),[c,u]=C.useState({x:0,y:0}),[d,h]=C.useState(1),[p,f]=C.useState(!0),[b,g]=C.useState(""),[w,x]=C.useState("Arial"),[y,N]=C.useState([24]),[A,k]=C.useState("#000000"),[E,R]=C.useState({}),[O,H]=C.useState([]),[K,D]=C.useState([]),T=C.useRef(null),X=C.useRef(null),B=["#000000","#ffffff","#1a202c","#2d3748","#e53e3e","#3182ce","#38a169","#d69e2e","#805ad5","#dd6b20","#319795","#e91e63"],ee=["Arial","Comic Sans MS","Impact","Times New Roman","Helvetica","Georgia","Verdana","Trebuchet MS"],G=C.useCallback(P=>{let ne=599,ye=0;return ye+=P.layers.length*100,["#e53e3e","#805ad5","#d69e2e"].includes(P.shirtColor)&&(ye+=50),["XL","XXL"].includes(P.size)&&(ye+=100),ne+ye},[]);C.useEffect(()=>{const P=G(t);e(ne=>({...ne,price:P}))},[t.layers,t.shirtColor,t.size,G]);const te=P=>{const ne={id:`character-${Date.now()}`,type:"character",content:P.id,position:{x:0,y:0},scale:1,rotation:0,visible:!0};e(ye=>({...ye,layers:[...ye.layers,ne]})),r(ne.id),ie(`${P.name} added to design!`)},V=P=>{if(!P.trim())return;const ne={id:`text-${Date.now()}`,type:"text",content:P,position:{x:0,y:0},scale:1,rotation:0,color:A,font:w,fontSize:y[0],visible:!0};e(ye=>({...ye,layers:[...ye.layers,ne]})),r(ne.id),g(""),ie("Text added to design!")},re=(P,ne)=>{e(ye=>({...ye,layers:ye.layers.map(Se=>Se.id===P?{...Se,...ne}:Se)}))},de=P=>{e(ne=>({...ne,layers:ne.layers.filter(ye=>ye.id!==P)})),n===P&&r(null),ie("Layer removed!")},Oe=P=>{const ne=Ij[P],ye=ne.layers.map((Se,Ee)=>({id:`template-${Date.now()}-${Ee}`,type:Se.type,content:Se.content,position:Se.position,scale:1,rotation:0,color:Se.color||A,font:w,fontSize:y[0],visible:!0}));e(Se=>({...Se,shirtColor:ne.shirtColor,layers:ye})),ie(`${ne.name} loaded!`)},F=()=>{const P={...t,id:`design-${Date.now()}`};D(ne=>[...ne,P]),localStorage.setItem("saved_tshirt_designs",JSON.stringify([...K,P])),ie("Design saved successfully!")},Y=()=>{if(T.current){const P=T.current,ne=document.createElement("a");ne.download="my-tshirt-design.png",ne.href=P.toDataURL(),ne.click(),ie("Design exported!")}},W=()=>{R(P=>({...P,[t.id]:(P[t.id]||0)+1})),ie("Added to cart!"),setTimeout(()=>{window.location.href="/products"},1500)},Z=()=>{navigator.share?navigator.share({title:"Check out my custom T-shirt design!",text:"I created this awesome anime T-shirt design",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),ie("Design link copied to clipboard!"))},se=()=>{const P=document.createElement("input");P.type="file",P.accept="image/*",P.onchange=ne=>{var Se;const ye=(Se=ne.target.files)==null?void 0:Se[0];if(ye){const Ee=new FileReader;Ee.onload=Le=>{var He;const Ue={id:`image-${Date.now()}`,type:"image",content:(He=Le.target)==null?void 0:He.result,position:{x:0,y:0},scale:1,rotation:0,visible:!0};e(Te=>({...Te,layers:[...Te.layers,Ue]})),r(Ue.id),ie("Custom image added!")},Ee.readAsDataURL(ye)}},P.click()},ie=P=>{console.log(P)},ce=()=>t.layers.find(P=>P.id===n);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[l.jsx(ST,{className:"h-4 w-4"}),l.jsx("span",{children:"Home"}),l.jsx("span",{children:"/"}),l.jsx("span",{className:"text-purple-300 font-medium",children:"T-Shirt Designer"})]})})}),l.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-5xl font-bold mb-4",children:" Ultimate T-Shirt Designer"}),l.jsx("p",{className:"text-xl text-purple-100 max-w-3xl mx-auto mb-6",children:"Create your perfect anime T-shirt with our advanced 3D designer"}),l.jsxs(_q,{variant:"secondary",className:"bg-white/20 text-white px-6 py-2 text-lg font-semibold",children:[t.layers.length," layers  ",t.price]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx(Gi,{className:"bg-white/10 backdrop-blur-lg border-white/20 text-white",children:l.jsxs(Yi,{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" T-Shirt Style"}),l.jsxs(Cy,{value:t.shirtStyle,onValueChange:P=>e(ne=>({...ne,shirtStyle:P})),children:[l.jsx(f0,{className:"bg-white/10 border-white/20 text-white",children:l.jsx(_y,{})}),l.jsxs(p0,{children:[l.jsx(qi,{value:"regular",children:"Regular Fit"}),l.jsx(qi,{value:"oversized",children:"Oversized"}),l.jsx(qi,{value:"hoodie",children:"Hoodie"}),l.jsx(qi,{value:"polo",children:"Polo Shirt"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" T-Shirt Color"}),l.jsx("div",{className:"grid grid-cols-6 gap-2",children:B.map(P=>l.jsx("button",{className:`w-8 h-8 rounded-full border-2 transition-all ${t.shirtColor===P?"border-white scale-110":"border-white/30 hover:border-white/60"}`,style:{backgroundColor:P},onClick:()=>e(ne=>({...ne,shirtColor:P}))},P))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" Size"}),l.jsxs(Cy,{value:t.size,onValueChange:P=>e(ne=>({...ne,size:P})),children:[l.jsx(f0,{className:"bg-white/10 border-white/20 text-white",children:l.jsx(_y,{})}),l.jsxs(p0,{children:[l.jsx(qi,{value:"XS",children:"Extra Small (XS)"}),l.jsx(qi,{value:"S",children:"Small (S)"}),l.jsx(qi,{value:"M",children:"Medium (M)"}),l.jsx(qi,{value:"L",children:"Large (L)"}),l.jsx(qi,{value:"XL",children:"Extra Large (XL)"}),l.jsx(qi,{value:"XXL",children:"Double XL (XXL)"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l.jsx(q9,{className:"w-5 h-5"}),"Design Layers"]}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.layers.map(P=>l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all ${n===P.id?"bg-purple-500/30 border border-purple-400":"bg-white/5 hover:bg-white/10 border border-white/10"}`,onClick:()=>r(P.id),children:[l.jsxs("span",{className:"flex items-center gap-2",children:[P.type==="character"&&"",P.type==="text"&&"",P.type==="image"&&"",l.jsx("span",{className:"text-sm",children:P.type==="text"?P.content.substring(0,15)+"...":P.content})]}),l.jsx(Wt,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-400 hover:text-red-300",onClick:ne=>{ne.stopPropagation(),de(P.id)},children:l.jsx(vo,{className:"w-3 h-3"})})]},P.id))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Wt,{onClick:F,className:"w-full bg-green-600 hover:bg-green-700",children:[l.jsx(Ow,{className:"w-4 h-4 mr-2"}),"Save Design"]}),l.jsxs(Wt,{onClick:Z,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[l.jsx(fb,{className:"w-4 h-4 mr-2"}),"Share Design"]}),l.jsxs(Wt,{onClick:Y,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[l.jsx(bT,{className:"w-4 h-4 mr-2"}),"Export PNG"]})]})]})})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx(Gi,{className:"bg-white/10 backdrop-blur-lg border-white/20 relative overflow-hidden h-[600px]",children:l.jsxs(Yi,{className:"p-0 h-full",children:[l.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 z-10",children:[l.jsx(Wt,{size:"sm",variant:i==="front"?"default":"outline",className:i==="front"?"bg-purple-600":"border-white/20 text-white hover:bg-white/10",onClick:()=>s("front"),children:"Front"}),l.jsx(Wt,{size:"sm",variant:i==="back"?"default":"outline",className:i==="back"?"bg-purple-600":"border-white/20 text-white hover:bg-white/10",onClick:()=>s("back"),children:"Back"}),l.jsx(Wt,{size:"sm",variant:i==="3d"?"default":"outline",className:i==="3d"?"bg-purple-600":"border-white/20 text-white hover:bg-white/10",onClick:()=>s("3d"),children:"3D View"})]}),l.jsx("div",{ref:X,className:"w-full h-full flex items-center justify-center relative",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:l.jsxs("div",{className:"relative",children:[l.jsx("svg",{width:"300",height:"360",viewBox:"0 0 300 360",className:"drop-shadow-2xl",children:l.jsx("path",{d:"M50 80 L50 50 Q50 30 70 30 L100 30 Q120 20 180 20 Q240 20 230 30 L260 30 Q280 30 280 50 L280 80 L250 100 L250 340 Q250 350 240 350 L60 350 Q50 350 50 340 L50 100 Z",fill:t.shirtColor,stroke:"rgba(255,255,255,0.2)",strokeWidth:"2"})}),t.layers.map(P=>{var ne;return l.jsxs("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none ${n===P.id?"ring-2 ring-purple-400":""}`,style:{transform:`translate(${P.position.x}px, ${P.position.y}px) scale(${P.scale}) rotate(${P.rotation}deg)`,opacity:P.visible?1:.5},children:[P.type==="character"&&l.jsx("div",{className:"w-20 h-20 bg-purple-500/30 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-2xl",children:((ne=Fj.find(ye=>ye.id===P.content))==null?void 0:ne.name.charAt(0))||""})}),P.type==="text"&&l.jsx("div",{style:{color:P.color,fontFamily:P.font,fontSize:`${P.fontSize}px`,fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:P.content}),P.type==="image"&&l.jsx("img",{src:P.content,alt:"Custom",className:"max-w-20 max-h-20 object-contain"})]},P.id)})]})}),l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsx(Wt,{size:"sm",variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:()=>f(!p),children:p?l.jsx(Qd,{className:"w-4 h-4"}):l.jsx(Pc,{className:"w-4 h-4"})})}),l.jsx("div",{className:"absolute bottom-4 right-4 bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-4",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-sm opacity-80",children:"Total Price"}),l.jsxs("div",{className:"text-2xl font-bold",children:["",t.price]}),l.jsxs(Wt,{onClick:W,className:"mt-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[l.jsx(lo,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})]})})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(Gi,{className:"bg-white/10 backdrop-blur-lg border-white/20 text-white",children:l.jsxs(Yi,{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" Anime Characters"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Fj.map(P=>l.jsxs("button",{className:"group bg-white/5 hover:bg-white/10 border border-white/10 hover:border-purple-400 rounded-lg p-3 transition-all",onClick:()=>te(P),children:[l.jsx("img",{src:P.image,alt:P.name,className:"w-full h-16 object-cover rounded-md mb-2"}),l.jsx("div",{className:"text-xs font-medium",children:P.name}),l.jsx("div",{className:"text-xs text-white/60",children:P.series})]},P.id))}),l.jsxs(Wt,{onClick:se,variant:"outline",className:"w-full mt-3 border-white/20 text-white hover:bg-white/10",children:[l.jsx(Jv,{className:"w-4 h-4 mr-2"}),"Upload Custom Image"]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l.jsx(Dw,{className:"w-5 h-5"}),"Add Text"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(eE,{placeholder:"Enter your text...",value:b,onChange:P=>g(P.target.value),className:"bg-white/10 border-white/20 text-white placeholder-white/50",onKeyPress:P=>{P.key==="Enter"&&V(b)}}),l.jsxs(Cy,{value:w,onValueChange:x,children:[l.jsx(f0,{className:"bg-white/10 border-white/20 text-white",children:l.jsx(_y,{})}),l.jsx(p0,{children:ee.map(P=>l.jsx(qi,{value:P,style:{fontFamily:P},children:P},P))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Font Size: ",y[0],"px"]}),l.jsx(qu,{value:y,onValueChange:N,max:100,min:10,step:2,className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Text Color"}),l.jsx("div",{className:"grid grid-cols-6 gap-2",children:B.map(P=>l.jsx("button",{className:`w-6 h-6 rounded-full border-2 transition-all ${A===P?"border-white scale-110":"border-white/30 hover:border-white/60"}`,style:{backgroundColor:P},onClick:()=>k(P)},P))})]}),l.jsxs(Wt,{onClick:()=>V(b),className:"w-full bg-purple-600 hover:bg-purple-700",disabled:!b.trim(),children:[l.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Add Text"]})]})]}),ce()&&l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l.jsx(G9,{className:"w-5 h-5"}),"Design Controls"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Position X"}),l.jsx(qu,{value:[((ve=ce())==null?void 0:ve.position.x)||0],onValueChange:P=>n&&re(n,{position:{...ce().position,x:P[0]}}),max:100,min:-100,step:5,className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Position Y"}),l.jsx(qu,{value:[((je=ce())==null?void 0:je.position.y)||0],onValueChange:P=>n&&re(n,{position:{...ce().position,y:P[0]}}),max:100,min:-100,step:5,className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Scale: ",(Ce=ce())==null?void 0:Ce.scale.toFixed(1),"x"]}),l.jsx(qu,{value:[((ke=ce())==null?void 0:ke.scale)||1],onValueChange:P=>n&&re(n,{scale:P[0]}),max:3,min:.1,step:.1,className:"w-full"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Rotation: ",(Be=ce())==null?void 0:Be.rotation,""]}),l.jsx(qu,{value:[((he=ce())==null?void 0:he.rotation)||0],onValueChange:P=>n&&re(n,{rotation:P[0]}),max:360,min:0,step:15,className:"w-full"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lE,{id:"layer-visible",checked:(J=ce())==null?void 0:J.visible,onCheckedChange:P=>n&&re(n,{visible:!!P})}),l.jsx("label",{htmlFor:"layer-visible",className:"text-sm font-medium",children:"Layer Visible"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" Famous Quotes"}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:vH.map((P,ne)=>l.jsx(Wt,{variant:"outline",size:"sm",className:"w-full text-left justify-start border-white/20 text-white hover:bg-white/10 text-xs p-2 h-auto",onClick:()=>V(P),children:P.length>30?P.substring(0,30)+"...":P},ne))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" Quick Templates"}),l.jsx("div",{className:"space-y-2",children:Object.entries(Ij).map(([P,ne])=>l.jsx(Wt,{variant:"outline",size:"sm",className:"w-full border-white/20 text-white hover:bg-white/10",onClick:()=>Oe(P),children:ne.name},P))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:" Advanced Features"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Wt,{variant:"outline",size:"sm",className:"w-full border-white/20 text-white hover:bg-white/10",onClick:()=>ie("AR Mode coming soon! "),children:[l.jsx(tF,{className:"w-4 h-4 mr-2"}),"AR Try-On"]}),l.jsxs(Wt,{variant:"outline",size:"sm",className:"w-full border-white/20 text-white hover:bg-white/10",onClick:()=>e(P=>({...P,layers:[]})),children:[l.jsx(nx,{className:"w-4 h-4 mr-2"}),"Clear All"]}),l.jsxs(Wt,{variant:"outline",size:"sm",className:"w-full border-white/20 text-white hover:bg-white/10",onClick:()=>ie("Undo feature coming soon!"),children:[l.jsx(_9,{className:"w-4 h-4 mr-2"}),"Undo/Redo"]})]})]})]})})})]}),l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsx(Gi,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:l.jsx(Yi,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[l.jsxs("div",{className:"text-white text-center sm:text-left",children:[l.jsxs("div",{className:"text-2xl font-bold",children:["",t.price]}),l.jsxs("div",{className:"text-sm opacity-80",children:[t.layers.length," design elements"]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Wt,{onClick:W,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold px-8",children:[l.jsx(lo,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),l.jsx(Wt,{onClick:()=>H(P=>[...P,t.id]),variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10",children:l.jsx(oo,{className:"w-5 h-5"})}),l.jsx(Wt,{onClick:Z,variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10",children:l.jsx(fb,{className:"w-5 h-5"})})]})]})})})}),l.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Gi,{className:"bg-white/5 backdrop-blur-lg border-white/10 text-white",children:l.jsxs(Yi,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Unlimited Creativity"}),l.jsx("p",{className:"text-sm opacity-80",children:"Mix and match anime characters, custom text, and personal images"})]})}),l.jsx(Gi,{className:"bg-white/5 backdrop-blur-lg border-white/10 text-white",children:l.jsxs(Yi,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-bold mb-2",children:"360 Preview"}),l.jsx("p",{className:"text-sm opacity-80",children:"See your design from every angle with our advanced 3D viewer"})]})}),l.jsx(Gi,{className:"bg-white/5 backdrop-blur-lg border-white/10 text-white",children:l.jsxs(Yi,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Real-time Pricing"}),l.jsx("p",{className:"text-sm opacity-80",children:"See exactly what you'll pay as you design, no hidden costs"})]})})]})]})]})}function ue(t,e,n){return(e=function(r){var i=function(s,a){if(typeof s!="object"||!s)return s;var o=s[Symbol.toPrimitive];if(o!==void 0){var c=o.call(s,a);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vn(t,e){if(t==null)return{};var n,r,i=function(a,o){if(a==null)return{};var c={};for(var u in a)if({}.hasOwnProperty.call(a,u)){if(o.indexOf(u)>=0)continue;c[u]=a[u]}return c}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}let Bj=class{constructor(){ue(this,"browserShadowBlurConstant",1),ue(this,"DPI",96),ue(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),ue(this,"perfLimitSizeTotal",2097152),ue(this,"maxCacheSideLimit",4096),ue(this,"minCacheSideLimit",256),ue(this,"disableStyleCopyPaste",!1),ue(this,"enableGLFiltering",!0),ue(this,"textureSize",4096),ue(this,"forceGLPutImageData",!1),ue(this,"cachesBoundsOfCurve",!1),ue(this,"fontPaths",{}),ue(this,"NUM_FRACTION_DIGITS",4)}};const It=new class extends Bj{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=fe(fe({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new Bj,n=(t==null?void 0:t.reduce((r,i)=>(r[i]=e[i],r),{}))||e;this.configure(n)}},kl=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console[t]("fabric",...n)};let la=class extends Error{constructor(e,n){super("fabric: ".concat(e),n)}},yH=class extends la{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},bH=class{},wH=class extends bH{testPrecision(e,n){const r="precision ".concat(n,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,r),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const n=e.getContext("webgl");n&&(this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(n,r)),n.getExtension("WEBGL_lose_context").loseContext(),kl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const SH={};let qj;const va=()=>qj||(qj={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new wH,dispose(){},copyPasteData:SH}),xh=()=>va().document,yx=()=>va().window,x8=()=>{var t;return Math.max((t=It.devicePixelRatio)!==null&&t!==void 0?t:yx().devicePixelRatio,1)},Hf=new class{constructor(){ue(this,"charWidthsCache",{}),ue(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:n,fontWeight:r}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=It,n=Math.sqrt(e*t);return[Math.floor(n),Math.floor(e/n)]}},Mb="6.7.0";function m0(){}const Zp=Math.PI/2,dv=2*Math.PI,uS=Math.PI/180,Hr=Object.freeze([1,0,0,1,0,0]),dS=16,Io=.4477152502,Nt="center",Vt="left",si="top",Db="bottom",Rn="right",ai="none",hS=/\r?\n/,y8="moving",bx="scaling",b8="rotating",fS="rotate",w8="skewing",vp="resizing",jH="modifyPoly",NH="modifyPath",hv="changed",wx="scale",ci="scaleX",rs="scaleY",yh="skewX",bh="skewY",Jn="fill",oi="stroke",fv="modified",Mu="json",Ay="svg",Ke=new class{constructor(){this[Mu]=new Map,this[Ay]=new Map}has(t){return this[Mu].has(t)}getClass(t){const e=this[Mu].get(t);if(!e)throw new la("No class registered for ".concat(t));return e}setClass(t,e){e?this[Mu].set(e,t):(this[Mu].set(t.type,t),this[Mu].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Ay].get(t)}setSVGClass(t,e){this[Ay].set(e??t.type.toLowerCase(),t)}},pv=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(n=>{var r;return n.target===t||typeof n.target=="object"&&((r=n.target)===null||r===void 0?void 0:r.canvas)===t});return e.forEach(n=>n.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(n=>n.target===t);return e.forEach(n=>n.abort()),e}};let CH=class{constructor(){ue(this,"__eventListeners",{})}on(e,n){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[i,s]=r;this.on(i,s)}),()=>this.off(e);if(n){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(n),()=>this.off(r,n)}return()=>!1}once(e,n){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(i=>{let[s,a]=i;r.push(this.once(s,a))}),()=>r.forEach(i=>i())}if(n){const r=this.on(e,function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.call(this,...s),r()});return r}return()=>!1}_removeEventListener(e,n){if(this.__eventListeners[e])if(n){const r=this.__eventListeners[e],i=r.indexOf(n);i>-1&&r.splice(i,1)}else this.__eventListeners[e]=[]}off(e,n){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[i,s]=r;this._removeEventListener(i,s)}):this._removeEventListener(e,n)}fire(e,n){var r;if(!this.__eventListeners)return;const i=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,n||{})}};const Uu=(t,e)=>{const n=t.indexOf(e);return n!==-1&&t.splice(n,1),t},ho=t=>{if(t===0)return 1;switch(Math.abs(t)/Zp){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},fo=t=>{if(t===0)return 0;const e=t/Zp,n=Math.sign(t);switch(e){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(t)};let _e=class Pr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}add(e){return new Pr(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Pr(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Pr(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Pr(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Pr(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Pr(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Pr(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Pr(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return n=Math.max(Math.min(1,n),0),new Pr(this.x+(e.x-this.x)*n,this.y+(e.y-this.y)*n)}distanceFrom(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new Pr(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Pr(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,n){return this.x=e,this.y=n,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const n=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=n,e.y=r}clone(){return new Pr(this.x,this.y)}rotate(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pS;const r=fo(e),i=ho(e),s=this.subtract(n);return new Pr(s.x*i-s.y*r,s.x*r+s.y*i).add(n)}transform(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Pr(e[0]*this.x+e[2]*this.y+(n?0:e[4]),e[1]*this.x+e[3]*this.y+(n?0:e[5]))}};const pS=new _e(0,0),g0=t=>!!t&&Array.isArray(t._objects);function S8(t){class e extends t{constructor(){super(...arguments),ue(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=this._objects.push(...i);return i.forEach(o=>this._onObjectAdded(o)),a}insertAt(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return this._objects.splice(r,0,...s),s.forEach(o=>this._onObjectAdded(o)),this._objects.length}remove(){const r=this._objects,i=[];for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return a.forEach(c=>{const u=r.indexOf(c);u!==-1&&(r.splice(u,1),i.push(c),this._onObjectRemoved(c))}),i}forEachObject(r){this.getObjects().forEach((i,s,a)=>r(i,s,a))}getObjects(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(a=>a.isType(...i))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,i){return!!this._objects.includes(r)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(r,!0))}complexity(){return this._objects.reduce((r,i)=>r+=i.complexity?i.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(Uu(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(Uu(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==0){const a=this.findNewLowerIndex(r,s,i);return Uu(this._objects,r),this._objects.splice(a,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==this._objects.length-1){const a=this.findNewUpperIndex(r,s,i);return Uu(this._objects,r),this._objects.splice(a,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,i){return r!==this._objects[i]&&(Uu(this._objects,r),this._objects.splice(i,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,i,s){let a;if(s){a=i;for(let o=i-1;o>=0;--o)if(r.isOverlapping(this._objects[o])){a=o;break}}else a=i-1;return a}findNewUpperIndex(r,i,s){let a;if(s){a=i;for(let o=i+1;o<this._objects.length;++o)if(r.isOverlapping(this._objects[o])){a=o;break}}else a=i+1;return a}collectObjects(r){let{left:i,top:s,width:a,height:o}=r,{includeIntersecting:c=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=[],d=new _e(i,s),h=d.add(new _e(a,o));for(let p=this._objects.length-1;p>=0;p--){const f=this._objects[p];f.selectable&&f.visible&&(c&&f.intersectsWithRect(d,h)||f.isContainedWithinRect(d,h)||c&&f.containsPoint(d)||c&&f.containsPoint(h))&&u.push(f)}return u}}return e}let j8=class extends CH{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const n in e)this.set(n,e[n])}_setObject(e){for(const n in e)this._set(n,e[n])}set(e,n){return typeof e=="object"?this._setObject(e):this._set(e,n),this}_set(e,n){this[e]=n}toggle(e){const n=this.get(e);return typeof n=="boolean"&&this.set(e,!n),this}get(e){return this[e]}};function v0(t){return yx().requestAnimationFrame(t)}function _H(t){return yx().cancelAnimationFrame(t)}let AH=0;const El=()=>AH++,po=()=>{const t=xh().createElement("canvas");if(!t||t.getContext===void 0)throw new la("Failed to create `canvas` element");return t},TH=()=>xh().createElement("img"),is=t=>{const e=po();return e.width=t.width,e.height=t.height,e},N8=(t,e,n)=>t.toDataURL("image/".concat(e),n),C8=(t,e,n)=>new Promise((r,i)=>{t.toBlob(r,"image/".concat(e),n)}),Bn=t=>t*uS,mo=t=>t/uS,kH=t=>t.every((e,n)=>e===Hr[n]),ii=(t,e,n)=>new _e(t).transform(e,n),Ts=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:r,y:i}=new _e(t[4],t[5]).transform(n,!0);return n[4]=-r,n[5]=-i,n},gr=(t,e,n)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]],mS=(t,e)=>t.reduceRight((n,r)=>r&&n?gr(r,n,e):r||n,void 0)||Hr.concat(),_8=t=>{let[e,n]=t;return Math.atan2(n,e)},mv=t=>{const e=_8(t),n=Math.pow(t[0],2)+Math.pow(t[1],2),r=Math.sqrt(n),i=(t[0]*t[3]-t[2]*t[1])/r,s=Math.atan2(t[0]*t[2]+t[1]*t[3],n);return{angle:mo(e),scaleX:r,scaleY:i,skewX:mo(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Jp=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function wh(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:n=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Bn(t),i=ho(r),s=fo(r);return[i,s,-s,i,e?e-(i*e-s*n):0,n?n-(s*e+i*n):0]}const gS=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},A8=t=>Math.tan(Bn(t)),T8=t=>[1,0,A8(t),1,0,0],k8=t=>[1,A8(t),0,1,0,0],Sx=t=>{let{scaleX:e=1,scaleY:n=1,flipX:r=!1,flipY:i=!1,skewX:s=0,skewY:a=0}=t,o=gS(r?-e:e,i?-n:n);return s&&(o=gr(o,T8(s),!0)),a&&(o=gr(o,k8(a),!0)),o},EH=t=>{const{translateX:e=0,translateY:n=0,angle:r=0}=t;let i=Jp(e,n);r&&(i=gr(i,wh({angle:r})));const s=Sx(t);return kH(s)||(i=gr(i,s)),i},x0=function(t){let{signal:e,crossOrigin:n=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,i){if(e&&e.aborted)return i(new yH("loadImage"));const s=TH();let a;e&&(a=function(c){s.src="",i(c)},e.addEventListener("abort",a,{once:!0}));const o=function(){s.onload=s.onerror=null,a&&(e==null||e.removeEventListener("abort",a)),r(s)};t?(s.onload=o,s.onerror=function(){a&&(e==null||e.removeEventListener("abort",a)),i(new la("Error loading ".concat(s.src)))},n&&(s.crossOrigin=n),s.src=t):o()})},xp=function(t){let{signal:e,reviver:n=m0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(a=>Ke.getClass(a.type).fromObject(a,{signal:e}).then(o=>(n(a,o),s.push(o),o)))).then(r).catch(a=>{s.forEach(o=>{o.dispose&&o.dispose()}),i(a)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},jx=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const i=[];e&&e.addEventListener("abort",r,{once:!0});const s=Object.values(t).map(o=>o&&o.type&&Ke.has(o.type)?xp([o],{signal:e}).then(c=>{let[u]=c;return i.push(u),u}):o),a=Object.keys(t);Promise.all(s).then(o=>o.reduce((c,u,d)=>(c[a[d]]=u,c),{})).then(n).catch(o=>{i.forEach(c=>{c.dispose&&c.dispose()}),r(o)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},Sh=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,n)=>(n in t&&(e[n]=t[n]),e),{})},vS=(t,e)=>Object.keys(t).reduce((n,r)=>(e(t[r],r,t)&&(n[r]=t[r]),n),{}),ln=(t,e)=>parseFloat(Number(t).toFixed(e)),yp=t=>"matrix("+t.map(e=>ln(e,It.NUM_FRACTION_DIGITS)).join(" ")+")",Zi=t=>!!t&&t.toLive!==void 0,Uj=t=>!!t&&typeof t.toObject=="function",Hj=t=>!!t&&t.offsetX!==void 0&&"source"in t,sc=t=>!!t&&"multiSelectionStacking"in t;function E8(t){const e=t&&_s(t);let n=0,r=0;if(!t||!e)return{left:n,top:r};let i=t;const s=e.documentElement,a=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(n=a.scrollLeft||s.scrollLeft||0,r=a.scrollTop||s.scrollTop||0):(n+=i.scrollLeft||0,r+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:n,top:r}}const _s=t=>t.ownerDocument||null,O8=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},L8=function(t,e,n){let{width:r,height:i}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=r,t.height=i,s>1&&(t.setAttribute("width",(r*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},Pb=(t,e)=>{let{width:n,height:r}=e;n&&(t.style.width=typeof n=="number"?"".concat(n,"px"):n),r&&(t.style.height=typeof r=="number"?"".concat(r,"px"):r)};function Vj(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=ai,t}let M8=class{constructor(e){ue(this,"_originalCanvasStyle",void 0),ue(this,"lower",void 0);const n=this.createLowerCanvas(e);this.lower={el:n,ctx:n.getContext("2d")}}createLowerCanvas(e){const n=(r=e)&&r.getContext!==void 0?e:e&&xh().getElementById(e)||po();var r;if(n.hasAttribute("data-fabric"))throw new la("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=n.style.cssText,n.setAttribute("data-fabric","main"),n.classList.add("lower-canvas"),n}cleanupDOM(e){let{width:n,height:r}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(n)),i.setAttribute("height","".concat(r)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,n){const{el:r,ctx:i}=this.lower;L8(r,i,e,n)}setCSSDimensions(e){Pb(this.lower.el,e)}calcOffset(){return function(e){var n;const r=e&&_s(e),i={left:0,top:0};if(!r)return i;const s=((n=O8(e))===null||n===void 0?void 0:n.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let a={left:0,top:0};const o=r.documentElement;e.getBoundingClientRect!==void 0&&(a=e.getBoundingClientRect());const c=E8(e);return{left:a.left+c.left-(o.clientLeft||0)+i.left,top:a.top+c.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){va().dispose(this.lower.el),delete this.lower}};const OH={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Hr]};let xS=class D8 extends S8(j8){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return D8.ownDefaults}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(n),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new M8(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(kl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?x8():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,n){return this.setDimensions({width:e},n)}setHeight(e,n){return this.setDimensions({height:e},n)}_setDimensionsImpl(e){let{cssOnly:n=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n){const i=fe({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,n){this._setDimensionsImpl(e,n),n&&n.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,n){const r=e,i=[...this.viewportTransform],s=ii(e,Ts(i));i[0]=n,i[3]=n;const a=ii(s,i);i[4]+=r.x-a.x,i[5]+=r.y-a.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new _e(0,0),e)}absolutePan(e){const n=[...this.viewportTransform];return n[4]=-e.x,n[5]=-e.y,this.setViewportTransform(n)}relativePan(e){return this.absolutePan(new _e(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=v0(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,n=this.height,r=Ts(this.viewportTransform),i=ii({x:0,y:0},r),s=ii({x:e,y:n},r),a=i.min(s),o=i.max(s);return this.vptCoords={tl:a,tr:new _e(o.x,a.y),bl:new _e(a.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(_H(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,n){if(this.destroyed)return;const r=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,n),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,n){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()}_renderObjects(e,n){for(let r=0,i=n.length;r<i;++r)n[r]&&n[r].render(e)}_renderBackgroundOrOverlay(e,n){const r=this["".concat(n,"Color")],i=this["".concat(n,"Image")],s=this.viewportTransform,a=this["".concat(n,"Vpt")];if(!r&&!i)return;const o=Zi(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?r.toLive(e):r,a&&e.transform(...s),o){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const c=r.gradientTransform||r.patternTransform;c&&e.transform(...c)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:c}=this;this.skipOffscreen=a,a&&e.transform(...s),i.render(e),this.skipOffscreen=c,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new _e(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new _e(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new _e(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new _e(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new _e(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ii(this.getCenterPoint(),Ts(this.viewportTransform))}_centerObject(e,n){e.setXY(n,Nt,Nt),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,n){const r=this.clipPath,i=r&&!r.excludeFromExport?this._toObject(r,e,n):null;return fe(fe(fe({version:Mb},Sh(this,n)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,n))},this.__serializeBgOverlay(e,n)),i?{clipPath:i}:null)}_toObject(e,n,r){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[n](r);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,n){const r={},i=this.backgroundImage,s=this.overlayImage,a=this.backgroundColor,o=this.overlayColor;return Zi(a)?a.excludeFromExport||(r.background=a.toObject(n)):a&&(r.background=a),Zi(o)?o.excludeFromExport||(r.overlay=o.toObject(n)):o&&(r.overlay=o),i&&!i.excludeFromExport&&(r.backgroundImage=this._toObject(i,e,n)),s&&!s.excludeFromExport&&(r.overlayImage=this._toObject(s,e,n)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e.reviver=n;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",n),this._setSVGObjects(r,n),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",n),r.push("</svg>"),r.join("")}_setSVGPreamble(e,n){n.suppressPreamble||e.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,n){const r=n.width||"".concat(this.width),i=n.height||"".concat(this.height),s=It.NUM_FRACTION_DIGITS,a=n.viewBox;let o;if(a)o='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){const c=this.viewportTransform;o='viewBox="'.concat(ln(-c[4]/c[0],s)," ").concat(ln(-c[5]/c[3],s)," ").concat(ln(this.width/c[0],s)," ").concat(ln(this.height/c[3],s),'" ')}else o='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',i,'" ',o,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Mb,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(n),`</defs>
`)}createSVGClipPathMarkup(e){const n=this.clipPath;return n?(n.clipPathId="CLIPPATH_".concat(El()),'<clipPath id="'.concat(n.clipPathId,`" >
`).concat(n.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const n=this["".concat(e,"Color")];if(Zi(n)){const r=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(r?i[0]:1),height:this.height/(r?i[3]:1)};return n.toSVG(s,{additionalTransform:r?yp(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],n={},r=It.fontPaths;this._objects.forEach(function s(a){e.push(a),g0(a)&&a._objects.forEach(s)}),e.forEach(s=>{if(!(a=s)||typeof a._renderText!="function")return;var a;const{styles:o,fontFamily:c}=s;!n[c]&&r[c]&&(n[c]=!0,o&&Object.values(o).forEach(u=>{Object.values(u).forEach(d=>{let{fontFamily:h=""}=d;!n[h]&&r[h]&&(n[h]=!0)})}))});const i=Object.keys(n).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(r[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,n){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,n)})}_setSVGObject(e,n,r){e.push(n.toSVG(r))}_setSVGBgOverlayImage(e,n,r){const i=this[n];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(r))}_setSVGBgOverlayColor(e,n){const r=this["".concat(n,"Color")];if(r)if(Zi(r)){const i=r.repeat||"",s=this.width,a=this.height,o=this["".concat(n,"Vpt")]?yp(Ts(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(s/2,",").concat(a/2,')" x="').concat(r.offsetX-s/2,'" y="').concat(r.offsetY-a/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!Hj(r)?s:r.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!Hj(r)?a:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,n){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new la("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:a,background:o,overlayImage:c,overlay:u,clipPath:d}=i,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([xp(s,{reviver:n,signal:r}),jx({backgroundImage:a,backgroundColor:o,overlayImage:c,overlayColor:u,clipPath:d},{signal:r})]).then(p=>{let[f,b]=p;return this.clear(),this.add(...f),this.set(i),this.set(b),this.renderOnAddRemove=h,this})}clone(e){const n=this.toObject(e);return this.cloneWithoutData().loadFromJSON(n)}cloneWithoutData(){const e=is(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return N8(this.toCanvasElement(a,e),n,r)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,a=i*(s?this.getRetinaScaling():1);return C8(this.toCanvasElement(a,e),n,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:n,height:r,left:i,top:s,filter:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=(n||this.width)*e,c=(r||this.height)*e,u=this.getZoom(),d=this.width,h=this.height,p=this.skipControlsDrawing,f=u*e,b=this.viewportTransform,g=[f,0,0,f,(b[4]-(i||0))*e,(b[5]-(s||0))*e],w=this.enableRetinaScaling,x=is({width:o,height:c}),y=a?this._objects.filter(N=>a(N)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=g,this.width=o,this.height=c,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),y),this.viewportTransform=b,this.width=d,this.height=h,this.calcViewportBoundaries(),this.enableRetinaScaling=w,this.skipControlsDrawing=p,x}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),pv.cancelByCanvas(this),this.disposed=!0,new Promise((e,n)=>{const r=()=>{this.destroy(),e(!0)};r.kill=n,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};ue(xS,"ownDefaults",OH);const LH=["touchstart","touchmove","touchend"],MH=t=>{const e=E8(t.target),n=function(r){const i=r.changedTouches;return i&&i[0]?i[0]:r}(t);return new _e(n.clientX+e.left,n.clientY+e.top)},Rb=t=>LH.includes(t.type)||t.pointerType==="touch",Gj=t=>{t.preventDefault(),t.stopPropagation()},eo=t=>{let e=0,n=0,r=0,i=0;for(let s=0,a=t.length;s<a;s++){const{x:o,y:c}=t[s];(o>r||!s)&&(r=o),(o<e||!s)&&(e=o),(c>i||!s)&&(i=c),(c<n||!s)&&(n=c)}return{left:e,top:n,width:r-e,height:i-n}},DH=["translateX","translateY","scaleX","scaleY"],PH=(t,e)=>gv(t,gr(e,t.calcOwnMatrix())),gv=(t,e)=>{const n=mv(e),{translateX:r,translateY:i,scaleX:s,scaleY:a}=n,o=vn(n,DH),c=new _e(r,i);t.flipX=!1,t.flipY=!1,Object.assign(t,o),t.set({scaleX:s,scaleY:a}),t.setPositionByOrigin(c,Nt,Nt)},RH=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},P8=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),yS=(t,e,n)=>{const r=t/2,i=e/2,s=[new _e(-r,-i),new _e(r,-i),new _e(-r,i),new _e(r,i)].map(o=>o.transform(n)),a=eo(s);return new _e(a.width,a.height)},Nx=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hr;return gr(Ts(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hr),t)},yd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hr,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hr;return t.transform(Nx(e,n))},FH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hr,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hr;return t.transform(Nx(e,n),!0)},IH=(t,e,n)=>{const r=Nx(e,n);return gv(t,gr(r,t.calcOwnMatrix())),r},R8=(t,e)=>{var n;const{transform:{target:r}}=e;(n=r.canvas)===null||n===void 0||n.fire("object:".concat(t),fe(fe({},e),{},{target:r})),r.fire(t,e)},zH={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Xn=t=>typeof t=="string"?zH[t]:t-.5,vv="not-allowed";function F8(t){return Xn(t.originX)===Xn(Nt)&&Xn(t.originY)===Xn(Nt)}function Yj(t){return .5-Xn(t)}const Os=(t,e)=>t[e],I8=(t,e,n,r)=>({e:t,transform:e,pointer:new _e(n,r)});function z8(t,e){const n=t.getTotalAngle()+mo(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function bS(t,e,n,r,i){var s;let{target:a,corner:o}=t;const c=a.controls[o],u=((s=a.canvas)===null||s===void 0?void 0:s.getZoom())||1,d=a.padding/u,h=function(p,f,b,g){const w=p.getRelativeCenterPoint(),x=b!==void 0&&g!==void 0?p.translateToGivenOrigin(w,Nt,Nt,b,g):new _e(p.left,p.top);return(p.angle?f.rotate(-Bn(p.angle),w):f).subtract(x)}(a,new _e(r,i),e,n);return h.x>=d&&(h.x-=d),h.x<=-d&&(h.x+=d),h.y>=d&&(h.y-=d),h.y<=d&&(h.y+=d),h.x-=c.offsetX,h.y-=c.offsetY,h}const BH=(t,e,n,r)=>{const{target:i,offsetX:s,offsetY:a}=e,o=n-s,c=r-a,u=!Os(i,"lockMovementX")&&i.left!==o,d=!Os(i,"lockMovementY")&&i.top!==c;return u&&i.set(Vt,o),d&&i.set(si,c),(u||d)&&R8(y8,I8(t,e,n,r)),u||d},Xj={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Ty=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),Wj=(t,e,n,r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n);let a,o;const c=(i+s)/2;if(i===s)a=o=0;else{const u=i-s;switch(o=c>.5?u/(2-i-s):u/(i+s),i){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4}a/=6}return[Math.round(360*a),Math.round(100*o),Math.round(100*c),r]},$j=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},mg=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),Kj=t=>{let[e,n,r,i=1]=t;const s=Math.round(.3*e+.59*n+.11*r);return[s,s,s,i]};let Oi=class _r{constructor(e){if(ue(this,"isUnrecognised",!1),e)if(e instanceof _r)this.setSource([...e._source]);else if(Array.isArray(e)){const[n,r,i,s=1]=e;this.setSource([n,r,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in Xj&&(e=Xj[e]),e==="transparent"?[255,255,255,0]:_r.sourceFromHex(e)||_r.sourceFromRgb(e)||_r.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,n,r]=this.getSource();return"rgb(".concat(e,",").concat(n,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,n,r]=Wj(...this.getSource());return"hsl(".concat(e,",").concat(n,"%,").concat(r,"%)")}toHsla(){const[e,n,r,i]=Wj(...this.getSource());return"hsla(".concat(e,",").concat(n,"%,").concat(r,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,n,r,i]=this.getSource();return"".concat(mg(e)).concat(mg(n)).concat(mg(r)).concat(mg(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(Kj(this.getSource())),this}toBlackWhite(e){const[n,,,r]=Kj(this.getSource()),i=n<(e||127)?0:255;return this.setSource([i,i,i,r]),this}overlayWith(e){e instanceof _r||(e=new _r(e));const n=this.getSource(),r=e.getSource(),[i,s,a]=n.map((o,c)=>Math.round(.5*o+.5*r[c]));return this.setSource([i,s,a,n[3]]),this}static fromRgb(e){return _r.fromRgba(e)}static fromRgba(e){return new _r(_r.sourceFromRgb(e))}static sourceFromRgb(e){const n=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(n){const[r,i,s]=n.slice(1,4).map(a=>{const o=parseFloat(a);return a.endsWith("%")?Math.round(2.55*o):o});return[r,i,s,$j(n[4])]}}static fromHsl(e){return _r.fromHsla(e)}static fromHsla(e){return new _r(_r.sourceFromHsl(e))}static sourceFromHsl(e){const n=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!n)return;const r=(_r.parseAngletoDegrees(n[1])%360+360)%360/360,i=parseFloat(n[2])/100,s=parseFloat(n[3])/100;let a,o,c;if(i===0)a=o=c=s;else{const u=s<=.5?s*(i+1):s+i-s*i,d=2*s-u;a=Ty(d,u,r+1/3),o=Ty(d,u,r),c=Ty(d,u,r-1/3)}return[Math.round(255*a),Math.round(255*o),Math.round(255*c),$j(n[4])]}static fromHex(e){return new _r(_r.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const n=e.slice(e.indexOf("#")+1);let r;r=n.length<=4?n.split("").map(c=>c+c):n.match(/.{2}/g);const[i,s,a,o=255]=r.map(c=>parseInt(c,16));return[i,s,a,o/255]}}static parseAngletoDegrees(e){const n=e.toLowerCase(),r=parseFloat(n);return n.includes("rad")?mo(r):n.includes("turn")?360*r:r}};const bd=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dS;const n=/\D{0,2}$/.exec(t),r=parseFloat(t),i=It.DPI;switch(n==null?void 0:n[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*e;default:return r}},qH=t=>{const[e,n]=t.trim().split(" "),[r,i]=(s=e)&&s!==ai?[s.slice(1,4),s.slice(5,8)]:s===ai?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:n||"meet",alignX:r,alignY:i}},bp=function(t,e){let n,r,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)n="url(#SVGID_".concat(e.id,")");else{const s=new Oi(e),a=s.getAlpha();n=s.toRgb(),a!==1&&(r=a.toString())}else n="none";return i?"".concat(t,": ").concat(n,"; ").concat(r?"".concat(t,"-opacity: ").concat(r,"; "):""):"".concat(t,'="').concat(n,'" ').concat(r?"".concat(t,'-opacity="').concat(r,'" '):"")};class B8{getSvgStyles(e){const n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):ai,s=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=this.opacity!==void 0?this.opacity:"1",d=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),p=bp(Jn,this.fill);return[bp(oi,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",c,"; ",p,"fill-rule: ",n,"; ","opacity: ",u,";",h,d].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(yp(r));return"".concat(i).concat(n,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:n,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,n?n(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:n,reviver:r,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=n?"":'style="'.concat(this.getSvgStyles(),'" '),o=i?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,h=this.stroke,p=this.fill,f=this.shadow,b=[],g=e.indexOf("COMMON_PARTS");let w;c&&(c.clipPathId="CLIPPATH_".concat(El()),w='<clipPath id="'.concat(c.clipPathId,`" >
`).concat(c.toClipPathSVG(r),`</clipPath>
`)),d&&b.push("<g ",o,this.getSvgCommons(),` >
`),b.push("<g ",this.getSvgTransform(!1),d?"":o+this.getSvgCommons(),` >
`);const x=[a,u,n?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[g]=x,Zi(p)&&b.push(p.toSVG(this)),Zi(h)&&b.push(h.toSVG(this)),f&&b.push(f.toSVG(this)),c&&b.push(w),b.push(e.join("")),b.push(`</g>
`),d&&b.push(`</g>
`),r?r(b.join("")):b.join("")}addPaintOrder(){return this.paintFirst!==Jn?' paint-order="'.concat(this.paintFirst,'" '):""}}function Cx(t){return new RegExp("^("+t.join("|")+")\\b","i")}const Bc="textDecorationThickness",q8=["fontSize","fontWeight","fontFamily","fontStyle"],U8=["underline","overline","linethrough"],H8=[...q8,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],V8=[...H8,...U8,"textBackgroundColor","direction",Bc],UH=[...q8,...U8,oi,"strokeWidth",Jn,"deltaY","textBackgroundColor",Bc],HH={_reNewline:hS,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Vt,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Vt,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[Bc]:66.667},sa="justify",xv="justify-left",Vf="justify-right",Gf="justify-center";var Qj,Zj,Jj;const ks=String.raw(Qj||(Qj=wa(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),ky=String.raw(Zj||(Zj=wa(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),VH=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+ks+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+ks+"))?\\s+(.*)"),GH={cx:Vt,x:Vt,r:"radius",cy:si,y:si,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":Bc},Ey="font-size",Oy="clip-path";Cx(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Cx(["symbol","image","marker","pattern","view","svg"]);const eN=Cx(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(Jj||(Jj=wa(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),ks,ky,ks,ky,ks,ky,ks));const YH=new _e(1,0),G8=new _e,Y8=(t,e)=>t.rotate(e),Fb=(t,e)=>new _e(e).subtract(t),Ib=t=>t.distanceFrom(G8),zb=(t,e)=>Math.atan2(Yf(t,e),WH(t,e)),XH=t=>zb(YH,t),wS=t=>t.eq(G8)?t:t.scalarDivide(Ib(t)),X8=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return wS(new _e(-t.y,t.x).scalarMultiply(e?1:-1))},Yf=(t,e)=>t.x*e.y-t.y*e.x,WH=(t,e)=>t.x*e.x+t.y*e.y,tN=(t,e,n)=>{if(t.eq(e)||t.eq(n))return!0;const r=Yf(e,n),i=Yf(e,t),s=Yf(n,t);return r>=0?i>=0&&s<=0:!(i<=0&&s>=0)},nN="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",rN=new RegExp("(?:\\s|^)"+nN+nN+"("+ks+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class to{constructor(e){const n=typeof e=="string"?to.parseShadow(e):e;Object.assign(this,to.ownDefaults,n),this.id=El()}static parseShadow(e){const n=e.trim(),[,r=0,i=0,s=0]=(rN.exec(n)||[]).map(a=>parseFloat(a)||0);return{color:(n.replace(rN,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const n=Y8(new _e(this.offsetX,this.offsetY),Bn(-e.angle)),r=new Oi(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*ln((Math.abs(n.x)+this.blur)/e.width,It.NUM_FRACTION_DIGITS)+20,s=100*ln((Math.abs(n.y)+this.blur)/e.height,It.NUM_FRACTION_DIGITS)+20),e.flipX&&(n.x*=-1),e.flipY&&(n.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(ln(this.blur?this.blur/2:0,It.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(ln(n.x,It.NUM_FRACTION_DIGITS),'" dy="').concat(ln(n.y,It.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},n=to.ownDefaults;return this.includeDefaultValues?e:vS(e,(r,i)=>r!==n[i])}static async fromObject(e){return new this(e)}}ue(to,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),ue(to,"type","shadow"),Ke.setClass(to,"shadow");const th=(t,e,n)=>Math.max(t,Math.min(e,n)),$H=[si,Vt,ci,rs,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",yh,bh],xo=[Jn,oi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],KH={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Vt,originY:si,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Jn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},QH=(t,e,n,r)=>-n*Math.cos(t/r*Zp)+n+e,ZH=()=>!1;class SS{constructor(e){let{startValue:n,byValue:r,duration:i=500,delay:s=0,easing:a=QH,onStart:o=m0,onChange:c=m0,onComplete:u=m0,abort:d=ZH,target:h}=e;ue(this,"_state","pending"),ue(this,"durationProgress",0),ue(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=a,this._onStart=o,this._onChange=c,this._onComplete=u,this._abort=d,this.target=h,this.startValue=n,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=n=>{this._state==="pending"&&(this.startTime=n||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>v0(e),this.delay):v0(e)}tick(e){const n=(e||+new Date)-this.startTime,r=Math.min(n,this.duration);this.durationProgress=r/this.duration;const{value:i,valueProgress:s}=this.calculate(r);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):n>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),v0(this.tick)))}register(){pv.push(this)}unregister(){pv.remove(this)}abort(){this._state="aborted",this.unregister()}}const JH=["startValue","endValue"];class eV extends SS{constructor(e){let{startValue:n=0,endValue:r=100}=e;super(fe(fe({},vn(e,JH)),{},{startValue:n,byValue:r-n}))}calculate(e){const n=this.easing(e,this.startValue,this.byValue,this.duration);return{value:n,valueProgress:Math.abs((n-this.startValue)/this.byValue)}}}const tV=["startValue","endValue"];class nV extends SS{constructor(e){let{startValue:n=[0],endValue:r=[100]}=e;super(fe(fe({},vn(e,tV)),{},{startValue:n,byValue:r.map((i,s)=>i-n[s])}))}calculate(e){const n=this.startValue.map((r,i)=>this.easing(e,r,this.byValue[i],this.duration,i));return{value:n,valueProgress:Math.abs((n[0]-this.startValue[0])/this.byValue[0])}}}const rV=["startValue","endValue","easing","onChange","onComplete","abort"],iV=(t,e,n,r)=>e+n*(1-Math.cos(t/r*Zp)),Ly=t=>t&&((e,n,r)=>t(new Oi(e).toRgba(),n,r));class sV extends SS{constructor(e){let{startValue:n,endValue:r,easing:i=iV,onChange:s,onComplete:a,abort:o}=e,c=vn(e,rV);const u=new Oi(n).getSource(),d=new Oi(r).getSource();super(fe(fe({},c),{},{startValue:u,byValue:d.map((h,p)=>h-u[p]),easing:i,onChange:Ly(s),onComplete:Ly(a),abort:Ly(o)}))}calculate(e){const[n,r,i,s]=this.startValue.map((o,c)=>this.easing(e,o,this.byValue[c],this.duration,c)),a=[...[n,r,i].map(Math.round),th(0,s,1)];return{value:a,valueProgress:a.map((o,c)=>this.byValue[c]!==0?Math.abs((o-this.startValue[c])/this.byValue[c]):0).find(o=>o!==0)||0}}}function W8(t){const e=(n=>Array.isArray(n.startValue)||Array.isArray(n.endValue))(t)?new nV(t):new eV(t);return e.start(),e}function aV(t){const e=new sV(t);return e.start(),e}class bn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(n=>n.eq(e))}append(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.points=this.points.concat(n.filter(i=>!this.includes(i))),this}static isPointContained(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n.eq(r))return e.eq(n);if(n.x===r.x)return e.x===n.x&&(i||e.y>=Math.min(n.y,r.y)&&e.y<=Math.max(n.y,r.y));if(n.y===r.y)return e.y===n.y&&(i||e.x>=Math.min(n.x,r.x)&&e.x<=Math.max(n.x,r.x));{const s=Fb(n,r),a=Fb(n,e).divide(s);return i?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}}static isPointInPolygon(e,n){const r=new _e(e).setX(Math.min(e.x-1,...n.map(s=>s.x)));let i=0;for(let s=0;s<n.length;s++){const a=this.intersectSegmentSegment(n[s],n[(s+1)%n.length],e,r);if(a.includes(e))return!0;i+=+(a.status==="Intersection")}return i%2==1}static intersectLineLine(e,n,r,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const o=n.x-e.x,c=n.y-e.y,u=i.x-r.x,d=i.y-r.y,h=e.x-r.x,p=e.y-r.y,f=u*p-d*h,b=o*p-c*h,g=d*o-u*c;if(g!==0){const w=f/g,x=b/g;return(s||0<=w&&w<=1)&&(a||0<=x&&x<=1)?new bn("Intersection").append(new _e(e.x+w*o,e.y+w*c)):new bn}if(f===0||b===0){const w=s||a||bn.isPointContained(e,r,i)||bn.isPointContained(n,r,i)||bn.isPointContained(r,e,n)||bn.isPointContained(i,e,n);return new bn(w?"Coincident":void 0)}return new bn("Parallel")}static intersectSegmentLine(e,n,r,i){return bn.intersectLineLine(e,n,r,i,!1,!0)}static intersectSegmentSegment(e,n,r,i){return bn.intersectLineLine(e,n,r,i,!1,!1)}static intersectLinePolygon(e,n,r){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new bn,a=r.length;for(let o,c,u,d=0;d<a;d++){if(o=r[d],c=r[(d+1)%a],u=bn.intersectLineLine(e,n,o,c,i,!1),u.status==="Coincident")return u;s.append(...u.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,n,r){return bn.intersectLinePolygon(e,n,r,!1)}static intersectPolygonPolygon(e,n){const r=new bn,i=e.length,s=[];for(let a=0;a<i;a++){const o=e[a],c=e[(a+1)%i],u=bn.intersectSegmentPolygon(o,c,n);u.status==="Coincident"?(s.push(u),r.append(o,c)):r.append(...u.points)}return s.length>0&&s.length===e.length?new bn("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,n,r){const i=n.min(r),s=n.max(r),a=new _e(s.x,i.y),o=new _e(i.x,s.y);return bn.intersectPolygonPolygon(e,[i,a,s,o])}}class oV extends j8{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?ii(e,this.group.calcTransformMatrix()):e}setXY(e,n,r){this.group&&(e=ii(e,Ts(this.group.calcTransformMatrix()))),this.setRelativeXY(e,n,r)}getRelativeXY(){return new _e(this.left,this.top)}setRelativeXY(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,n,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:n,br:r,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,n,r,i];if(this.group){const a=this.group.calcTransformMatrix();return s.map(o=>ii(o,a))}return s}intersectsWithRect(e,n){return bn.intersectPolygonRectangle(this.getCoords(),e,n).status==="Intersection"}intersectsWithObject(e){const n=bn.intersectPolygonPolygon(this.getCoords(),e.getCoords());return n.status==="Intersection"||n.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(n=>e.containsPoint(n))}isContainedWithinRect(e,n){const{left:r,top:i,width:s,height:a}=this.getBoundingRect();return r>=e.x&&r+s<=n.x&&i>=e.y&&i+a<=n.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return bn.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=n.x&&r.x>=e.x&&r.y<=n.y&&r.y>=e.y)||!!this.intersectsWithRect(e,n)||this.containsPoint(e.midPointFrom(n))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return this.intersectsWithRect(e,n)?!0:this.getCoords().every(r=>(r.x>=n.x||r.x<=e.x)&&(r.y>=n.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(n))}getBoundingRect(){return eo(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(ci,e),this._set(rs,e),this.setCoords()}scaleToWidth(e){const n=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/n)}scaleToHeight(e){const n=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/n)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?mo(_8(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Hr.concat()}calcACoords(){const e=wh({angle:this.angle}),{x:n,y:r}=this.getRelativeCenterPoint(),i=Jp(n,r),s=gr(i,e),a=this._getTransformedDimensions(),o=a.x/2,c=a.y/2;return{tl:ii({x:-o,y:-c},s),tr:ii({x:o,y:-c},s),bl:ii({x:-o,y:c},s),br:ii({x:o,y:c},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=[];return!e&&this.group&&(n=this.group.transformMatrixKey(e)),n.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Xn(this.originX),Xn(this.originY)),n}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.calcOwnMatrix();if(e||!this.group)return n;const r=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,a)=>s===r[a])?i.value:(this.group&&(n=gr(this.group.calcTransformMatrix(!1),n)),this.matrixCache={key:r,value:n},n)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),n=this.ownMatrixCache;if(n&&n.key===e)return n.value;const r=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=EH(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new _e(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=fe({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=n.strokeWidth;let i=r,s=0;this.strokeUniform&&(i=0,s=r);const a=n.width+i,o=n.height+i;let c;return c=n.skewX===0&&n.skewY===0?new _e(a*n.scaleX,o*n.scaleY):yS(a,o,Sx(n)),c.scalarAdd(s)}translateToGivenOrigin(e,n,r,i,s){let a=e.x,o=e.y;const c=Xn(i)-Xn(n),u=Xn(s)-Xn(r);if(c||u){const d=this._getTransformedDimensions();a+=c*d.x,o+=u*d.y}return new _e(a,o)}translateToCenterPoint(e,n,r){if(n===Nt&&r===Nt)return e;const i=this.translateToGivenOrigin(e,n,r,Nt,Nt);return this.angle?i.rotate(Bn(this.angle),e):i}translateToOriginPoint(e,n,r){const i=this.translateToGivenOrigin(e,Nt,Nt,n,r);return this.angle?i.rotate(Bn(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?ii(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new _e(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,n){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,n)}setPositionByOrigin(e,n,r){const i=this.translateToCenterPoint(e,n,r),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Vt,si)}}const lV=["type"],cV=["extraParam"];let Ua=class y0 extends oV{static getDefaults(){return y0.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){kl("warn","Setting type has no effect",e)}constructor(e){super(),ue(this,"_cacheContext",null),Object.assign(this,y0.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=po(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const n=e.width,r=e.height,i=It.maxCacheSideLimit,s=It.minCacheSideLimit;if(n<=i&&r<=i&&n*r<=It.perfLimitSizeTotal)return n<s&&(e.width=s),r<s&&(e.height=s),e;const a=n/r,[o,c]=Hf.limitDimsByArea(a),u=th(s,o,i),d=th(s,c,i);return n>u&&(e.zoomX/=n/u,e.width=u,e.capped=!0),r>d&&(e.zoomY/=r/d,e.height=d,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),n=this._getTransformedDimensions({skewX:0,skewY:0}),r=n.x*e.x/this.scaleX,i=n.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:r,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,n=this._cacheContext,{width:r,height:i,zoomX:s,zoomY:a,x:o,y:c}=this._limitCacheSize(this._getCacheCanvasDimensions()),u=r!==e.width||i!==e.height,d=this.zoomX!==s||this.zoomY!==a;if(!e||!n)return!1;if(u||d){r!==e.width||i!==e.height?(e.width=r,e.height=i):(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height));const h=o/2,p=c/2;return this.cacheTranslationX=Math.round(e.width/2-h)+h,this.cacheTranslationY=Math.round(e.height/2-p)+p,n.translate(this.cacheTranslationX,this.cacheTranslationY),n.scale(s,a),this.zoomX=s,this.zoomY=a,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const n=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!n);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new _e(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=mv(this.calcTransformMatrix());return new _e(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const n=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(n*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,n){e!==ci&&e!==rs||(n=this._constrainScale(n)),e===ci&&n<0?(this.flipX=!this.flipX,n*=-1):e==="scaleY"&&n<0?(this.flipY=!this.flipY,n*=-1):e!=="shadow"||!n||n instanceof to||(n=new to(n));const r=this[e]!==n;return this[e]=n,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:s}=this,{width:a,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:s,width:a,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===oi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,n,r){e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,n,r){const i=this.fill,s=this.stroke;n?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=i,this.stroke=s}createClipPathLayer(e,n){const r=is(n),i=r.getContext("2d");if(i.translate(n.cacheTranslationX,n.cacheTranslationY),i.scale(n.zoomX,n.zoomY),e._cacheCanvas=r,n.parentClipPaths.forEach(s=>{s.transform(i)}),n.parentClipPaths.push(e),e.absolutePositioned){const s=Ts(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,n),r}_drawClipPath(e,n,r){if(!n)return;n._transformDone=!0;const i=this.createClipPathLayer(n,r);this.drawClipPathOnCache(e,n,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const n=this._cacheCanvas,r=this._cacheContext;return!(!n||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(n&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const n=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,n){const r=n.stroke;r&&(e.lineWidth=n.strokeWidth,e.lineCap=n.strokeLineCap,e.lineDashOffset=n.strokeDashOffset,e.lineJoin=n.strokeLineJoin,e.miterLimit=n.strokeMiterLimit,Zi(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=n.stroke)}_setFillStyles(e,n){let{fill:r}=n;r&&(Zi(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,n){n&&n.length!==0&&e.setLineDash(n)}_setShadow(e){if(!this.shadow)return;const n=this.shadow,r=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,a]=(r==null?void 0:r.viewportTransform)||Hr,o=s*i,c=a*i,u=n.nonScaling?new _e(1,1):this.getObjectScaling();e.shadowColor=n.color,e.shadowBlur=n.blur*It.browserShadowBlurConstant*(o+c)*(u.x+u.y)/4,e.shadowOffsetX=n.offsetX*o*u.x,e.shadowOffsetY=n.offsetY*c*u.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,n){if(!Zi(n))return{offsetX:0,offsetY:0};const r=n.gradientTransform||n.patternTransform,i=-this.width/2+n.offsetX||0,s=-this.height/2+n.offsetY||0;return n.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===oi?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const n=this.getObjectScaling();e.scale(1/n.x,1/n.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,n){var r;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),a=i.x/this.scaleX/s,o=i.y/this.scaleY/s,c=is({width:Math.ceil(a),height:Math.ceil(o)}),u=c.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(a,0),u.lineTo(a,o),u.lineTo(0,o),u.closePath(),u.translate(a/2,o/2),u.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(u,n),u.fillStyle=n.toLive(e),u.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(r=u.createPattern(c,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new _e(this.left+this.width/2,this.top+this.height/2)}clone(e){const n=this.toObject(e);return this.constructor.fromObject(n)}cloneAsImage(e){const n=this.toCanvasElement(e);return new(Ke.getClass("image"))(n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=P8(this),r=this.group,i=this.shadow,s=Math.abs,a=e.enableRetinaScaling?x8():1,o=(e.multiplier||1)*a,c=e.canvasProvider||(y=>new xS(y,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&RH(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&IH(this,this.getViewportTransform()),this.setCoords();const u=po(),d=this.getBoundingRect(),h=this.shadow,p=new _e;if(h){const y=h.blur,N=h.nonScaling?new _e(1,1):this.getObjectScaling();p.x=2*Math.round(s(h.offsetX)+y)*s(N.x),p.y=2*Math.round(s(h.offsetY)+y)*s(N.y)}const f=d.width+p.x,b=d.height+p.y;u.width=Math.ceil(f),u.height=Math.ceil(b);const g=c(u);e.format==="jpeg"&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new _e(g.width/2,g.height/2),Nt,Nt);const w=this.canvas;g._objects=[this],this.set("canvas",g),this.setCoords();const x=g.toCanvasElement(o||1,e);return this.set("canvas",w),this.shadow=i,r&&(this.group=r),this.set(n),this.setCoords(),g._objects=[],g.destroy(),x}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return N8(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C8(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(this.constructor.type)||n.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:n,originX:r,originY:i}=this;if(n){const{x:s,y:a}=this.getRelativeCenterPoint();this.originX=Nt,this.originY=Nt,this.left=s,this.top=a}if(this.set("angle",e),n){const{x:s,y:a}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,i);this.left=s,this.top=a,this.originX=r,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){pv.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&va().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,n){return Object.entries(e).reduce((r,i)=>{let[s,a]=i;return r[s]=this._animate(s,a,n),r},{})}_animate(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:a,startValue:o,onChange:c,onComplete:u}=r,d=fe(fe({},r),{},{target:this,startValue:o??i.reduce((h,p)=>h[p],this),endValue:n,abort:a==null?void 0:a.bind(this),onChange:(h,p,f)=>{i.reduce((b,g,w)=>(w===i.length-1&&(b[g]=h),b[g]),this),c&&c(h,p,f)},onComplete:(h,p,f)=>{this.setCoords(),u&&u(h,p,f)}});return s?aV(d):W8(d)}isDescendantOf(e){const{parent:n,group:r}=this;return n===e||r===e||!!n&&n.isDescendantOf(e)||!!r&&r!==n&&r.isDescendantOf(e)}getAncestors(){const e=[];let n=this;do n=n.parent,n&&e.push(n);while(n);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const n=this.getAncestors(),r=e.getAncestors();if(n.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let i,s=0;s<n.length;s++){if(i=n[s],i===e)return{fork:[this,...n.slice(0,s)],otherFork:[],common:n.slice(s)};for(let a=0;a<r.length;a++){if(this===r[a])return{fork:[],otherFork:[e,...r.slice(0,a)],common:[this,...n]};if(i===r[a])return{fork:[this,...n.slice(0,s)],otherFork:[e,...r.slice(0,a)],common:n.slice(s)}}}return{fork:[this,...n],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const n=this.findCommonAncestors(e);return n&&!!n.common.length}isInFrontOf(e){if(this===e)return;const n=this.findCommonAncestors(e);if(n.fork.includes(e))return!0;if(n.otherFork.includes(this))return!1;const r=n.common[0]||this.canvas;if(!r)return;const i=n.fork.pop(),s=n.otherFork.pop(),a=r._objects.indexOf(i),o=r._objects.indexOf(s);return a>-1&&a>o}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(y0.customProperties,this.constructor.customProperties||[]);let n;const r=It.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:a,shadow:o,strokeDashArray:c,left:u,top:d,originX:h,originY:p,width:f,height:b,strokeWidth:g,strokeLineCap:w,strokeDashOffset:x,strokeLineJoin:y,strokeUniform:N,strokeMiterLimit:A,scaleX:k,scaleY:E,angle:R,flipX:O,flipY:H,opacity:K,visible:D,backgroundColor:T,fillRule:X,paintFirst:B,globalCompositeOperation:ee,skewX:G,skewY:te}=this;i&&!i.excludeFromExport&&(n=i.toObject(e.concat("inverted","absolutePositioned")));const V=de=>ln(de,r),re=fe(fe({},Sh(this,e)),{},{type:this.constructor.type,version:Mb,originX:h,originY:p,left:V(u),top:V(d),width:V(f),height:V(b),fill:Uj(s)?s.toObject():s,stroke:Uj(a)?a.toObject():a,strokeWidth:V(g),strokeDashArray:c&&c.concat(),strokeLineCap:w,strokeDashOffset:x,strokeLineJoin:y,strokeUniform:N,strokeMiterLimit:V(A),scaleX:V(k),scaleY:V(E),angle:V(R),flipX:O,flipY:H,opacity:V(K),shadow:o&&o.toObject(),visible:D,backgroundColor:T,fillRule:X,paintFirst:B,globalCompositeOperation:ee,skewX:V(G),skewY:V(te)},n?{clipPath:n}:null);return this.includeDefaultValues?re:this._removeDefaultValues(re)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const n=this.constructor.getDefaults(),r=Object.keys(n).length>0?n:Object.getPrototypeOf(this);return vS(e,(i,s)=>{if(s===Vt||s===si||s==="type")return!0;const a=r[s];return i!==a&&!(Array.isArray(i)&&Array.isArray(a)&&i.length===0&&a.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let n=vn(e,lV),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=r,s=vn(r,cV);return jx(n,s).then(a=>i?(delete a[i],new this(n[i],a)):new this(a))}static fromObject(e,n){return this._fromObject(e,n)}};ue(Ua,"stateProperties",$H),ue(Ua,"cacheProperties",xo),ue(Ua,"ownDefaults",KH),ue(Ua,"type","FabricObject"),ue(Ua,"colorProperties",[Jn,oi,"backgroundColor"]),ue(Ua,"customProperties",[]),Ke.setClass(Ua),Ke.setClass(Ua,"object");const jh=(t,e,n)=>(r,i,s,a)=>{const o=e(r,i,s,a);return o&&R8(t,fe(fe({},I8(r,i,s,a)),n)),o};function Nh(t){return(e,n,r,i)=>{const{target:s,originX:a,originY:o}=n,c=s.getRelativeCenterPoint(),u=s.translateToOriginPoint(c,a,o),d=t(e,n,r,i);return s.setPositionByOrigin(u,n.originX,n.originY),d}}const iN=jh(vp,Nh((t,e,n,r)=>{const i=bS(e,e.originX,e.originY,n,r);if(Xn(e.originX)===Xn(Nt)||Xn(e.originX)===Xn(Rn)&&i.x<0||Xn(e.originX)===Xn(Vt)&&i.x>0){const{target:s}=e,a=s.strokeWidth/(s.strokeUniform?s.scaleX:1),o=F8(e)?2:1,c=s.width,u=Math.abs(i.x*o/s.scaleX)-a;return s.set("width",Math.max(u,1)),c!==s.width}return!1}));function uV(t,e,n,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,a=this.sizeY||r.cornerSize||i.cornerSize,o=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,c=o?oi:Jn,u=!o&&(r.cornerStrokeColor||i.cornerStrokeColor);let d,h=e,p=n;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",s>a?(d=s,t.scale(1,a/s),p=n*s/a):a>s?(d=a,t.scale(s/a,1),h=e*a/s):d=s,t.beginPath(),t.arc(h,p,d/2,0,dv,!1),t[c](),u&&t.stroke(),t.restore()}function dV(t,e,n,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,a=this.sizeY||r.cornerSize||i.cornerSize,o=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,c=o?oi:Jn,u=!o&&(r.cornerStrokeColor||i.cornerStrokeColor),d=s/2,h=a/2;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,n);const p=i.getTotalAngle();t.rotate(Bn(p)),t["".concat(c,"Rect")](-d,-h,s,a),u&&t.strokeRect(-d,-h,s,a),t.restore()}class ys{constructor(e){ue(this,"visible",!0),ue(this,"actionName",wx),ue(this,"angle",0),ue(this,"x",0),ue(this,"y",0),ue(this,"offsetX",0),ue(this,"offsetY",0),ue(this,"sizeX",0),ue(this,"sizeY",0),ue(this,"touchSizeX",0),ue(this,"touchSizeY",0),ue(this,"cursorStyle","crosshair"),ue(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,n,r,i){var s;let{tl:a,tr:o,br:c,bl:u}=i;return((s=n.canvas)===null||s===void 0?void 0:s.getActiveObject())===n&&n.isControlVisible(e)&&bn.isPointInPolygon(r,[a,o,c,u])}getActionHandler(e,n,r){return this.actionHandler}getMouseDownHandler(e,n,r){return this.mouseDownHandler}getMouseUpHandler(e,n,r){return this.mouseUpHandler}cursorStyleHandler(e,n,r){return n.cursorStyle}getActionName(e,n,r){return n.actionName}getVisibility(e,n){var r,i;return(r=(i=e._controlsVisibility)===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:this.visible}setVisibility(e,n,r){this.visible=e}positionHandler(e,n,r,i){return new _e(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(n)}calcCornerCoords(e,n,r,i,s,a){const o=mS([Jp(r,i),wh({angle:e}),gS((s?this.touchSizeX:this.sizeX)||n,(s?this.touchSizeY:this.sizeY)||n)]);return{tl:new _e(-.5,-.5).transform(o),tr:new _e(.5,-.5).transform(o),br:new _e(.5,.5).transform(o),bl:new _e(-.5,.5).transform(o)}}render(e,n,r,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?uV.call(this,e,n,r,i,s):dV.call(this,e,n,r,i,s)}}const hV=(t,e,n)=>n.lockRotation?vv:e.cursorStyle,fV=jh(b8,Nh((t,e,n,r)=>{let{target:i,ex:s,ey:a,theta:o,originX:c,originY:u}=e;const d=i.translateToOriginPoint(i.getRelativeCenterPoint(),c,u);if(Os(i,"lockRotation"))return!1;const h=Math.atan2(a-d.y,s-d.x),p=Math.atan2(r-d.y,n-d.x);let f=mo(p-h+o);if(i.snapAngle&&i.snapAngle>0){const g=i.snapAngle,w=i.snapThreshold||g,x=Math.ceil(f/g)*g,y=Math.floor(f/g)*g;Math.abs(f-y)<w?f=y:Math.abs(f-x)<w&&(f=x)}f<0&&(f=360+f),f%=360;const b=i.angle!==f;return i.angle=f,b}));function $8(t,e){const n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function K8(t,e,n){const r=Os(t,"lockScalingX"),i=Os(t,"lockScalingY");if(r&&i||!e&&(r||i)&&n||r&&e==="x"||i&&e==="y")return!0;const{width:s,height:a,strokeWidth:o}=t;return s===0&&o===0&&e!=="y"||a===0&&o===0&&e!=="x"}const pV=["e","se","s","sw","w","nw","n","ne","e"],_f=(t,e,n)=>{const r=$8(t,n);if(K8(n,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return vv;const i=z8(n,e);return"".concat(pV[i],"-resize")};function jS(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,a=i.by,o=$8(t,s);let c,u,d,h,p,f;if(K8(s,a,o))return!1;if(e.gestureScale)u=e.scaleX*e.gestureScale,d=e.scaleY*e.gestureScale;else{if(c=bS(e,e.originX,e.originY,n,r),p=a!=="y"?Math.sign(c.x||e.signX||1):1,f=a!=="x"?Math.sign(c.y||e.signY||1):1,e.signX||(e.signX=p),e.signY||(e.signY=f),Os(s,"lockScalingFlip")&&(e.signX!==p||e.signY!==f))return!1;if(h=s._getTransformedDimensions(),o&&!a){const w=Math.abs(c.x)+Math.abs(c.y),{original:x}=e,y=w/(Math.abs(h.x*x.scaleX/s.scaleX)+Math.abs(h.y*x.scaleY/s.scaleY));u=x.scaleX*y,d=x.scaleY*y}else u=Math.abs(c.x*s.scaleX/h.x),d=Math.abs(c.y*s.scaleY/h.y);F8(e)&&(u*=2,d*=2),e.signX!==p&&a!=="y"&&(e.originX=Yj(e.originX),u*=-1,e.signX=p),e.signY!==f&&a!=="x"&&(e.originY=Yj(e.originY),d*=-1,e.signY=f)}const b=s.scaleX,g=s.scaleY;return a?(a==="x"&&s.set(ci,u),a==="y"&&s.set(rs,d)):(!Os(s,"lockScalingX")&&s.set(ci,u),!Os(s,"lockScalingY")&&s.set(rs,d)),b!==s.scaleX||g!==s.scaleY}const gg=jh(bx,Nh((t,e,n,r)=>jS(t,e,n,r))),mV=jh(bx,Nh((t,e,n,r)=>jS(t,e,n,r,{by:"x"}))),gV=jh(bx,Nh((t,e,n,r)=>jS(t,e,n,r,{by:"y"}))),vV=["target","ex","ey","skewingSide"],My={x:{counterAxis:"y",scale:ci,skew:yh,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:rs,skew:bh,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},xV=["ns","nesw","ew","nwse"],yV=(t,e,n)=>{if(e.x!==0&&Os(n,"lockSkewingY")||e.y!==0&&Os(n,"lockSkewingX"))return vv;const r=z8(n,e)%4;return"".concat(xV[r],"-resize")};function Q8(t,e,n,r,i){const{target:s}=n,{counterAxis:a,origin:o,lockSkewing:c,skew:u,flip:d}=My[t];if(Os(s,c))return!1;const{origin:h,flip:p}=My[a],f=Xn(n[h])*(s[p]?-1:1),b=-Math.sign(f)*(s[d]?-1:1),g=.5*-((s[u]===0&&bS(n,Nt,Nt,r,i)[t]>0||s[u]>0?1:-1)*b)+.5;return jh(w8,Nh((x,y,N,A)=>function(k,E,R){let{target:O,ex:H,ey:K,skewingSide:D}=E,T=vn(E,vV);const{skew:X}=My[k],B=R.subtract(new _e(H,K)).divide(new _e(O.scaleX,O.scaleY))[k],ee=O[X],G=T[X],te=Math.tan(Bn(G)),V=k==="y"?O._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:O._getTransformedDimensions({scaleX:1,scaleY:1}).y,re=2*B*D/Math.max(V,1)+te,de=mo(Math.atan(re));O.set(X,de);const Oe=ee!==O[X];if(Oe&&k==="y"){const{skewX:F,scaleX:Y}=O,W=O._getTransformedDimensions({skewY:ee}),Z=O._getTransformedDimensions(),se=F!==0?W.x/Z.x:1;se!==1&&O.set(ci,se*Y)}return Oe}(t,y,new _e(N,A))))(e,fe(fe({},n),{},{[o]:g,skewingSide:b}),r,i)}const bV=(t,e,n,r)=>Q8("x",t,e,n,r),wV=(t,e,n,r)=>Q8("y",t,e,n,r);function _x(t,e){return t[e.canvas.altActionKey]}const vg=(t,e,n)=>{const r=_x(t,n);return e.x===0?r?yh:rs:e.y===0?r?bh:ci:""},rd=(t,e,n)=>_x(t,n)?yV(0,e,n):_f(t,e,n),sN=(t,e,n,r)=>_x(t,e.target)?wV(t,e,n,r):mV(t,e,n,r),aN=(t,e,n,r)=>_x(t,e.target)?bV(t,e,n,r):gV(t,e,n,r),Z8=()=>({ml:new ys({x:-.5,y:0,cursorStyleHandler:rd,actionHandler:sN,getActionName:vg}),mr:new ys({x:.5,y:0,cursorStyleHandler:rd,actionHandler:sN,getActionName:vg}),mb:new ys({x:0,y:.5,cursorStyleHandler:rd,actionHandler:aN,getActionName:vg}),mt:new ys({x:0,y:-.5,cursorStyleHandler:rd,actionHandler:aN,getActionName:vg}),tl:new ys({x:-.5,y:-.5,cursorStyleHandler:_f,actionHandler:gg}),tr:new ys({x:.5,y:-.5,cursorStyleHandler:_f,actionHandler:gg}),bl:new ys({x:-.5,y:.5,cursorStyleHandler:_f,actionHandler:gg}),br:new ys({x:.5,y:.5,cursorStyleHandler:_f,actionHandler:gg}),mtr:new ys({x:0,y:-.5,actionHandler:fV,cursorStyleHandler:hV,offsetY:-40,withConnection:!0,actionName:fS})}),SV=()=>({mr:new ys({x:.5,y:0,actionHandler:iN,cursorStyleHandler:rd,actionName:vp}),ml:new ys({x:-.5,y:0,actionHandler:iN,cursorStyleHandler:rd,actionName:vp})}),jV=()=>fe(fe({},Z8()),SV());class wp extends Ua{static getDefaults(){return fe(fe({},super.getDefaults()),wp.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),wp.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Z8()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const n=e._currentTransform,r=n.target,i=n.action;if(this===r&&i&&i.startsWith(wx))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let i=r.length-1;i>=0;i--){const[s,a]=r[i],o=this.controls[s];if(o.shouldActivate(s,this,e,n?a.touchCorner:a.corner))return this.__corner=s,{key:s,control:o,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),n=this.getCenterPoint(),r=Jp(n.x,n.y),i=wh({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=gr(r,i),a=gr(e,s),o=gr(a,[1/e[0],0,0,1/e[3],0,0]),c=this.group?mv(this.calcTransformMatrix()):void 0;c&&(c.scaleX=Math.abs(c.scaleX),c.scaleY=Math.abs(c.scaleY));const u=this._calculateCurrentDimensions(c),d={};return this.forEachControl((h,p)=>{const f=h.positionHandler(u,o,this,h);d[p]=Object.assign(f,this._calcCornerCoords(h,f))}),d}_calcCornerCoords(e,n){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,n.x,n.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,n.x,n.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const n in this.controls)e(this.controls[n],n,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const n=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(Bn(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,n){e.strokeRect(-n.x/2,-n.y/2,n.x,n.y)}_drawBorders(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=fe({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,n),i.hasControls&&this.drawControlsConnectingLines(e,n),e.restore()}_renderControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:i}=this,s=fe({hasBorders:r,hasControls:i},n),a=this.getViewportTransform(),o=s.hasBorders,c=s.hasControls,u=gr(a,this.calcTransformMatrix()),d=mv(u);e.save(),e.translate(d.translateX,d.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(d.angle-=180),e.rotate(Bn(this.group?d.angle:this.angle)),o&&this.drawBorders(e,d,n),c&&this.drawControls(e,n),e.restore()}drawBorders(e,n,r){let i;if(r&&r.forActiveSelection||this.group){const s=yS(this.width,this.height,Sx(n)),a=this.isStrokeAccountedForInDimensions()?pS:(this.strokeUniform?new _e().scalarAdd(this.canvas?this.canvas.getZoom():1):new _e(n.scaleX,n.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,r)}drawControlsConnectingLines(e,n){let r=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(r=!0,e.moveTo(i.x*n.x,i.y*n.y),e.lineTo(i.x*n.x+i.offsetX,i.y*n.y+i.offsetY))}),r&&e.stroke()}drawControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:a}=this,o=fe({cornerStrokeColor:i,cornerDashArray:s,cornerColor:a},n);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=o.cornerColor,this.transparentCorners||(e.strokeStyle=o.cornerStrokeColor),this._setLineDash(e,o.cornerDashArray),this.forEachControl((c,u)=>{if(c.getVisibility(this,u)){const d=this.oCoords[u];c.render(e,d.x,d.y,o,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,n){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=n}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(n=>{let[r,i]=n;return this.setControlVisible(r,i)})}clearContextTop(e){if(!this.canvas)return;const n=this.canvas.contextTop;if(!n)return;const r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(n);const i=this.width+4,s=this.height+4;return n.clearRect(-i/2,-s/2,i,s),e||n.restore(),n}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function J8(t,e){return e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})}),t}ue(wp,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Or extends wp{}J8(Or,[B8]),Ke.setClass(Or),Ke.setClass(Or,"object");const NV=(t,e,n,r)=>{const i=2*(r=Math.round(r))+1,{data:s}=t.getImageData(e-r,n-r,i,i);for(let a=3;a<s.length;a+=4)if(s[a]>0)return!1;return!0};class eO{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new _e(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new _e(1/this.options.scaleX,1/this.options.scaleY):new _e(1,1)}createSideVector(e,n){const r=Fb(e,n);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,n,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,n,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const n=new _e(e);return n.y+=n.x*Math.tan(Bn(this.options.skewY)),n.x+=n.y*Math.tan(Bn(this.options.skewX)),n}scaleUnitVector(e,n){return e.multiply(this.strokeUniformScalar).scalarMultiply(n)}}const CV=new _e;class wd extends eO{static getOrthogonalRotationFactor(e,n){const r=n?zb(e,n):XH(e);return Math.abs(r)<Zp?-1:1}constructor(e,n,r,i){super(i),ue(this,"AB",void 0),ue(this,"AC",void 0),ue(this,"alpha",void 0),ue(this,"bisector",void 0),this.A=new _e(e),this.B=new _e(n),this.C=new _e(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=zb(this.AB,this.AC),this.bisector=wS(Y8(this.AB.eq(CV)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n),s=X8(i),a=wd.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,r*a)}projectBevel(){const e=[];return(this.alpha%dv==0?[this.B]:[this.B,this.C]).forEach(n=>{e.push(this.projectOrthogonally(this.A,n)),e.push(this.projectOrthogonally(this.A,n,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],n=Math.abs(this.alpha),r=1/Math.sin(n/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),s=this.options.strokeUniform?Ib(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Ib(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,n){const r=[],i=new _e(wd.getOrthogonalRotationFactor(this.bisector),wd.getOrthogonalRotationFactor(new _e(this.bisector.y,this.bisector.x)));return[new _e(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new _e(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{tN(s,e,n)&&r.push(this.A.add(s))}),r}projectRoundWithSkew(e,n){const r=[],{skewX:i,skewY:s,scaleX:a,scaleY:o,strokeUniform:c}=this.options,u=new _e(Math.tan(Bn(i)),Math.tan(Bn(s))),d=this.strokeProjectionMagnitude,h=c?d/o/Math.sqrt(1/o**2+1/a**2*u.y**2):d/Math.sqrt(1+u.y**2),p=new _e(Math.sqrt(Math.max(d**2-h**2,0)),h),f=c?d/Math.sqrt(1+u.x**2*(1/o)**2/(1/a+1/a*u.x*u.y)**2):d/Math.sqrt(1+u.x**2/(1+u.x*u.y)**2),b=new _e(f,Math.sqrt(Math.max(d**2-f**2,0)));return[b,b.scalarMultiply(-1),p,p.scalarMultiply(-1)].map(g=>this.applySkew(c?g.multiply(this.strokeUniformScalar):g)).forEach(g=>{tN(g,e,n)&&r.push(this.applySkew(this.A).add(g))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const n=this.alpha%dv==0,r=this.applySkew(this.A),i=e[n?0:2].subtract(r),s=e[n?1:0].subtract(r),a=n?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Yf(i,a)>0,c=o?i:s,u=o?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(c,u)):e.push(...this.projectRoundNoSkew(c,u)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class oN extends eO{constructor(e,n,r){super(r),this.A=new _e(e),this.T=new _e(n)}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n);return this.scaleUnitVector(X8(i),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const n=new _e(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(n)),this.applySkew(this.A.subtract(n)))}else e.push(...new wd(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const n=new _e(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(n),this.A.subtract(n))}else{const n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(wS(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(r);e.push(i.add(n),i.subtract(n))}return e.map(n=>this.applySkew(n))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const _V=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(t.length===0)return r;const i=t.reduce((s,a)=>(s[s.length-1].eq(a)||s.push(new _e(a)),s),[new _e(t[0])]);if(i.length===1)n=!0;else if(!n){const s=i[0],a=((o,c)=>{for(let u=o.length-1;u>=0;u--)if(c(o[u],u,o))return u;return-1})(i,o=>!o.eq(s));i.splice(a+1)}return i.forEach((s,a,o)=>{let c,u;a===0?(u=o[1],c=n?s:o[o.length-1]):a===o.length-1?(c=o[a-1],u=n?s:o[0]):(c=o[a-1],u=o[a+1]),n&&o.length===1?r.push(...new oN(s,s,e).project()):!n||a!==0&&a!==o.length-1?r.push(...new wd(s,c,u,e).project()):r.push(...new oN(s,a===0?u:c,e).project())}),r},NS=t=>{const e={};return Object.keys(t).forEach(n=>{e[n]={},Object.keys(t[n]).forEach(r=>{e[n][r]=fe({},t[n][r])})}),e},AV=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let gf;const CS=t=>{if(gf||gf||(gf="Intl"in yx()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),gf){const e=gf.segment(t);return Array.from(e).map(n=>{let{segment:r}=n;return r})}return TV(t)},TV=t=>{const e=[];for(let n,r=0;r<t.length;r++)(n=kV(t,r))!==!1&&e.push(n);return e},kV=(t,e)=>{const n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},_S=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||n&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},EV=(t,e)=>{const n=e.split(`
`),r=[];let i=-1,s={};t=NS(t);for(let a=0;a<n.length;a++){const o=CS(n[a]);if(t[a])for(let c=0;c<o.length;c++){i++;const u=t[a][c];u&&Object.keys(u).length>0&&(_S(s,u,!0)?r.push({start:i,end:i+1,style:u}):r[r.length-1].end++),s=u||{}}else i+=o.length,s={}}return r},OV=(t,e)=>{if(!Array.isArray(t))return NS(t);const n=e.split(hS),r={};let i=-1,s=0;for(let a=0;a<n.length;a++){const o=CS(n[a]);for(let c=0;c<o.length;c++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(r[a]=r[a]||{},r[a][c]=fe({},t[s].style),i===t[s].end-1&&s++)}return r},zl=["display","transform",Jn,"fill-opacity","fill-rule","opacity",oi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function lN(t,e){const n=t.nodeName,r=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+n,"i"),e=e.replace(a,""),i&&e.length&&(a=new RegExp("#"+i+s,"i"),e=e.replace(a,"")),r&&e.length){const o=r.split(" ");for(let c=o.length;c--;)a=new RegExp("\\."+o[c]+s,"i"),e=e.replace(a,"")}return e.length===0}function LV(t,e){let n=!0;const r=lN(t,e.pop());return r&&e.length&&(n=function(i,s){let a,o=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)o&&(a=s.pop()),o=lN(i=i.parentElement,a);return s.length===0}(t,e)),r&&n&&e.length===0}const MV=t=>{var e;return(e=GH[t])!==null&&e!==void 0?e:t},DV=new RegExp("(".concat(ks,")"),"gi"),PV=t=>t.replace(DV," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var cN,uN,dN,hN,fN,pN,mN;const Br="(".concat(ks,")"),RV=String.raw(cN||(cN=wa(["(skewX)(",")"],["(skewX)\\(","\\)"])),Br),FV=String.raw(uN||(uN=wa(["(skewY)(",")"],["(skewY)\\(","\\)"])),Br),IV=String.raw(dN||(dN=wa(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Br,Br,Br),zV=String.raw(hN||(hN=wa(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Br,Br),BV=String.raw(fN||(fN=wa(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Br,Br),qV=String.raw(pN||(pN=wa(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Br,Br,Br,Br,Br,Br),AS="(?:".concat(qV,"|").concat(BV,"|").concat(IV,"|").concat(zV,"|").concat(RV,"|").concat(FV,")"),UV="(?:".concat(AS,"*)"),HV=String.raw(mN||(mN=wa(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),UV),VV=new RegExp(HV),GV=new RegExp(AS),YV=new RegExp(AS,"g");function Bb(t){const e=[];if(!(t=PV(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!VV.test(t))return[...Hr];for(const n of t.matchAll(YV)){const r=GV.exec(n[0]);if(!r)continue;let i=Hr;const s=r.filter(b=>!!b),[,a,...o]=s,[c,u,d,h,p,f]=o.map(b=>parseFloat(b));switch(a){case"translate":i=Jp(c,u);break;case fS:i=wh({angle:c},{x:u,y:d});break;case wx:i=gS(c,u);break;case yh:i=T8(c);break;case bh:i=k8(c);break;case"matrix":i=[c,u,d,h,p,f]}e.push(i)}return mS(e)}function XV(t,e,n,r){const i=Array.isArray(e);let s,a=e;if(t!==Jn&&t!==oi||e!==ai){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")a=e===ai?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")a=n&&n.transformMatrix?gr(n.transformMatrix,Bb(e)):Bb(e);else if(t==="visible")a=e!==ai&&e!=="hidden",n&&n.visible===!1&&(a=!1);else if(t==="opacity")a=parseFloat(e),n&&n.opacity!==void 0&&(a*=n.opacity);else if(t==="textAnchor")a=e==="start"?Vt:e==="end"?Rn:Nt;else if(t==="charSpacing"||t===Bc)s=bd(e,r)/r*1e3;else if(t==="paintFirst"){const o=e.indexOf(Jn),c=e.indexOf(oi);a=Jn,(o>-1&&c>-1&&c<o||o===-1&&c>-1)&&(a=oi)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(bd):bd(e,r)}}else a="";return!i&&isNaN(s)?a:s}function WV(t,e){const n=t.match(VH);if(!n)return;const r=n[1],i=n[3],s=n[4],a=n[5],o=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=bd(s)),o&&(e.fontFamily=o),a&&(e.lineHeight=a==="normal"?1:a)}function $V(t,e){t.replace(/;\s*$/,"").split(";").forEach(n=>{if(!n)return;const[r,i]=n.split(":");e[r.trim().toLowerCase()]=i.trim()})}function KV(t){const e={},n=t.getAttribute("style");return n&&(typeof n=="string"?$V(n,e):function(r,i){Object.entries(r).forEach(s=>{let[a,o]=s;o!==void 0&&(i[a.toLowerCase()]=o)})}(n,e)),e}const QV={stroke:"strokeOpacity",fill:"fillOpacity"};function yo(t,e,n){if(!t)return{};let r,i={},s=dS;t.parentNode&&eN.test(t.parentNode.nodeName)&&(i=yo(t.parentElement,e,n),i.fontSize&&(r=s=bd(i.fontSize)));const a=fe(fe(fe({},e.reduce((u,d)=>{const h=t.getAttribute(d);return h&&(u[d]=h),u},{})),function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};for(const p in d)LV(u,p.split(" "))&&(h=fe(fe({},h),d[p]));return h}(t,n)),KV(t));a[Oy]&&t.setAttribute(Oy,a[Oy]),a[Ey]&&(r=bd(a[Ey],s),a[Ey]="".concat(r));const o={};for(const u in a){const d=MV(u),h=XV(d,a[u],i,r);o[d]=h}o&&o.font&&WV(o.font,o);const c=fe(fe({},i),o);return eN.test(t.nodeName)?c:function(u){const d=Or.getDefaults();return Object.entries(QV).forEach(h=>{let[p,f]=h;if(u[f]===void 0||u[p]==="")return;if(u[p]===void 0){if(!d[p])return;u[p]=d[p]}if(u[p].indexOf("url(")===0)return;const b=new Oi(u[p]);u[p]=b.setAlpha(ln(b.getAlpha()*u[f],2)).toRgba()}),u}(c)}const ZV=["left","top","width","height","visible"],tO=["rx","ry"];class Cs extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),Cs.ownDefaults)}constructor(e){super(),Object.assign(this,Cs.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:n}=this;e&&!n?this.ry=e:n&&!e&&(this.rx=n)}_render(e){const{width:n,height:r}=this,i=-n/2,s=-r/2,a=this.rx?Math.min(this.rx,n/2):0,o=this.ry?Math.min(this.ry,r/2):0,c=a!==0||o!==0;e.beginPath(),e.moveTo(i+a,s),e.lineTo(i+n-a,s),c&&e.bezierCurveTo(i+n-Io*a,s,i+n,s+Io*o,i+n,s+o),e.lineTo(i+n,s+r-o),c&&e.bezierCurveTo(i+n,s+r-Io*o,i+n-Io*a,s+r,i+n-a,s+r),e.lineTo(i+a,s+r),c&&e.bezierCurveTo(i+Io*a,s+r,i,s+r-Io*o,i,s+r-o),e.lineTo(i,s+o),c&&e.bezierCurveTo(i,s+Io*o,i+Io*a,s,i+a,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...tO,...e])}_toSVG(){const{width:e,height:n,rx:r,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-n/2,'" rx="').concat(r,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(n,`" />
`)]}static async fromElement(e,n,r){const i=yo(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:a=0,width:o=0,height:c=0,visible:u=!0}=i,d=vn(i,ZV);return new this(fe(fe(fe({},n),d),{},{left:s,top:a,width:o,height:c,visible:!!(u&&o&&c)}))}}ue(Cs,"type","Rect"),ue(Cs,"cacheProperties",[...xo,...tO]),ue(Cs,"ownDefaults",{rx:0,ry:0}),ue(Cs,"ATTRIBUTE_NAMES",[...zl,"x","y","rx","ry","width","height"]),Ke.setClass(Cs),Ke.setSVGClass(Cs);const Qa="initialization",yv="added",TS="removed",bv="imperative",nO=(t,e)=>{const{strokeUniform:n,strokeWidth:r,width:i,height:s,group:a}=e,o=a&&a!==t?Nx(a.calcTransformMatrix(),t.calcTransformMatrix()):null,c=o?e.getRelativeCenterPoint().transform(o):e.getRelativeCenterPoint(),u=!e.isStrokeAccountedForInDimensions(),d=n&&u?FH(new _e(r,r),void 0,t.calcTransformMatrix()):pS,h=!n&&u?r:0,p=yS(i+h,s+h,mS([o,e.calcOwnMatrix()],!0)).add(d).scalarDivide(2);return[c.subtract(p),c.add(p)]};class Ax{calcLayoutResult(e,n){if(this.shouldPerformLayout(e))return this.calcBoundingBox(n,e)}shouldPerformLayout(e){let{type:n,prevStrategy:r,strategy:i}=e;return n===Qa||n===bv||!!r&&i!==r}shouldLayoutClipPath(e){let{type:n,target:{clipPath:r}}=e;return n!==Qa&&r&&!r.absolutePositioned}getInitialSize(e,n){return n.size}calcBoundingBox(e,n){const{type:r,target:i}=n;if(r===bv&&n.overrides)return n.overrides;if(e.length===0)return;const{left:s,top:a,width:o,height:c}=eo(e.map(h=>nO(i,h)).reduce((h,p)=>h.concat(p),[])),u=new _e(o,c),d=new _e(s,a).add(u.scalarDivide(2));if(r===Qa){const h=this.getInitialSize(n,{size:u,center:d});return{center:d,relativeCorrection:new _e(0,0),size:h}}return{center:d.transform(i.calcOwnMatrix()),size:u}}}ue(Ax,"type","strategy");class qb extends Ax{shouldPerformLayout(e){return!0}}ue(qb,"type","fit-content"),Ke.setClass(qb);const JV=["strategy"],eG=["target","strategy","bubbles","prevStrategy"],rO="layoutManager";class Sp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new qb;ue(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const n=fe(fe({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(n);const r=this.getLayoutResult(n);r&&this.commitLayout(n,r),this.onAfterLayout(n,r),this._prevLayoutStrategy=n.strategy}attachHandlers(e,n){const{target:r}=n;return[fv,y8,vp,b8,bx,w8,hv,jH,NH].map(i=>e.on(i,s=>this.performLayout(i===fv?{type:"object_modified",trigger:i,e:s,target:r}:{type:"object_modifying",trigger:i,e:s,target:r})))}subscribe(e,n){this.unsubscribe(e,n);const r=this.attachHandlers(e,n);this._subscriptions.set(e,r)}unsubscribe(e,n){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(n=>this.unsubscribe(n,e))}subscribeTargets(e){e.targets.forEach(n=>this.subscribe(n,e))}onBeforeLayout(e){const{target:n,type:r}=e,{canvas:i}=n;if(r===Qa||r===yv?this.subscribeTargets(e):r===TS&&this.unsubscribeTargets(e),n.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:n,context:e}),r===bv&&e.deep){const s=vn(e,JV);n.forEachObject(a=>a.layoutManager&&a.layoutManager.performLayout(fe(fe({},s),{},{bubbles:!1,target:a})))}}getLayoutResult(e){const{target:n,strategy:r,type:i}=e,s=r.calcLayoutResult(e,n.getObjects());if(!s)return;const a=i===Qa?new _e:n.getRelativeCenterPoint(),{center:o,correction:c=new _e,relativeCorrection:u=new _e}=s,d=a.subtract(o).add(c).transform(i===Qa?Hr:Ts(n.calcOwnMatrix()),!0).add(u);return{result:s,prevCenter:a,nextCenter:o,offset:d}}commitLayout(e,n){const{target:r}=e,{result:{size:i},nextCenter:s}=n;var a,o;r.set({width:i.x,height:i.y}),this.layoutObjects(e,n),e.type===Qa?r.set({left:(a=e.x)!==null&&a!==void 0?a:s.x+i.x*Xn(r.originX),top:(o=e.y)!==null&&o!==void 0?o:s.y+i.y*Xn(r.originY)}):(r.setPositionByOrigin(s,Nt,Nt),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,n){const{target:r}=e;r.forEachObject(i=>{i.group===r&&this.layoutObject(e,n,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,n,r.clipPath)}layoutObject(e,n,r){let{offset:i}=n;r.set({left:r.left+i.x,top:r.top+i.y})}onAfterLayout(e,n){const{target:r,strategy:i,bubbles:s,prevStrategy:a}=e,o=vn(e,eG),{canvas:c}=r;r.fire("layout:after",{context:e,result:n}),c&&c.fire("object:layout:after",{context:e,result:n,target:r});const u=r.parent;s&&u!=null&&u.layoutManager&&((o.path||(o.path=[])).push(r),u.layoutManager.performLayout(fe(fe({},o),{},{target:u}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(n=>n.forEach(r=>r())),e.clear()}toObject(){return{type:rO,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Ke.setClass(Sp,rO);const tG=["type","objects","layoutManager"];class nG extends Sp{performLayout(){}}class Tc extends S8(Or){static getDefaults(){return fe(fe({},super.getDefaults()),Tc.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ue(this,"_activeObjects",[]),ue(this,"__objectSelectionTracker",void 0),ue(this,"__objectSelectionDisposer",void 0),Object.assign(this,Tc.ownDefaults),this.setOptions(n),this.groupInit(e,n)}groupInit(e,n){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(r=n.layoutManager)!==null&&r!==void 0?r:new Sp,this.layoutManager.performLayout({type:Qa,target:this,targets:[...e],x:n.left,y:n.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(kl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(kl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((n,r,i)=>this.canEnterGroup(n)&&i.indexOf(n)===r)}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(n),s=super.add(...i);return this._onAfterObjectsChange(yv,i),s}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(r),a=super.insertAt(e,...s);return this._onAfterObjectsChange(yv,s),a}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(TS,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,n){this.exitGroup(e,n),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,n){this.layoutManager.performLayout({type:e,targets:n,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,n){const r=this[e];return super._set(e,n),e==="canvas"&&r!==n&&(this._objects||[]).forEach(i=>{i._set(e,n)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,n){let{target:r}=n;const i=this._activeObjects;if(e)i.push(r),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(r);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,n){e&&this._watchObject(!1,n),e?(n.on("selected",this.__objectSelectionTracker),n.on("deselected",this.__objectSelectionDisposer)):(n.off("selected",this.__objectSelectionTracker),n.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,n){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,n)}_enterGroup(e,n){n&&gv(e,gr(Ts(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,n){this._exitGroup(e,n),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,n){e._set("group",void 0),n||(gv(e,gr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=Or.prototype.shouldCache.call(this);if(e){for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,n,r){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const a=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&a.group!==this?(e.save(),e.transform(...Ts(this.calcTransformMatrix())),a.render(e),e.restore()):a.group===this&&a.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(fe({target:this,type:bv},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,n){const r=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=r;const a=i[e||"toObject"](n);return i.includeDefaultValues=s,a})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.layoutManager.toObject();return fe(fe(fe({},super.toObject(["subTargetCheck","interactive",...e])),n.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:n}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const n=Cs.prototype._toSVG.call(this),r=n.indexOf("COMMON_PARTS");n[r]='for="group" ';const i=n.join("");return e?e(i):i}_toSVG(e){const n=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&n.push("		",r);for(let i=0;i<this._objects.length;i++)n.push("		",this._objects[i].toSVG(e));return n.push(`</g>
`),n}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",n=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),n].join("")}toClipPathSVG(e){const n=[],r=this._createSVGBgRect(e);r&&n.push("	",r);for(let i=0;i<this._objects.length;i++)n.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(n,{reviver:e})}static fromObject(e,n){let{type:r,objects:i=[],layoutManager:s}=e,a=vn(e,tG);return Promise.all([xp(i,n),jx(a,n)]).then(o=>{let[c,u]=o;const d=new this(c,fe(fe(fe({},a),u),{},{layoutManager:new nG}));if(s){const h=Ke.getClass(s.type),p=Ke.getClass(s.strategy);d.layoutManager=new h(new p)}else d.layoutManager=new Sp;return d.layoutManager.subscribeTargets({type:Qa,target:d,targets:d.getObjects()}),d.setCoords(),d})}}ue(Tc,"type","Group"),ue(Tc,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Ke.setClass(Tc);const rG=(t,e)=>Math.min(e.width/t.width,e.height/t.height),iG=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Ub="\\s*,?\\s*",vf="".concat(Ub,"(").concat(ks,")"),sG="".concat(vf).concat(vf).concat(vf).concat(Ub,"([01])").concat(Ub,"([01])").concat(vf).concat(vf),aG={m:"l",M:"L"},oG=(t,e,n,r,i,s,a,o,c,u,d)=>{const h=ho(t),p=fo(t),f=ho(e),b=fo(e),g=n*i*f-r*s*b+a,w=r*i*f+n*s*b+o;return["C",u+c*(-n*i*p-r*s*h),d+c*(-r*i*p+n*s*h),g+c*(n*i*b+r*s*f),w+c*(r*i*b-n*s*f),g,w]},gN=(t,e,n,r)=>{const i=Math.atan2(e,t),s=Math.atan2(r,n);return s>=i?s-i:2*Math.PI-(i-s)};function vN(t,e,n,r,i,s,a,o){let c;if(It.cachesBoundsOfCurve&&(c=[...arguments].join(),Hf.boundsOfCurveCache[c]))return Hf.boundsOfCurveCache[c];const u=Math.sqrt,d=Math.abs,h=[],p=[[0,0],[0,0]];let f=6*t-12*n+6*i,b=-3*t+9*n-9*i+3*a,g=3*n-3*t;for(let A=0;A<2;++A){if(A>0&&(f=6*e-12*r+6*s,b=-3*e+9*r-9*s+3*o,g=3*r-3*e),d(b)<1e-12){if(d(f)<1e-12)continue;const H=-g/f;0<H&&H<1&&h.push(H);continue}const k=f*f-4*g*b;if(k<0)continue;const E=u(k),R=(-f+E)/(2*b);0<R&&R<1&&h.push(R);const O=(-f-E)/(2*b);0<O&&O<1&&h.push(O)}let w=h.length;const x=w,y=iO(t,e,n,r,i,s,a,o);for(;w--;){const{x:A,y:k}=y(h[w]);p[0][w]=A,p[1][w]=k}p[0][x]=t,p[1][x]=e,p[0][x+1]=a,p[1][x+1]=o;const N=[new _e(Math.min(...p[0]),Math.min(...p[1])),new _e(Math.max(...p[0]),Math.max(...p[1]))];return It.cachesBoundsOfCurve&&(Hf.boundsOfCurveCache[c]=N),N}const lG=(t,e,n)=>{let[r,i,s,a,o,c,u,d]=n;const h=((p,f,b,g,w,x,y)=>{if(b===0||g===0)return[];let N=0,A=0,k=0;const E=Math.PI,R=y*uS,O=fo(R),H=ho(R),K=.5*(-H*p-O*f),D=.5*(-H*f+O*p),T=b**2,X=g**2,B=D**2,ee=K**2,G=T*X-T*B-X*ee;let te=Math.abs(b),V=Math.abs(g);if(G<0){const je=Math.sqrt(1-G/(T*X));te*=je,V*=je}else k=(w===x?-1:1)*Math.sqrt(G/(T*B+X*ee));const re=k*te*D/V,de=-k*V*K/te,Oe=H*re-O*de+.5*p,F=O*re+H*de+.5*f;let Y=gN(1,0,(K-re)/te,(D-de)/V),W=gN((K-re)/te,(D-de)/V,(-K-re)/te,(-D-de)/V);x===0&&W>0?W-=2*E:x===1&&W<0&&(W+=2*E);const Z=Math.ceil(Math.abs(W/E*2)),se=[],ie=W/Z,ce=8/3*Math.sin(ie/4)*Math.sin(ie/4)/Math.sin(ie/2);let ve=Y+ie;for(let je=0;je<Z;je++)se[je]=oG(Y,ve,H,O,te,V,Oe,F,ce,N,A),N=se[je][5],A=se[je][6],Y=ve,ve+=ie;return se})(u-t,d-e,i,s,o,c,a);for(let p=0,f=h.length;p<f;p++)h[p][1]+=t,h[p][2]+=e,h[p][3]+=t,h[p][4]+=e,h[p][5]+=t,h[p][6]+=e;return h},cG=t=>{let e=0,n=0,r=0,i=0;const s=[];let a,o=0,c=0;for(const u of t){const d=[...u];let h;switch(d[0]){case"l":d[1]+=e,d[2]+=n;case"L":e=d[1],n=d[2],h=["L",e,n];break;case"h":d[1]+=e;case"H":e=d[1],h=["L",e,n];break;case"v":d[1]+=n;case"V":n=d[1],h=["L",e,n];break;case"m":d[1]+=e,d[2]+=n;case"M":e=d[1],n=d[2],r=d[1],i=d[2],h=["M",e,n];break;case"c":d[1]+=e,d[2]+=n,d[3]+=e,d[4]+=n,d[5]+=e,d[6]+=n;case"C":o=d[3],c=d[4],e=d[5],n=d[6],h=["C",d[1],d[2],o,c,e,n];break;case"s":d[1]+=e,d[2]+=n,d[3]+=e,d[4]+=n;case"S":a==="C"?(o=2*e-o,c=2*n-c):(o=e,c=n),e=d[3],n=d[4],h=["C",o,c,d[1],d[2],e,n],o=h[3],c=h[4];break;case"q":d[1]+=e,d[2]+=n,d[3]+=e,d[4]+=n;case"Q":o=d[1],c=d[2],e=d[3],n=d[4],h=["Q",o,c,e,n];break;case"t":d[1]+=e,d[2]+=n;case"T":a==="Q"?(o=2*e-o,c=2*n-c):(o=e,c=n),e=d[1],n=d[2],h=["Q",o,c,e,n];break;case"a":d[6]+=e,d[7]+=n;case"A":lG(e,n,d).forEach(p=>s.push(p)),e=d[6],n=d[7];break;case"z":case"Z":e=r,n=i,h=["Z"]}h?(s.push(h),a=h[0]):a=""}return s},wv=(t,e,n,r)=>Math.sqrt((n-t)**2+(r-e)**2),iO=(t,e,n,r,i,s,a,o)=>c=>{const u=c**3,d=(f=>3*f**2*(1-f))(c),h=(f=>3*f*(1-f)**2)(c),p=(f=>(1-f)**3)(c);return new _e(a*u+i*d+n*h+t*p,o*u+s*d+r*h+e*p)},sO=t=>t**2,aO=t=>2*t*(1-t),oO=t=>(1-t)**2,uG=(t,e,n,r,i,s,a,o)=>c=>{const u=sO(c),d=aO(c),h=oO(c),p=3*(h*(n-t)+d*(i-n)+u*(a-i)),f=3*(h*(r-e)+d*(s-r)+u*(o-s));return Math.atan2(f,p)},dG=(t,e,n,r,i,s)=>a=>{const o=sO(a),c=aO(a),u=oO(a);return new _e(i*o+n*c+t*u,s*o+r*c+e*u)},hG=(t,e,n,r,i,s)=>a=>{const o=1-a,c=2*(o*(n-t)+a*(i-n)),u=2*(o*(r-e)+a*(s-r));return Math.atan2(u,c)},xN=(t,e,n)=>{let r=new _e(e,n),i=0;for(let s=1;s<=100;s+=1){const a=t(s/100);i+=wv(r.x,r.y,a.x,a.y),r=a}return i},fG=(t,e)=>{let n,r=0,i=0,s={x:t.x,y:t.y},a=fe({},s),o=.01,c=0;const u=t.iterator,d=t.angleFinder;for(;i<e&&o>1e-4;)a=u(r),c=r,n=wv(s.x,s.y,a.x,a.y),n+i>e?(r-=o,o/=2):(s=a,r+=o,i+=n);return fe(fe({},a),{},{angle:d(c)})},lO=t=>{let e,n,r=0,i=0,s=0,a=0,o=0;const c=[];for(const u of t){const d={x:i,y:s,command:u[0],length:0};switch(u[0]){case"M":n=d,n.x=a=i=u[1],n.y=o=s=u[2];break;case"L":n=d,n.length=wv(i,s,u[1],u[2]),i=u[1],s=u[2];break;case"C":e=iO(i,s,u[1],u[2],u[3],u[4],u[5],u[6]),n=d,n.iterator=e,n.angleFinder=uG(i,s,u[1],u[2],u[3],u[4],u[5],u[6]),n.length=xN(e,i,s),i=u[5],s=u[6];break;case"Q":e=dG(i,s,u[1],u[2],u[3],u[4]),n=d,n.iterator=e,n.angleFinder=hG(i,s,u[1],u[2],u[3],u[4]),n.length=xN(e,i,s),i=u[3],s=u[4];break;case"Z":n=d,n.destX=a,n.destY=o,n.length=wv(i,s,a,o),i=a,s=o}r+=n.length,c.push(n)}return c.push({length:r,x:i,y:s}),c},pG=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lO(t),r=0;for(;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;const i=n[r],s=e/i.length,a=t[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return fe(fe({},new _e(i.x,i.y).lerp(new _e(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return fe(fe({},new _e(i.x,i.y).lerp(new _e(a[1],a[2]),s)),{},{angle:Math.atan2(a[2]-i.y,a[1]-i.x)});case"C":case"Q":return fG(i,e)}},mG=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),yN=new RegExp(sG,"g"),gG=new RegExp(ks,"gi"),vG={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},xG=t=>{var e;const n=[],r=(e=t.match(mG))!==null&&e!==void 0?e:[];for(const i of r){const s=i[0];if(s==="z"||s==="Z"){n.push([s]);continue}const a=vG[s.toLowerCase()];let o=[];if(s==="a"||s==="A"){yN.lastIndex=0;for(let c=null;c=yN.exec(i);)o.push(...c.slice(1))}else o=i.match(gG)||[];for(let c=0;c<o.length;c+=a){const u=new Array(a),d=aG[s];u[0]=c>0&&d?d:s;for(let h=0;h<a;h++)u[h+1]=parseFloat(o[c+h]);n.push(u)}}return n},yG=(t,e)=>t.map(n=>n.map((r,i)=>i===0||e===void 0?r:ln(r,e)).join(" ")).join(" ");function Hb(t,e){const n=t.style;n&&e&&(typeof e=="string"?n.cssText+=";"+e:Object.entries(e).forEach(r=>{let[i,s]=r;return n.setProperty(i,s)}))}class bG extends M8{constructor(e){let{allowTouchScrolling:n=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),ue(this,"upper",void 0),ue(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:n}),this.applyCanvasStyle(s,{allowTouchScrolling:n,styles:{position:"absolute",left:"0",top:"0"}});const a=this.createContainerElement();a.classList.add(r),i.parentNode&&i.parentNode.replaceChild(a,i),a.append(i,s),this.container=a}createUpperCanvas(){const{el:e}=this.lower,n=po();return n.className=e.className,n.classList.remove("lower-canvas"),n.classList.add("upper-canvas"),n.setAttribute("data-fabric","top"),n.style.cssText=e.style.cssText,n.setAttribute("draggable","true"),n}createContainerElement(){const e=xh().createElement("div");return e.setAttribute("data-fabric","wrapper"),Hb(e,{position:"relative"}),Vj(e),e}applyCanvasStyle(e,n){const{styles:r,allowTouchScrolling:i}=n;Hb(e,fe(fe({},r),{},{"touch-action":i?"manipulation":ai})),Vj(e)}setDimensions(e,n){super.setDimensions(e,n);const{el:r,ctx:i}=this.upper;L8(r,i,e,n)}setCSSDimensions(e){super.setCSSDimensions(e),Pb(this.upper.el,e),Pb(this.container,e)}cleanupDOM(e){const n=this.container,{el:r}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),n.removeChild(i),n.removeChild(r),n.parentNode&&n.parentNode.replaceChild(r,n)}dispose(){super.dispose(),va().dispose(this.upper.el),delete this.upper,delete this.container}}class Tx extends xS{constructor(){super(...arguments),ue(this,"targets",[]),ue(this,"_hoveredTargets",[]),ue(this,"_objectsToRender",void 0),ue(this,"_currentTransform",null),ue(this,"_groupSelector",null),ue(this,"contextTopDirty",!1)}static getDefaults(){return fe(fe({},super.getDefaults()),Tx.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new bG(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(n=>!n.group&&n!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const n=this.getRetinaScaling(),r=Math.ceil((2*e+1)*n);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(n,n)}isTargetTransparent(e,n,r){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-n+i,-r+i),s.transform(...this.viewportTransform);const a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=a,s.restore();const o=Math.round(i*this.getRetinaScaling());return NV(s,o,o,o)}_isSelectionKeyPressed(e){const n=this.selectionKey;return!!n&&(Array.isArray(n)?!!n.find(r=>!!r&&e[r]===!0):e[n])}_shouldClearSelection(e,n){const r=this.getActiveObjects(),i=this._activeObject;return!!(!n||n&&i&&r.length>1&&r.indexOf(n)===-1&&i!==n&&!this._isSelectionKeyPressed(e)||n&&!n.evented||n&&!n.selectable&&i&&i!==n)}_shouldCenterTransform(e,n,r){if(!e)return;let i;return n===wx||n===ci||n===rs||n===vp?i=this.centeredScaling||e.centeredScaling:n===fS&&(i=this.centeredRotation||e.centeredRotation),i?!r:r}_getOriginFromCorner(e,n){const r={x:e.originX,y:e.originY};return n&&(["ml","tl","bl"].includes(n)?r.x=Rn:["mr","tr","br"].includes(n)&&(r.x=Vt),["tl","mt","tr"].includes(n)?r.y=Db:["bl","mb","br"].includes(n)&&(r.y=si)),r}_setupCurrentTransform(e,n,r){var i;const s=n.group?yd(this.getScenePoint(e),void 0,n.group.calcTransformMatrix()):this.getScenePoint(e),{key:a="",control:o}=n.getActiveControl()||{},c=r&&o?(i=o.getActionHandler(e,n,o))===null||i===void 0?void 0:i.bind(o):BH,u=((f,b,g,w)=>{if(!b||!f)return"drag";const x=w.controls[b];return x.getActionName(g,x,w)})(r,a,e,n),d=e[this.centeredKey],h=this._shouldCenterTransform(n,u,d)?{x:Nt,y:Nt}:this._getOriginFromCorner(n,a),p={target:n,action:u,actionHandler:c,actionPerformed:!1,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:s.x-n.left,offsetY:s.y-n.top,originX:h.x,originY:h.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:Bn(n.angle),width:n.width,height:n.height,shiftKey:e.shiftKey,altKey:d,original:fe(fe({},P8(n)),{},{originX:h.x,originY:h.y})};this._currentTransform=p,this.fire("before:transform",{e,transform:p})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:n,y:r,deltaX:i,deltaY:s}=this._groupSelector,a=new _e(n,r).transform(this.viewportTransform),o=new _e(n+i,r+s).transform(this.viewportTransform),c=this.selectionLineWidth/2;let u=Math.min(a.x,o.x),d=Math.min(a.y,o.y),h=Math.max(a.x,o.x),p=Math.max(a.y,o.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(u,d,h-u,p-d)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,u+=c,d+=c,h-=c,p-=c,Or.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(u,d,h-u,p-d))}findTarget(e){if(this.skipTargetFind)return;const n=this.getViewportPoint(e),r=this._activeObject,i=this.getActiveObjects();if(this.targets=[],r&&i.length>=1){if(r.findControl(n,Rb(e))||i.length>1&&this.searchPossibleTargets([r],n))return r;if(r===this.searchPossibleTargets([r],n)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const a=this.searchPossibleTargets(this._objects,n);return e[this.altSelectionKey]&&a&&a!==r?(this.targets=s,r):a}return r}}return this.searchPossibleTargets(this._objects,n)}_pointIsInObjectSelectionArea(e,n){let r=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[a,o,c,u]=r,d=Math.atan2(o.y-a.y,o.x-a.x),h=ho(d)*s,p=fo(d)*s,f=h+p,b=h-p;r=[new _e(a.x-b,a.y-f),new _e(o.x+f,o.y-b),new _e(c.x+b,c.y+f),new _e(u.x-f,u.y+b)]}return bn.isPointInPolygon(n,r)}_checkTarget(e,n){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,yd(n,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,n.x,n.y)))}_searchPossibleTargets(e,n){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,n)){if(g0(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,n);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,n){const r=this._searchPossibleTargets(e,n);if(r&&g0(r)&&r.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const a=i[s];if(!g0(a)||!a.interactive)return a}return i[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,i=r.getBoundingClientRect();let s=MH(e),a=i.width||0,o=i.height||0;a&&o||(si in i&&Db in i&&(o=Math.abs(i.top-i.bottom)),Rn in i&&Vt in i&&(a=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,n||(s=yd(s,void 0,this.viewportTransform));const c=this.getRetinaScaling();c!==1&&(s.x/=c,s.y/=c);const u=a===0||o===0?new _e(1,1):new _e(r.width/a,r.height/o);return s.multiply(u)}_setDimensionsImpl(e,n){this._resetTransformEventData(),super._setDimensionsImpl(e,n),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=po(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return sc(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,n){let r=!1,i=!1;const s=this.getActiveObjects(),a=[],o=[];e.forEach(c=>{s.includes(c)||(r=!0,c.fire("deselected",{e:n,target:c}),o.push(c))}),s.forEach(c=>{e.includes(c)||(r=!0,c.fire("selected",{e:n,target:c}),a.push(c))}),e.length>0&&s.length>0?(i=!0,r&&this.fire("selection:updated",{e:n,selected:a,deselected:o})):s.length>0?(i=!0,this.fire("selection:created",{e:n,selected:a})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:n,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(e,n){const r=this.getActiveObjects(),i=this._setActiveObject(e,n);return this._fireSelectionEvents(r,n),i}_setActiveObject(e,n){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(n,e)&&this._activeObject)&&!e.onSelect({e:n})&&(this._activeObject=e,sc(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,n){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:n})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),sc(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const n=this.getActiveObjects(),r=this.getActiveObject();n.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(n,e),i}endCurrentTransform(e){const n=this._currentTransform;this._finalizeCurrentTransform(e),n&&n.target&&(n.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const n=this._currentTransform,r=n.target,i={e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),n.actionPerformed&&(this.fire("object:modified",i),r.fire(fv,i))}setViewportTransform(e){super.setViewportTransform(e);const n=this._activeObject;n&&n.setCoords()}destroy(){const e=this._activeObject;sc(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const n=this._activeObject;n&&n._renderControls(e)}_toObject(e,n,r){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,n,r);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:n}=e;if(n&&sc(n)&&this._activeObject===n){const r=Sh(e,["angle","flipX","flipY",Vt,ci,rs,yh,bh,si]);return PH(e,n.calcOwnMatrix()),r}return{}}_setSVGObject(e,n,r){const i=this._realizeGroupTransformOnObject(n);super._setSVGObject(e,n,r),n.set(i)}}ue(Tx,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class wG{constructor(e){ue(this,"targets",[]),ue(this,"__disposer",void 0);const n=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},r=e.upperCanvasEl;r.addEventListener("click",n),this.__disposer=()=>r.removeEventListener("click",n)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Uu(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var n;!((n=this.target)===null||n===void 0)&&n.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const SG=["target","oldTarget","fireCanvas","e"],yi={passive:!1},Du=(t,e)=>{const n=t.getViewportPoint(e),r=t.getScenePoint(e);return{viewportPoint:n,scenePoint:r,pointer:n,absolutePointer:r}},zo=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener(...n)},Bi=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.removeEventListener(...n)},jG={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Vb extends Tx{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),ue(this,"_isClick",void 0),ue(this,"textEditingManager",new wG(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(n=>{this[n]=this[n].bind(this)}),this.addOrRemove(zo,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,n){const r=this.upperCanvasEl,i=this._getEventPrefix();e(O8(r),"resize",this._onResize),e(r,i+"down",this._onMouseDown),e(r,"".concat(i,"move"),this._onMouseMove,yi),e(r,"".concat(i,"out"),this._onMouseOut),e(r,"".concat(i,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"click",this._onClick),e(r,"dblclick",this._onClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,yi)}removeListeners(){this.addOrRemove(Bi,"remove");const e=this._getEventPrefix(),n=_s(this.upperCanvasEl);Bi(n,"".concat(e,"up"),this._onMouseUp),Bi(n,"touchend",this._onTouchEnd,yi),Bi(n,"".concat(e,"move"),this._onMouseMove,yi),Bi(n,"touchmove",this._onMouseMove,yi),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const n=this._hoveredTarget,r=fe({e},Du(this,e));this.fire("mouse:out",fe(fe({},r),{},{target:n})),this._hoveredTarget=void 0,n&&n.fire("mouseout",fe({},r)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",fe(fe({},r),{},{target:i})),i&&i.fire("mouseout",fe({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",fe({e},Du(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const n=this.getActiveObject();if(n&&n.onDragStart(e)){this._dragSource=n;const r={e,target:n};return this.fire("dragstart",r),n.fire("dragstart",r),void zo(this.upperCanvasEl,"drag",this._onDragProgress)}Gj(e)}_renderDragEffects(e,n,r){let i=!1;const s=this._dropTarget;s&&s!==n&&s!==r&&(s.clearContextTop(),i=!0),n==null||n.clearContextTop(),r!==n&&(r==null||r.clearContextTop());const a=this.contextTop;a.save(),a.transform(...this.viewportTransform),n&&(a.save(),n.transform(a),n.renderDragSourceEffect(e),a.restore(),i=!0),r&&(a.save(),r.transform(a),r.renderDropTargetEffect(e),a.restore(),i=!0),a.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==ai,r=n?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:n,dropTarget:r};Bi(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const n={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",n),this._dragSource&&this._dragSource.fire("drag",n)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const n="dragover",{target:r,targets:i}=this.findDragTargets(e),s=this._dragSource,a={e,target:r,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let o;this.fire(n,a),this._fireEnterLeaveEvents(r,a),r&&(r.canDrop(e)&&(o=r),r.fire(n,a));for(let c=0;c<i.length;c++){const u=i[c];u.canDrop(e)&&(o=u),u.fire(n,a)}this._renderDragEffects(e,s,o),this._dropTarget=o}_onDragEnter(e){const{target:n,targets:r}=this.findDragTargets(e),i={e,target:n,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(n,i)}_onDragLeave(e){const n={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:n,targets:r}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",fe({e,target:n,subTargets:r,dragSource:this._dragSource},Du(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const n=this.findTarget(e),r=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:n,subTargets:r});return this.stopContextMenu&&Gj(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const n=e.detail;n>3||n<2||(this._cacheTransformEventData(e),n==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),n==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const n=e.changedTouches;return n?n[0]&&n[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let n=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(n=!0),n&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),a=_s(i);zo(a,"touchend",this._onTouchEnd,yi),n&&zo(a,"touchmove",this._onMouseMove,yi),Bi(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();Bi(n,"".concat(r,"move"),this._onMouseMove,yi);const i=_s(n);zo(i,"".concat(r,"up"),this._onMouseUp),zo(i,"".concat(r,"move"),this._onMouseMove,yi)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const n=this._getEventPrefix(),r=_s(this.upperCanvasEl);Bi(r,"touchend",this._onTouchEnd,yi),Bi(r,"touchmove",this._onMouseMove,yi),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{zo(this.upperCanvasEl,"".concat(n,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const i=_s(this.upperCanvasEl);Bi(i,"".concat(r,"up"),this._onMouseUp),Bi(i,"".concat(r,"move"),this._onMouseMove,yi),zo(n,"".concat(r,"move"),this._onMouseMove,yi)}}_onMouseMove(e){const n=this.getActiveObject();!this.allowTouchScrolling&&(!n||!n.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const n=this.getActiveObject();return!!n!=!!e||n&&e&&n!==e}__onMouseUp(e){var n;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,i=this._isClick,s=this._target,{button:a}=e;if(a)return(this.fireMiddleClick&&a===1||this.fireRightClick&&a===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let o,c,u=!1;if(r&&(this._finalizeCurrentTransform(e),u=r.actionPerformed),!i){const d=s===this._activeObject;this.handleSelection(e),u||(u=this._shouldRender(s)||!d&&s===this._activeObject)}if(s){const d=s.findControl(this.getViewportPoint(e),Rb(e)),{key:h,control:p}=d||{};if(c=h,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),u=!0;else if(p){const f=p.getMouseUpHandler(e,s,p);f&&(o=this.getScenePoint(e),f.call(p,e,r,o.x,o.y))}s.isMoving=!1}if(r&&(r.target!==s||r.corner!==c)){const d=r.target&&r.target.controls[r.corner],h=d&&d.getMouseUpHandler(e,r.target,d);o=o||this.getScenePoint(e),h&&h.call(d,e,r,o.x,o.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),u?this.requestRenderAll():i||(n=this._activeObject)!==null&&n!==void 0&&n.isEditing||this.renderTop()}_basicEventHandler(e,n){const{target:r,subTargets:i=[]}=n;this.fire(e,n),r&&r.fire(e,n);for(let s=0;s<i.length;s++)i[s]!==r&&i[s].fire(e,n);return n}_handleEvent(e,n,r){const i=this._target,s=this.targets||[],a=fe(fe(fe({e,target:i,subTargets:s},Du(this,e)),{},{transform:this._currentTransform},n==="up:before"||n==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),n==="down:before"||n==="down"?r:{});this.fire("mouse:".concat(n),a),i&&i.fire("mouse".concat(n),a);for(let o=0;o<s.length;o++)s[o]!==i&&s[o].fire("mouse".concat(n),a)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(n,{e,pointer:n}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(n,{e,pointer:n})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const n=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:n}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let n=this._target,r=!!n&&n===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let s=this._shouldRender(n),a=!1;if(this.handleMultiSelection(e,n)?(n=this._activeObject,a=!0,s=!0):this._shouldClearSelection(e,n)&&this.discardActiveObject(e),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(r=!!n&&n===this._activeObject,n){n.selectable&&n.activeOn==="down"&&this.setActiveObject(n,e);const o=n.findControl(this.getViewportPoint(e),Rb(e));if(n===this._activeObject&&(o||!a)){this._setupCurrentTransform(e,n,r);const c=o?o.control:void 0,u=this.getScenePoint(e),d=c&&c.getMouseDownHandler(e,n,c);d&&d.call(c,e,this._currentTransform,u.x,u.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:r}),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=yd(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const n=this._groupSelector;if(n){const r=this.getScenePoint(e);n.deltaX=r.x-n.x,n.deltaY=r.y-n.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,n){const r=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:n,oldTarget:r,fireCanvas:!0});for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("mouse",{e,target:s[o],oldTarget:i[o]});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,n){const r=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,a=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",fe(fe({},n),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let o=0;o<a;o++)this.fireSyntheticInOutEvents("drag",fe(fe({},n),{},{target:s[o],oldTarget:i[o]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,n){let{target:r,oldTarget:i,fireCanvas:s,e:a}=n,o=vn(n,SG);const{targetIn:c,targetOut:u,canvasIn:d,canvasOut:h}=jG[e],p=i!==r;if(i&&p){const f=fe(fe({},o),{},{e:a,target:i,nextTarget:r},Du(this,a));s&&this.fire(h,f),i.fire(u,f)}if(r&&p){const f=fe(fe({},o),{},{e:a,target:r,previousTarget:i},Du(this,a));s&&this.fire(d,f),r.fire(c,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const n=this.getScenePoint(e),r=this._currentTransform,i=r.target,s=i.group?yd(n,void 0,i.group.calcTransformMatrix()):n;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,s),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,n,r){const{action:i,actionHandler:s,target:a}=n,o=!!s&&s(e,n,r.x,r.y);o&&a.setCoords(),i==="drag"&&o&&(n.target.isMoving=!0,this.setCursor(n.target.moveCursor||this.moveCursor)),n.actionPerformed=n.actionPerformed||o}_setCursorFromEvent(e,n){if(!n)return void this.setCursor(this.defaultCursor);let r=n.hoverCursor||this.hoverCursor;const i=sc(this._activeObject)?this._activeObject:null,s=(!i||n.group!==i)&&n.findControl(this.getViewportPoint(e));if(s){const a=s.control;this.setCursor(a.cursorStyleHandler(e,a,n))}else n.subTargetCheck&&this.targets.concat().reverse().map(a=>{r=a.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,n){const r=this._activeObject,i=sc(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&n&&n.selectable&&(r!==n||i)&&(i||!n.isDescendantOf(r)&&!r.isDescendantOf(n))&&!n.onSelect({e})&&!r.getActiveControl()){if(i){const s=r.getObjects();if(n===r){const a=this.getViewportPoint(e);if(!(n=this.searchPossibleTargets(s,a)||this.searchPossibleTargets(this._objects,a))||!n.selectable)return!1}n.group===r?(r.remove(n),this._hoveredTarget=n,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(n),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{r.isEditing&&r.exitEditing();const s=new(Ke.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(r,n),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:n,y:r,deltaX:i,deltaY:s}=this._groupSelector,a=new _e(n,r),o=a.add(new _e(i,s)),c=a.min(o),u=a.max(o).subtract(c),d=this.collectObjects({left:c.x,top:c.y,width:u.x,height:u.y},{includeIntersecting:!this.selectionFullyContained}),h=a.eq(o)?d[0]?[d[0]]:[]:d.length>1?d.filter(p=>!p.onSelect({e})).reverse():d;if(h.length===1)this.setActiveObject(h[0],e);else if(h.length>1){const p=Ke.getClass("ActiveSelection");this.setActiveObject(new p(h,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const cO={x1:0,y1:0,x2:0,y2:0},NG=fe(fe({},cO),{},{r1:0,r2:0}),id=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,CG=/^(\d+\.\d+)%|(\d+)%$/;function uO(t){return t&&CG.test(t)}function dO(t,e){const n=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(uO(t)?100:1):NaN;return th(0,id(n,e),1)}const _G=/\s*;\s*/,AG=/\s*:\s*/;function TG(t,e){let n,r;const i=t.getAttribute("style");if(i){const a=i.split(_G);a[a.length-1]===""&&a.pop();for(let o=a.length;o--;){const[c,u]=a[o].split(AG).map(d=>d.trim());c==="stop-color"?n=u:c==="stop-opacity"&&(r=u)}}const s=new Oi(n||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:dO(t.getAttribute("offset"),0),color:s.toRgb(),opacity:id(parseFloat(r||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function kG(t,e){const n=[],r=t.getElementsByTagName("stop"),i=dO(e,1);for(let s=r.length;s--;)n.push(TG(r[s],i));return n}function hO(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function fO(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ms(t,e){return t.getAttribute(e)}function EG(t,e){return function(n,r){let i,{width:s,height:a,gradientUnits:o}=r;return Object.keys(n).reduce((c,u)=>{const d=n[u];return d==="Infinity"?i=1:d==="-Infinity"?i=0:(i=typeof d=="string"?parseFloat(d):d,typeof d=="string"&&uO(d)&&(i*=.01,o==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(i*=s),u!=="y1"&&u!=="y2"||(i*=a)))),c[u]=i,c},{})}(hO(t)==="linear"?function(n){return{x1:ms(n,"x1")||0,y1:ms(n,"y1")||0,x2:ms(n,"x2")||"100%",y2:ms(n,"y2")||0}}(t):function(n){return{x1:ms(n,"fx")||ms(n,"cx")||"50%",y1:ms(n,"fy")||ms(n,"cy")||"50%",r1:0,x2:ms(n,"cx")||"50%",y2:ms(n,"cy")||"50%",r2:ms(n,"r")||"50%"}}(t),fe(fe({},e),{},{gradientUnits:fO(t)}))}class xg{constructor(e){const{type:n="linear",gradientUnits:r="pixels",coords:i={},colorStops:s=[],offsetX:a=0,offsetY:o=0,gradientTransform:c,id:u}=e||{};Object.assign(this,{type:n,gradientUnits:r,coords:fe(fe({},n==="radial"?NG:cO),i),colorStops:s,offsetX:a,offsetY:o,gradientTransform:c,id:u?"".concat(u,"_").concat(El()):El()})}addColorStop(e){for(const n in e){const r=new Oi(e[n]);this.colorStops.push({offset:parseFloat(n),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return fe(fe({},Sh(this,e)),{},{type:this.type,coords:fe({},this.coords),colorStops:this.colorStops.map(n=>fe({},n)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],i=this.gradientTransform?this.gradientTransform.concat():Hr.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",a=this.colorStops.map(h=>fe({},h)).sort((h,p)=>h.offset-p.offset);let o=-this.offsetX,c=-this.offsetY;var u;s==="objectBoundingBox"?(o/=e.width,c/=e.height):(o+=e.width/2,c+=e.height/2),(u=e)&&typeof u._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(o-=e.pathOffset.x,c-=e.pathOffset.y),i[4]-=o,i[5]-=c;const d=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(n?n+" ":"").concat(yp(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:h,y1:p,x2:f,y2:b}=this.coords;r.push("<linearGradient ",d,' x1="',h,'" y1="',p,'" x2="',f,'" y2="',b,`">
`)}else if(this.type==="radial"){const{x1:h,y1:p,x2:f,y2:b,r1:g,r2:w}=this.coords,x=g>w;r.push("<radialGradient ",d,' cx="',x?h:f,'" cy="',x?p:b,'" r="',x?g:w,'" fx="',x?f:h,'" fy="',x?b:p,`">
`),x&&(a.reverse(),a.forEach(N=>{N.offset=1-N.offset}));const y=Math.min(g,w);if(y>0){const N=y/Math.max(g,w);a.forEach(A=>{A.offset+=N*(1-A.offset)})}}return a.forEach(h=>{let{color:p,offset:f,opacity:b}=h;r.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',p,b!==void 0?";stop-opacity: "+b:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:n,y1:r,x2:i,y2:s,r1:a,r2:o}=this.coords,c=this.type==="linear"?e.createLinearGradient(n,r,i,s):e.createRadialGradient(n,r,a,i,s,o);return this.colorStops.forEach(u=>{let{color:d,opacity:h,offset:p}=u;c.addColorStop(p,h!==void 0?new Oi(d).setAlpha(h).toRgba():d)}),c}static async fromObject(e){const{colorStops:n,gradientTransform:r}=e;return new this(fe(fe({},e),{},{colorStops:n?n.map(i=>fe({},i)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,n,r){const i=fO(e),s=n._findCenterFromElement();return new this(fe({id:e.getAttribute("id")||void 0,type:hO(e),coords:EG(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:kG(e,r.opacity),gradientUnits:i,gradientTransform:Bb(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:n.width/2-s.x,offsetY:n.height/2-s.y}:{offsetX:0,offsetY:0}))}}ue(xg,"type","Gradient"),Ke.setClass(xg,"gradient"),Ke.setClass(xg,"linear"),Ke.setClass(xg,"radial");const OG=["type","source","patternTransform"];class Dy{get type(){return"pattern"}set type(e){kl("warn","Setting type has no effect",e)}constructor(e){ue(this,"repeat","repeat"),ue(this,"offsetX",0),ue(this,"offsetY",0),ue(this,"crossOrigin",""),this.id=El(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:n,crossOrigin:r}=this;return fe(fe({},Sh(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:n,crossOrigin:r,offsetX:ln(this.offsetX,It.NUM_FRACTION_DIGITS),offsetY:ln(this.offsetY,It.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:n,height:r}=e;const{source:i,repeat:s,id:a}=this,o=id(this.offsetX/n,0),c=id(this.offsetY/r,0),u=s==="repeat-y"||s==="no-repeat"?1+Math.abs(o||0):id(i.width/n,0),d=s==="repeat-x"||s==="no-repeat"?1+Math.abs(c||0):id(i.height/r,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(o,'" y="').concat(c,'" width="').concat(u,'" height="').concat(d,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,n){let{type:r,source:i,patternTransform:s}=e,a=vn(e,OG);const o=await x0(i,fe(fe({},n),{},{crossOrigin:a.crossOrigin}));return new this(fe(fe({},a),{},{patternTransform:s&&s.slice(0),source:o}))}}ue(Dy,"type","Pattern"),Ke.setClass(Dy),Ke.setClass(Dy,"pattern");const LG=["path","left","top"],MG=["d"];class ac extends Or{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:i,top:s}=n,a=vn(n,LG);super(),Object.assign(this,ac.ownDefaults),this.setOptions(a),this._setPath(e||[],!0),typeof i=="number"&&this.set(Vt,i),typeof s=="number"&&this.set(si,s)}_setPath(e,n){this.path=cG(Array.isArray(e)?e:xG(e)),this.setBoundingBox(n)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new _e(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const n=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+n,i[2]+r);break;case"M":e.moveTo(i[1]+n,i[2]+r);break;case"C":e.bezierCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r,i[5]+n,i[6]+r);break;case"Q":e.quadraticCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fe(fe({},super.toObject(e)),{},{path:this.path.map(n=>n.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.toObject(e);return this.sourcePath&&(delete n.path,n.sourcePath=this.sourcePath),n}_toSVG(){const e=yG(this.path,It.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=It.NUM_FRACTION_DIGITS;return" translate(".concat(ln(-this.pathOffset.x,e),", ").concat(ln(-this.pathOffset.y,e),")")}toClipPathSVG(e){const n=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}toSVG(e){const n=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:n,height:r,pathOffset:i}=this._calcDimensions();this.set({width:n,height:r,pathOffset:i}),e&&this.setPositionByOrigin(i,Nt,Nt)}_calcBoundsFromPath(){const e=[];let n=0,r=0,i=0,s=0;for(const a of this.path)switch(a[0]){case"L":i=a[1],s=a[2],e.push({x:n,y:r},{x:i,y:s});break;case"M":i=a[1],s=a[2],n=i,r=s;break;case"C":e.push(...vN(i,s,a[1],a[2],a[3],a[4],a[5],a[6])),i=a[5],s=a[6];break;case"Q":e.push(...vN(i,s,a[1],a[2],a[1],a[2],a[3],a[4])),i=a[3],s=a[4];break;case"Z":i=n,s=r}return eo(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return fe(fe({},e),{},{pathOffset:new _e(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,n,r){const i=yo(e,this.ATTRIBUTE_NAMES,r),{d:s}=i;return new this(s,fe(fe(fe({},vn(i,MG)),n),{},{left:void 0,top:void 0}))}}ue(ac,"type","Path"),ue(ac,"cacheProperties",[...xo,"path","fillRule"]),ue(ac,"ATTRIBUTE_NAMES",[...zl,"d"]),Ke.setClass(ac),Ke.setSVGClass(ac);const DG=["left","top","radius"],pO=["radius","startAngle","endAngle","counterClockwise"];class na extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),na.ownDefaults)}constructor(e){super(),Object.assign(this,na.ownDefaults),this.setOptions(e)}_set(e,n){return super._set(e,n),e==="radius"&&this.setRadius(n),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Bn(this.startAngle),Bn(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(ci)}getRadiusY(){return this.get("radius")*this.get(rs)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...pO,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:n}=this,r=Bn(this.startAngle),i=Bn(this.endAngle),s=ho(r)*n,a=fo(r)*n,o=ho(i)*n,c=fo(i)*n,u=e>180?1:0,d=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(a," A ").concat(n," ").concat(n," 0 ").concat(u," ").concat(d," ").concat(o," ").concat(c,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,n,r){const i=yo(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:a=0,radius:o=0}=i;return new this(fe(fe({},vn(i,DG)),{},{radius:o,left:s-o,top:a-o}))}static fromObject(e){return super._fromObject(e)}}ue(na,"type","Circle"),ue(na,"cacheProperties",[...xo,...pO]),ue(na,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),ue(na,"ATTRIBUTE_NAMES",["cx","cy","r",...zl]),Ke.setClass(na),Ke.setSVGClass(na);const PG=["x1","y1","x2","y2"],RG=["x1","y1","x2","y2"],Gb=["x1","x2","y1","y2"];class Zo extends Or{constructor(){let[e,n,r,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Zo.ownDefaults),this.setOptions(s),this.x1=e,this.x2=r,this.y1=n,this.y2=i,this._setWidthHeight();const{left:a,top:o}=s;typeof a=="number"&&this.set(Vt,a),typeof o=="number"&&this.set(si,o)}_setWidthHeight(){const{x1:e,y1:n,x2:r,y2:i}=this;this.width=Math.abs(r-e),this.height=Math.abs(i-n);const{left:s,top:a,width:o,height:c}=eo([{x:e,y:n},{x:r,y:i}]),u=new _e(s+o/2,a+c/2);this.setPositionByOrigin(u,Nt,Nt)}_set(e,n){return super._set(e,n),Gb.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const n=this.calcLinePoints();e.moveTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var i;Zi(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new _e((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fe(fe({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:n,y1:r,y2:i,width:s,height:a}=this,o=e<=n?-1:1,c=r<=i?-1:1;return{x1:o*s/2,x2:o*-s/2,y1:c*a/2,y2:c*-a/2}}_toSVG(){const{x1:e,x2:n,y1:r,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(n,'" y2="').concat(i,`" />
`)]}static async fromElement(e,n,r){const i=yo(e,this.ATTRIBUTE_NAMES,r),{x1:s=0,y1:a=0,x2:o=0,y2:c=0}=i;return new this([s,a,o,c],vn(i,PG))}static fromObject(e){let{x1:n,y1:r,x2:i,y2:s}=e,a=vn(e,RG);return this._fromObject(fe(fe({},a),{},{points:[n,r,i,s]}),{extraParam:"points"})}}ue(Zo,"type","Line"),ue(Zo,"cacheProperties",[...xo,...Gb]),ue(Zo,"ATTRIBUTE_NAMES",zl.concat(Gb)),Ke.setClass(Zo),Ke.setSVGClass(Zo);class dl extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),dl.ownDefaults)}constructor(e){super(),Object.assign(this,dl.ownDefaults),this.setOptions(e)}_render(e){const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,r),e.lineTo(0,-r),e.lineTo(n,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,n=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(n,",0 ").concat(-n,",").concat(e," ").concat(n),'" />']}}ue(dl,"type","Triangle"),ue(dl,"ownDefaults",{width:100,height:100}),Ke.setClass(dl),Ke.setSVGClass(dl);const mO=["rx","ry"];class Ha extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),Ha.ownDefaults)}constructor(e){super(),Object.assign(this,Ha.ownDefaults),this.setOptions(e)}_set(e,n){switch(super._set(e,n),e){case"rx":this.rx=n,this.set("width",2*n);break;case"ry":this.ry=n,this.set("height",2*n)}return this}getRx(){return this.get("rx")*this.get(ci)}getRy(){return this.get("ry")*this.get(rs)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...mO,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,dv,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,n,r){const i=yo(e,this.ATTRIBUTE_NAMES,r);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function FG(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<e.length;r+=2)n.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return n}ue(Ha,"type","Ellipse"),ue(Ha,"cacheProperties",[...xo,...mO]),ue(Ha,"ownDefaults",{rx:0,ry:0}),ue(Ha,"ATTRIBUTE_NAMES",[...zl,"cx","cy","rx","ry"]),Ke.setClass(Ha),Ke.setSVGClass(Ha);const IG=["left","top"],gO={exactBoundingBox:!1};class Ns extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),Ns.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ue(this,"strokeDiff",void 0),Object.assign(this,Ns.ownDefaults),this.setOptions(n),this.points=e;const{left:r,top:i}=n;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(Vt,r),typeof i=="number"&&this.set(si,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return _V(this.points,e,this.isOpen())}_calcDimensions(e){e=fe({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const n=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(u=>u.projectedPoint):this.points;if(n.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new _e,strokeOffset:new _e,strokeDiff:new _e};const r=eo(n),i=Sx(fe(fe({},e),{},{scaleX:1,scaleY:1})),s=eo(this.points.map(u=>ii(u,i,!0))),a=new _e(this.scaleX,this.scaleY);let o=r.left+r.width/2,c=r.top+r.height/2;return this.exactBoundingBox&&(o-=c*Math.tan(Bn(this.skewX)),c-=o*Math.tan(Bn(this.skewY))),fe(fe({},r),{},{pathOffset:new _e(o,c),strokeOffset:new _e(s.left,s.top).subtract(new _e(r.left,r.top)).multiply(a),strokeDiff:new _e(r.width,r.height).subtract(new _e(s.width,s.height)).multiply(a)})}_findCenterFromElement(){const e=eo(this.points);return new _e(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:n,top:r,width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:c}=this._calcDimensions();this.set({width:i,height:s,pathOffset:a,strokeOffset:o,strokeDiff:c}),e&&this.setPositionByOrigin(new _e(n+i/2,r+s/2),Nt,Nt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new _e(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let a;if(Object.keys(e).some(o=>this.strokeUniform||this.constructor.layoutProperties.includes(o))){var n,r;const{width:o,height:c}=this._calcDimensions(e);a=new _e((n=e.width)!==null&&n!==void 0?n:o,(r=e.height)!==null&&r!==void 0?r:c)}else{var i,s;a=new _e((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return a.multiply(new _e(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,n){const r=this.initialized&&this[e]!==n,i=super._set(e,n);return this.exactBoundingBox&&r&&((e===ci||e===rs)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fe(fe({},super.toObject(e)),{},{points:this.points.map(n=>{let{x:r,y:i}=n;return{x:r,y:i}})})}_toSVG(){const e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=It.NUM_FRACTION_DIGITS;for(let s=0,a=this.points.length;s<a;s++)e.push(ln(this.points[s].x-n,i),",",ln(this.points[s].y-r,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(n&&!isNaN(this.points[n-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(let s=0;s<n;s++){const a=this.points[s];e.lineTo(a.x-r,a.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,n,r){return new this(FG(e.getAttribute("points")),fe(fe({},vn(yo(e,this.ATTRIBUTE_NAMES,r),IG)),n))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}ue(Ns,"ownDefaults",gO),ue(Ns,"type","Polyline"),ue(Ns,"layoutProperties",[yh,bh,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),ue(Ns,"cacheProperties",[...xo,"points"]),ue(Ns,"ATTRIBUTE_NAMES",[...zl]),Ke.setClass(Ns),Ke.setSVGClass(Ns);class yg extends Ns{isOpen(){return!1}}ue(yg,"ownDefaults",gO),ue(yg,"type","Polygon"),Ke.setClass(yg),Ke.setSVGClass(yg);class vO extends Or{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const n=e===void 0?this.styles:{line:this.styles[e]};for(const r in n)for(const i in n[r])for(const s in n[r][i])return!1;return!0}styleHas(e,n){if(!this.styles||n!==void 0&&!this.styles[n])return!1;const r=n===void 0?this.styles:{0:this.styles[n]};for(const i in r)for(const s in r[i])if(r[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const n=this.styles;let r,i,s=0,a=!0,o=0;for(const c in n){r=0;for(const u in n[c]){const d=n[c][u]||{};s++,d[e]!==void 0?(i?d[e]!==i&&(a=!1):i=d[e],d[e]===this[e]&&delete d[e]):a=!1,Object.keys(d).length!==0?r++:delete n[c][u]}r===0&&delete n[c]}for(let c=0;c<this._textLines.length;c++)o+=this._textLines[c].length;a&&s===o&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const n=this.styles;let r,i,s;for(i in n){for(s in r=n[i],r)delete r[s][e],Object.keys(r[s]).length===0&&delete r[s];Object.keys(r).length===0&&delete n[i]}}_extendStyles(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const s=vS(fe(fe({},this._getStyleDeclaration(r,i)),n),a=>a!==void 0);this._setStyleDeclaration(r,i,s)}getSelectionStyles(e,n,r){const i=[];for(let s=e;s<(n||e);s++)i.push(this.getStyleAtPosition(s,r));return i}getStyleAtPosition(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);return n?this.getCompleteStyleDeclaration(r,i):this._getStyleDeclaration(r,i)}setSelectionStyles(e,n,r){for(let i=n;i<(r||n);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,n){var r;const i=this.styles&&this.styles[e];return i&&(r=i[n])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,n){return fe(fe({},Sh(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,n))}_setStyleDeclaration(e,n,r){this.styles[e][n]=r}_deleteStyleDeclaration(e,n){delete this.styles[e][n]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}ue(vO,"_styleProperties",UH);const zG=/  +/g,BG=/"/g;function Py(t,e,n,r,i){return"		".concat(function(s,a){let{left:o,top:c,width:u,height:d}=a,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:It.NUM_FRACTION_DIGITS;const p=bp(Jn,s,!1),[f,b,g,w]=[o,c,u,d].map(x=>ln(x,h));return"<rect ".concat(p,' x="').concat(f,'" y="').concat(b,'" width="').concat(g,'" height="').concat(w,'"></rect>')}(t,{left:e,top:n,width:r,height:i}),`
`)}const qG=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Ry;class zr extends vO{static getDefaults(){return fe(fe({},super.getDefaults()),zr.ownDefaults)}constructor(e,n){super(),ue(this,"__charBounds",[]),Object.assign(this,zr.ownDefaults),this.setOptions(n),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=lO(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(sa)&&this.enlargeSpaces()}enlargeSpaces(){let e,n,r,i,s,a,o;for(let c=0,u=this._textLines.length;c<u;c++)if((this.textAlign===sa||c!==u-1&&!this.isEndOfWrapping(c))&&(i=0,s=this._textLines[c],n=this.getLineWidth(c),n<this.width&&(o=this.textLines[c].match(this._reSpacesAndTabs)))){r=o.length,e=(this.width-n)/r;for(let d=0;d<=s.length;d++)a=this.__charBounds[c][d],this._reSpaceAndTab.test(s[d])?(a.width+=e,a.kernedWidth+=e,a.left+=i,i+=e):a.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,n){const r=n?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<r.length;i++){if(e<=r[i].length)return{lineIndex:i,charIndex:e};e-=r[i].length+this.missingNewlineOffset(i,n)}return{lineIndex:i-1,charIndex:r[i-1].length<e?r[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),n=this.fontSize;return e.width+=n*e.zoomX,e.height+=n*e.zoomY,e}_render(e){const n=this.path;n&&!n.isNotVisible()&&n._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===oi?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,n,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Nt:e.textBaseline="middle";break;case"ascender":e.textBaseline=si;break;case"descender":e.textBaseline=Db}e.font=this._getFontDeclaration(n,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let n=1,r=this._textLines.length;n<r;n++){const i=this.getLineWidth(n);i>e&&(e=i)}return e}_renderTextLine(e,n,r,i,s,a){this._renderChars(e,n,r,i,s,a)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const n=e.fillStyle,r=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,a=this._textLines.length;s<a;s++){const o=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=o;continue}const c=this._textLines[s].length,u=this._getLineLeftOffset(s);let d,h,p=0,f=0,b=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let g=0;g<c;g++){const w=this.__charBounds[s][g];h=this.getValueOfPropertyAt(s,g,"textBackgroundColor"),this.path?(e.save(),e.translate(w.renderLeft,w.renderTop),e.rotate(w.angle),e.fillStyle=h,h&&e.fillRect(-w.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),w.width,o/this.lineHeight),e.restore()):h!==b?(d=r+u+f,this.direction==="rtl"&&(d=this.width-d-p),e.fillStyle=b,b&&e.fillRect(d,i,p,o/this.lineHeight),f=w.left,p=w.width,b=h):p+=w.kernedWidth}h&&!this.path&&(d=r+u+f,this.direction==="rtl"&&(d=this.width-d-p),e.fillStyle=h,e.fillRect(d,i,p,o/this.lineHeight)),i+=o}e.fillStyle=n,this._removeShadow(e)}_measureChar(e,n,r,i){const s=Hf.getFontCache(n),a=this._getFontDeclaration(n),o=r+e,c=r&&a===this._getFontDeclaration(i),u=n.fontSize/this.CACHE_FONT_SIZE;let d,h,p,f;if(r&&s[r]!==void 0&&(p=s[r]),s[e]!==void 0&&(f=d=s[e]),c&&s[o]!==void 0&&(h=s[o],f=h-p),d===void 0||p===void 0||h===void 0){const b=function(){return Ry||(Ry=is({width:0,height:0}).getContext("2d")),Ry}();this._setTextStyles(b,n,!0),d===void 0&&(f=d=b.measureText(e).width,s[e]=d),p===void 0&&c&&r&&(p=b.measureText(r).width,s[r]=p),c&&h===void 0&&(h=b.measureText(o).width,s[o]=h,f=h-p)}return{width:d*u,kernedWidth:f*u}}getHeightOfChar(e,n){return this.getValueOfPropertyAt(e,n,"fontSize")}measureLine(e){const n=this._measureLine(e);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n}_measureLine(e){let n,r,i=0;const s=this.pathSide===Rn,a=this.path,o=this._textLines[e],c=o.length,u=new Array(c);this.__charBounds[e]=u;for(let d=0;d<c;d++){const h=o[d];r=this._getGraphemeBox(h,e,d,n),u[d]=r,i+=r.kernedWidth,n=h}if(u[c]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){let d=0;const h=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case Vt:d=s?h-i:0;break;case Nt:d=(h-i)/2;break;case Rn:d=s?0:h-i}d+=this.pathStartOffset*(s?-1:1);for(let p=s?c-1:0;s?p>=0:p<c;s?p--:p++)r=u[p],d>h?d%=h:d<0&&(d+=h),this._setGraphemeOnPath(d,r),d+=r.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,n){const r=e+n.kernedWidth/2,i=this.path,s=pG(i.path,r,i.segmentsInfo);n.renderLeft=s.x-i.pathOffset.x,n.renderTop=s.y-i.pathOffset.y,n.angle=s.angle+(this.pathSide===Rn?Math.PI:0)}_getGraphemeBox(e,n,r,i,s){const a=this.getCompleteStyleDeclaration(n,r),o=i?this.getCompleteStyleDeclaration(n,r-1):{},c=this._measureChar(e,a,i,o);let u,d=c.kernedWidth,h=c.width;this.charSpacing!==0&&(u=this._getWidthOfCharSpacing(),h+=u,d+=u);const p={width:h,left:0,height:a.fontSize,kernedWidth:d,deltaY:a.deltaY};if(r>0&&!s){const f=this.__charBounds[n][r-1];p.left=f.left+f.width+c.kernedWidth-c.width}return p}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let n=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,n=0;for(let r=0,i=this._textLines.length;r<i;r++)e=this.getHeightOfLine(r),n+=r===i-1?e/this.lineHeight:e;return n}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,n){e.save();let r=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let a=0,o=this._textLines.length;a<o;a++){const c=this.getHeightOfLine(a),u=c/this.lineHeight,d=this._getLineLeftOffset(a);this._renderTextLine(n,e,this._textLines[a],i+d,s+r+u,a),r+=c}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Jn))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,n,r,i,s,a){const o=this.getHeightOfLine(a),c=this.textAlign.includes(sa),u=this.path,d=!c&&this.charSpacing===0&&this.isEmptyStyles(a)&&!u,h=this.direction==="ltr",p=this.direction==="ltr"?1:-1,f=n.direction;let b,g,w,x,y,N="",A=0;if(n.save(),f!==this.direction&&(n.canvas.setAttribute("dir",h?"ltr":"rtl"),n.direction=h?"ltr":"rtl",n.textAlign=h?Vt:Rn),s-=o*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(e,n,a,0,r.join(""),i,s),void n.restore();for(let k=0,E=r.length-1;k<=E;k++)x=k===E||this.charSpacing||u,N+=r[k],w=this.__charBounds[a][k],A===0?(i+=p*(w.kernedWidth-w.width),A+=w.width):A+=w.kernedWidth,c&&!x&&this._reSpaceAndTab.test(r[k])&&(x=!0),x||(b=b||this.getCompleteStyleDeclaration(a,k),g=this.getCompleteStyleDeclaration(a,k+1),x=_S(b,g,!1)),x&&(u?(n.save(),n.translate(w.renderLeft,w.renderTop),n.rotate(w.angle),this._renderChar(e,n,a,k,N,-A/2,0),n.restore()):(y=i,this._renderChar(e,n,a,k,N,y,s)),N="",b=g,i+=p*A,A=0);n.restore()}_applyPatternGradientTransformText(e){const n=this.width+this.strokeWidth,r=this.height+this.strokeWidth,i=is({width:n,height:r}),s=i.getContext("2d");return i.width=n,i.height=r,s.beginPath(),s.moveTo(0,0),s.lineTo(n,0),s.lineTo(n,r),s.lineTo(0,r),s.closePath(),s.translate(n/2,r/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,n,r){let i,s;return Zi(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[n]=this._applyPatternGradientTransformText(r),{offsetX:i,offsetY:s}):(e[n]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[n]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,n){let{stroke:r,strokeWidth:i}=n;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,n){let{fill:r}=n;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,n,r,i,s,a,o){const c=this._getStyleDeclaration(r,i),u=this.getCompleteStyleDeclaration(r,i),d=e==="fillText"&&u.fill,h=e==="strokeText"&&u.stroke&&u.strokeWidth;if(h||d){if(n.save(),n.font=this._getFontDeclaration(u),c.textBackgroundColor&&this._removeShadow(n),c.deltaY&&(o+=c.deltaY),d){const p=this._setFillStyles(n,u);n.fillText(s,a-p.offsetX,o-p.offsetY)}if(h){const p=this._setStrokeStyles(n,u);n.strokeText(s,a-p.offsetX,o-p.offsetY)}n.restore()}}setSuperscript(e,n){this._setScript(e,n,this.superscript)}setSubscript(e,n){this._setScript(e,n,this.subscript)}_setScript(e,n,r){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),a=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:s*r.size,deltaY:a+s*r.baseline};this.setSelectionStyles(o,e,n)}_getLineLeftOffset(e){const n=this.getLineWidth(e),r=this.width-n,i=this.textAlign,s=this.direction,a=this.isEndOfWrapping(e);let o=0;return i===sa||i===Gf&&!a||i===Vf&&!a||i===xv&&!a?0:(i===Nt&&(o=r/2),i===Rn&&(o=r),i===Gf&&(o=r/2),i===Vf&&(o=r),s==="rtl"&&(i===Rn||i===sa||i===Vf?o=0:i===Vt||i===xv?o=-r:i!==Nt&&i!==Gf||(o=-r/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:n}=this.measureLine(e);return this.__lineWidths[e]=n,n}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,n,r){var i;return(i=this._getStyleDeclaration(e,n)[r])!==null&&i!==void 0?i:this[r]}_renderTextDecoration(e,n){if(!this[n]&&!this.styleHas(n))return;let r=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,a=this._getWidthOfCharSpacing(),o=n==="linethrough"?.5:n==="overline"?1:0,c=this.offsets[n];for(let u=0,d=this._textLines.length;u<d;u++){const h=this.getHeightOfLine(u);if(!this[n]&&!this.styleHas(n,u)){r+=h;continue}const p=this._textLines[u],f=h/this.lineHeight,b=this._getLineLeftOffset(u);let g=0,w=0,x=this.getValueOfPropertyAt(u,0,n),y=this.getValueOfPropertyAt(u,0,Jn),N=this.getValueOfPropertyAt(u,0,Bc),A=x,k=y,E=N;const R=r+f*(1-this._fontSizeFraction);let O=this.getHeightOfChar(u,0),H=this.getValueOfPropertyAt(u,0,"deltaY");for(let T=0,X=p.length;T<X;T++){const B=this.__charBounds[u][T];A=this.getValueOfPropertyAt(u,T,n),k=this.getValueOfPropertyAt(u,T,Jn),E=this.getValueOfPropertyAt(u,T,Bc);const ee=this.getHeightOfChar(u,T),G=this.getValueOfPropertyAt(u,T,"deltaY");if(s&&A&&k){const te=this.fontSize*E/1e3;e.save(),e.fillStyle=y,e.translate(B.renderLeft,B.renderTop),e.rotate(B.angle),e.fillRect(-B.kernedWidth/2,c*ee+G-o*te,B.kernedWidth,te),e.restore()}else if((A!==x||k!==y||ee!==O||E!==N||G!==H)&&w>0){const te=this.fontSize*N/1e3;let V=i+b+g;this.direction==="rtl"&&(V=this.width-V-w),x&&y&&N&&(e.fillStyle=y,e.fillRect(V,R+c*O+H-o*te,w,te)),g=B.left,w=B.width,x=A,N=E,y=k,O=ee,H=G}else w+=B.kernedWidth}let K=i+b+g;this.direction==="rtl"&&(K=this.width-K-w),e.fillStyle=k;const D=this.fontSize*E/1e3;A&&k&&E&&e.fillRect(K,R+c*O+H-o*D,w-a,D),r+=h}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:n=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const a=e.includes("'")||e.includes('"')||e.includes(",")||zr.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[n,r,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),a].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return CS(e)}_splitTextIntoLines(e){const n=e.split(this._reNewline),r=new Array(n.length),i=[`
`];let s=[];for(let a=0;a<n.length;a++)r[a]=this.graphemeSplit(n[a]),s=s.concat(r[a],i);return s.pop(),{_unwrappedLines:r,lines:n,graphemeText:s,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fe(fe({},super.toObject([...V8,...e])),{},{styles:EV(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,n){const{textLayoutProperties:r}=this.constructor;super.set(e,n);let i=!1,s=!1;if(typeof e=="object")for(const a in e)a==="path"&&this.setPathInfo(),i=i||r.includes(a),s=s||a==="path";else i=r.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,n,r){const i=yo(e,zr.ATTRIBUTE_NAMES,r),s=fe(fe({},n),i),{textAnchor:a=Vt,textDecoration:o="",dx:c=0,dy:u=0,top:d=0,left:h=0,fontSize:p=dS,strokeWidth:f=1}=s,b=vn(s,qG),g=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),fe({left:h+c,top:d+u,underline:o.includes("underline"),overline:o.includes("overline"),linethrough:o.includes("line-through"),strokeWidth:0,fontSize:p},b)),w=g.getScaledHeight()/g.height,x=((g.height+g.strokeWidth)*g.lineHeight-g.height)*w,y=g.getScaledHeight()+x;let N=0;return a===Nt&&(N=g.getScaledWidth()/2),a===Rn&&(N=g.getScaledWidth()),g.set({left:g.left-N,top:g.top-(y-g.fontSize*(.07+g._fontSizeFraction))/g.lineHeight,strokeWidth:f}),g}static fromObject(e){return this._fromObject(fe(fe({},e),{},{styles:OV(e.styles||{},e.text)}),{extraParam:"text"})}}ue(zr,"textLayoutProperties",H8),ue(zr,"cacheProperties",[...xo,...V8]),ue(zr,"ownDefaults",HH),ue(zr,"type","Text"),ue(zr,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),ue(zr,"ATTRIBUTE_NAMES",zl.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),J8(zr,[class extends B8{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),n=this.path;return n?e+n._createBaseSVGMarkup(n._toSVG(),{reviver:t,withShadow:!0,additionalTransform:yp(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:n}=t;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(BG,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const n=[],r=[];let i,s=t;this.backgroundColor&&r.push(...Py(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let a=0,o=this._textLines.length;a<o;a++)i=this._getLineLeftOffset(a),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(r,a,e+i,s),this._setSVGTextLineText(n,a,e+i,s),s+=this.getHeightOfLine(a);return{textSpans:n,textBgRects:r}}_createTextCharSpan(t,e,n,r,i){const s=It.NUM_FRACTION_DIGITS,a=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(zG)),o=a?'style="'.concat(a,'"'):"",c=e.deltaY,u=c?' dy="'.concat(ln(c,s),'" '):"",{angle:d,renderLeft:h,renderTop:p,width:f}=i;let b="";if(h!==void 0){const g=f/2;d&&(b=' rotate="'.concat(ln(mo(d),s),'"'));const w=wh({angle:mo(d)});w[4]=h,w[5]=p;const x=new _e(-g,0).transform(w);n=x.x,r=x.y}return'<tspan x="'.concat(ln(n,s),'" y="').concat(ln(r,s),'" ').concat(u).concat(b).concat(o,">").concat(AV(t),"</tspan>")}_setSVGTextLineText(t,e,n,r){const i=this.getHeightOfLine(e),s=this.textAlign.includes(sa),a=this._textLines[e];let o,c,u,d,h,p="",f=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let b=0,g=a.length-1;b<=g;b++)h=b===g||this.charSpacing||this.path,p+=a[b],u=this.__charBounds[e][b],f===0?(n+=u.kernedWidth-u.width,f+=u.width):f+=u.kernedWidth,s&&!h&&this._reSpaceAndTab.test(a[b])&&(h=!0),h||(o=o||this.getCompleteStyleDeclaration(e,b),c=this.getCompleteStyleDeclaration(e,b+1),h=_S(o,c,!0)),h&&(d=this._getStyleDeclaration(e,b),t.push(this._createTextCharSpan(p,d,n,r,u)),p="",o=c,this.direction==="rtl"?n-=f:n+=f,f=0)}_setSVGTextLineBg(t,e,n,r){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let a,o=0,c=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let d=0;d<i.length;d++){const{left:h,width:p,kernedWidth:f}=this.__charBounds[e][d];a=this.getValueOfPropertyAt(e,d,"textBackgroundColor"),a!==u?(u&&t.push(...Py(u,n+c,r,o,s)),c=h,o=p,u=a):o+=f}a&&t.push(...Py(u,n+c,r,o,s))}_getSVGLineTopOffset(t){let e,n=0;for(e=0;e<t;e++)n+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(ln(this.textDecorationThickness*this.getObjectScaling().y/10,It.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:n,strokeWidth:r,stroke:i,fill:s,fontSize:a,fontStyle:o,fontWeight:c,deltaY:u,textDecorationThickness:d,linethrough:h,overline:p,underline:f}=t,b=this.getSvgTextDecoration({underline:f??this.underline,overline:p??this.overline,linethrough:h??this.linethrough}),g=d||this.textDecorationThickness;return[i?bp(oi,i):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",a?"font-size: ".concat(a,"px; "):"",o?"font-style: ".concat(o,"; "):"",c?"font-weight: ".concat(c,"; "):"",b?"text-decoration: ".concat(b,"; text-decoration-thickness: ").concat(ln(g*this.getObjectScaling().y/10,It.NUM_FRACTION_DIGITS),"%; "):"",s?bp(Jn,s):"",u?"baseline-shift: ".concat(-u,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),Ke.setClass(zr),Ke.setSVGClass(zr);class UG{constructor(e){ue(this,"target",void 0),ue(this,"__mouseDownInPlace",!1),ue(this,"__dragStartFired",!1),ue(this,"__isDraggingOver",!1),ue(this,"__dragStartSelection",void 0),ue(this,"__dragImageDisposer",void 0),ue(this,"_dispose",void 0),this.target=e;const n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{n.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const n=this.target,r=n.getSelectionStartFromPointer(e);return n.isEditing&&r>=n.selectionStart&&r<=n.selectionEnd&&n.selectionStart<n.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const n=this.isActive();return n&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,n}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,n){var r;let{selectionStart:i,selectionEnd:s}=n;const a=this.target,o=a.canvas,c=new _e(a.flipX?-1:1,a.flipY?-1:1),u=a._getCursorBoundaries(i),d=new _e(u.left+u.leftOffset,u.top+u.topOffset).multiply(c).transform(a.calcTransformMatrix()),h=o.getScenePoint(e).subtract(d),p=a.getCanvasRetinaScaling(),f=a.getBoundingRect(),b=d.subtract(new _e(f.left,f.top)),g=o.viewportTransform,w=b.add(h).transform(g,!0),x=a.backgroundColor,y=NS(a.styles);a.backgroundColor="";const N={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(N,0,i),a.setSelectionStyles(N,s,a.text.length),a.dirty=!0;const A=a.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=x,a.styles=y,a.dirty=!0,Hb(A,{position:"fixed",left:"".concat(-A.width,"px"),border:ai,width:"".concat(A.width/p,"px"),height:"".concat(A.height/p,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{A.remove()},_s(e.target||this.target.hiddenTextarea).body.appendChild(A),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(A,w.x,w.y)}onDragStart(e){this.__dragStartFired=!0;const n=this.target,r=this.isActive();if(r&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:n.selectionStart,selectionEnd:n.selectionEnd},s=n._text.slice(i.selectionStart,i.selectionEnd).join(""),a=fe({text:n.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:n.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return n.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const n=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return n<r.selectionStart||n>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:n}=e;const r=this.targetCanDrop(n);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:n}=e,r=this.targetCanDrop(n);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(n.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var n;const{e:r}=e,i=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let s=(n=r.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain");if(s&&!i){const a=this.target,o=a.canvas;let c=a.getSelectionStartFromPointer(r);const{styles:u}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},d=s[Math.max(0,s.length-1)],h=0;if(this.__dragStartSelection){const p=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;c>p&&c<=f?c=p:c>f&&(c-=f-p),a.removeChars(p,f),delete this.__dragStartSelection}a._reNewline.test(d)&&(a._reNewline.test(a._text[c])||c===a._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(s,u,c),o.setActiveObject(a),a.enterEditing(r),a.selectionStart=Math.min(c+h,a._text.length),a.selectionEnd=Math.min(a.selectionStart+s.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(hv,{index:c+h,action:"drop"}),o.fire("text:changed",{target:a}),o.contextTopDirty=!0,o.requestRenderAll()}}dragEndHandler(e){let{e:n}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const i=this.target,s=this.target.canvas,{selectionStart:a,selectionEnd:o}=this.__dragStartSelection,c=((r=n.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||ai;c===ai?(i.selectionStart=a,i.selectionEnd=o,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),c==="move"&&(i.removeChars(a,o),i.selectionStart=i.selectionEnd=a,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(hv,{index:a,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const bN=/[ \n\.,;!\?\-]/;class HG extends zr{constructor(){super(...arguments),ue(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:n,duration:r,delay:i,onComplete:s}=e;return W8({startValue:this._currentCursorOpacity,endValue:n,duration:r,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:a=>{this._currentCursorOpacity=a,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(n=>{n&&!n.isDone()&&(e=!0,n.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let n=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r--;for(;/\S/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findWordBoundaryRight(e){let n=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}findLineBoundaryLeft(e){let n=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findLineBoundaryRight(e){let n=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}searchWordBoundary(e,n){const r=this._text;let i=e>0&&this._reSpace.test(r[e])&&(n===-1||!hS.test(r[e-1]))?e-1:e,s=r[i];for(;i>0&&i<r.length&&!bN.test(s);)i+=n,s=r[i];return n===-1&&bN.test(s)&&i++,i}selectWord(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.searchWordBoundary(e,-1),i=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const n=this.hiddenTextarea;_s(n).activeElement!==n&&n.focus();const r=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&i!==s||i!==r&&s!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,n,r){const i=r.slice(0,e),s=this.graphemeSplit(i).length;if(e===n)return{selectionStart:s,selectionEnd:s};const a=r.slice(e,n);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(a).length}}fromGraphemeToStringSelection(e,n,r){const i=r.slice(0,e).join("").length;return e===n?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+r.slice(e,n).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const n=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,n=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex,a=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,o=n.leftOffset,c=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,d=u.width/c,h=u.height/c,p=d-a,f=h-a,b=new _e(n.left+o,n.top+n.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new _e(u.clientWidth/d,u.clientHeight/h));return b.x<0&&(b.x=0),b.x>p&&(b.x=p),b.y<0&&(b.y=0),b.y>f&&(b.y=f),b.x+=this.canvas._offset.left,b.y+=this.canvas._offset.top,{left:"".concat(b.x,"px"),top:"".concat(b.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(fv),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:a}=this.get2DCursorLocation(n,!0);if(r!==s){if(this.styles[r])for(let o=i;o<this._unwrappedTextLines[r].length;o++)delete this.styles[r][o];if(this.styles[s])for(let o=a;o<this._unwrappedTextLines[s].length;o++){const c=this.styles[s][o];c&&(this.styles[r]||(this.styles[r]={}),this.styles[r][i+o-a]=c)}for(let o=r+1;o<=s;o++)delete this.styles[o];this.shiftLineStyles(s,r-s)}else if(this.styles[r]){const o=this.styles[r],c=a-i;for(let u=i;u<a;u++)delete o[u];for(const u in this.styles[r]){const d=parseInt(u,10);d>=a&&(o[d-c]=o[u],delete o[u])}}}shiftLineStyles(e,n){const r=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+n]=r[s],r[s-n]||delete this.styles[s])}}insertNewlineStyleObject(e,n,r,i){const s={},a=this._unwrappedTextLines[e].length,o=a===n;let c=!1;r||(r=1),this.shiftLineStyles(e,r);const u=this.styles[e]?this.styles[e][n===0?n:n-1]:void 0;for(const h in this.styles[e]){const p=parseInt(h,10);p>=n&&(c=!0,s[p-n]=this.styles[e][h],o&&n===0||delete this.styles[e][h])}let d=!1;for(c&&!o&&(this.styles[e+r]=s,d=!0),(d||a>n)&&r--;r>0;)i&&i[r-1]?this.styles[e+r]={0:fe({},i[r-1])}:u?this.styles[e+r]={0:fe({},u)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,n,r,i){this.styles||(this.styles={});const s=this.styles[e],a=s?fe({},s):{};r||(r=1);for(const c in a){const u=parseInt(c,10);u>=n&&(s[u+r]=a[u],a[u-r]||delete s[u])}if(this._forceClearCache=!0,i){for(;r--;)Object.keys(i[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=fe({},i[r]));return}if(!s)return;const o=s[n?n-1:1];for(;o&&r--;)this.styles[e][n+r]=fe({},o)}insertNewStyleBlock(e,n,r){const i=this.get2DCursorLocation(n,!0),s=[0];let a,o=0;for(let c=0;c<e.length;c++)e[c]===`
`?(o++,s[o]=0):s[o]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],r),r=r&&r.slice(s[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],o),a=1;a<o;a++)s[a]>0?this.insertCharStyleObject(i.lineIndex+a,0,s[a],r):r&&this.styles[i.lineIndex+a]&&r[0]&&(this.styles[i.lineIndex+a][0]=r[0]),r=r&&r.slice(s[a]+1);s[a]>0&&this.insertCharStyleObject(i.lineIndex+a,0,s[a],r)}removeChars(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,n),this._text.splice(e,n-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;i>r&&this.removeStyleFromTo(r,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,r,n),this._text=[...this._text.slice(0,r),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,n,r){r<=e?(n===e?this._selectionDirection=Vt:this._selectionDirection===Rn&&(this._selectionDirection=Vt,this.selectionEnd=e),this.selectionStart=r):r>e&&r<n?this._selectionDirection===Rn?this.selectionEnd=r:this.selectionStart=r:(n===e?this._selectionDirection=Rn:this._selectionDirection===Vt&&(this._selectionDirection=Rn,this.selectionStart=n),this.selectionEnd=r)}}class VG extends HG{initHiddenTextarea(){const e=this.canvas&&_s(this.canvas.getElement())||xh(),n=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(a=>{let[o,c]=a;return n.setAttribute(o,c)});const{top:r,left:i,fontSize:s}=this._calcTextareaPosition();n.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(n),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(a=>{let[o,c]=a;return n.addEventListener(o,this[c].bind(this))}),this.hiddenTextarea=n}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in n)this[n[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const n=this.fromPaste,{value:r,selectionStart:i,selectionEnd:s}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const a=()=>{this.updateFromTextArea(),this.fire(hv),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void a();const o=this._splitTextIntoLines(r).graphemeText,c=this._text.length,u=o.length,d=this.selectionStart,h=this.selectionEnd,p=d!==h;let f,b,g,w,x=u-c;const y=this.fromStringToGraphemeSelection(i,s,r),N=d>y.selectionStart;p?(b=this._text.slice(d,h),x+=h-d):u<c&&(b=N?this._text.slice(h+x,h):this._text.slice(d,d-x));const A=o.slice(y.selectionEnd-x,y.selectionEnd);if(b&&b.length&&(A.length&&(f=this.getSelectionStyles(d,d+1,!1),f=A.map(()=>f[0])),p?(g=d,w=h):N?(g=h-b.length,w=h):(g=h,w=h+b.length),this.removeStyleFromTo(g,w)),A.length){const{copyPasteData:k}=va();n&&A.join("")===k.copiedText&&!It.disableStyleCopyPaste&&(f=k.copiedTextStyle),this.insertNewStyleBlock(A,d,f)}a()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:n}=e;const{selectionStart:r,selectionEnd:i}=n;this.compositionStart=r,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=va();e.copiedText=this.getSelectedText(),It.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,n){let r,i=this._getLineLeftOffset(e);return n>0&&(r=this.__charBounds[e][n-1],i+=r.left+r.width),i}getDownCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),c=this._getIndexOnLine(s+1,o);return this._textLines[s].slice(a).length+c+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,n){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-r;const a=i.charIndex,o=this._getWidthBeforeCursor(s,a),c=this._getIndexOnLine(s-1,o),u=this._textLines[s].slice(0,a),d=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+c-u.length+(1-d)}_getIndexOnLine(e,n){const r=this._textLines[e];let i,s,a=this._getLineLeftOffset(e),o=0;for(let c=0,u=r.length;c<u;c++)if(i=this.__charBounds[e][c].width,a+=i,a>n){s=!0;const d=a-i,h=a,p=Math.abs(d-n);o=Math.abs(h-n)<p?c:c-1;break}return s||(o=r.length-1),o}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,n){const r=this["get".concat(e,"CursorOffset")](n,this._selectionDirection===Rn);if(n.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const i=this.text.length;this.selectionStart=th(0,this.selectionStart,i),this.selectionEnd=th(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const n=this._selectionDirection===Vt?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,n,r){let i;if(e.altKey)i=this["findWordBoundary".concat(r)](this[n]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[n]+=r==="Left"?-1:1,!0;i=this["findLineBoundary".concat(r)](this[n])}return i!==void 0&&this[n]!==i&&(this[n]=i,!0)}_moveLeft(e,n){return this._move(e,n,"Left")}_moveRight(e,n){return this._move(e,n,"Right")}moveCursorLeftWithoutShift(e){let n=!0;return this._selectionDirection=Vt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,n}moveCursorLeftWithShift(e){return this._selectionDirection===Rn&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Vt,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,n){const r="moveCursor".concat(e).concat(n.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Vt&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Rn,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let n=!0;return this._selectionDirection=Rn,this.selectionStart===this.selectionEnd?(n=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n}}const wN=t=>!!t.button;class GG extends VG{constructor(){super(...arguments),ue(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new UG(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:n,alreadySelected:r}=e;this.canvas&&this.editable&&!wN(n)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(n)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(n)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(e){let{e:n,transform:r}=e;const i=this.draggableTextDelegate.end(n);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||wN(n)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(n),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,i,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const n=this.canvas.getScenePoint(e).transform(Ts(this.calcTransformMatrix())).add(new _e(-this._getLeftOffset(),-this._getTopOffset()));let r=0,i=0,s=0;for(let u=0;u<this._textLines.length&&r<=n.y;u++)r+=this.getHeightOfLine(u),s=u,u>0&&(i+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));let a=Math.abs(this._getLineLeftOffset(s));const o=this._textLines[s].length,c=this.__charBounds[s];for(let u=0;u<o;u++){const d=a+c[u].kernedWidth;if(n.x<=d){Math.abs(n.x-d)<=Math.abs(n.x-a)&&i++;break}a=d,i++}return Math.min(this.flipX?o-i:i,this._text.length)}}const bg="moveCursorUp",wg="moveCursorDown",Sg="moveCursorLeft",jg="moveCursorRight",Ng="exitEditing",SN=(t,e)=>{const n=e.getRetinaScaling();t.setTransform(n,0,0,n,0,0);const r=e.viewportTransform;t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},YG=fe({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Ng,27:Ng,33:bg,34:wg,35:jg,36:Sg,37:Sg,38:bg,39:jg,40:wg},keysMapRtl:{9:Ng,27:Ng,33:bg,34:wg,35:Sg,36:jg,37:jg,38:bg,39:Sg,40:wg},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class ca extends GG{static getDefaults(){return fe(fe({},super.getDefaults()),ca.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,n){super(e,fe(fe({},ca.ownDefaults),n)),this.initBehavior()}_set(e,n){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=n,this):(e==="canvas"&&(this.canvas instanceof Vb&&this.canvas.textEditingManager.remove(this),n instanceof Vb&&n.textEditingManager.add(this)),super._set(e,n))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,n){this[e]!==n&&(this._fireSelectionChanged(),this[e]=n),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,n,r)}setSelectionStyles(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,n,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,n)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const n=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=n,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const n=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),i=r.length>0;let s,a=e;if(i){s=is(e.canvas),a=s.getContext("2d"),SN(a,this.canvas);const o=this.calcTransformMatrix();a.transform(o[0],o[1],o[2],o[3],o[4],o[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(a,n):this.renderCursor(a,n),i)for(const o of r){const c=o.clipPath,u=is(e.canvas),d=u.getContext("2d");if(SN(d,this.canvas),!c.absolutePositioned){const h=o.calcTransformMatrix();d.transform(h[0],h[1],h[2],h[3],h[4],h[5])}c.transform(d),c.drawObject(d,!0,{}),this.drawClipPathOnCache(a,c,u)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(s,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let n=this;for(;n;)n.clipPath&&e.push(n),n=n.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,n);return{left:r,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,n){return n?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let n=0,r=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let u=0;u<s;u++)n+=this.getHeightOfLine(u);const a=this._getLineLeftOffset(s),o=this.__charBounds[s][i];o&&(r=o.left),this.charSpacing!==0&&i===this._textLines[s].length&&(r-=this._getWidthOfCharSpacing());const c={top:n,left:a+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===Rn||this.textAlign===sa||this.textAlign===Vf?c.left*=-1:this.textAlign===Vt||this.textAlign===xv?c.left=a-(r>0?r:0):this.textAlign!==Nt&&this.textAlign!==Gf||(c.left=a-(r>0?r:0))),c}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,n){this._renderCursor(e,n,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex>0?r.charIndex-1:0,a=this.getValueOfPropertyAt(i,s,"fontSize"),o=this.getObjectScaling().x*this.canvas.getZoom(),c=this.cursorWidth/o,u=this.getValueOfPropertyAt(i,s,"deltaY"),d=n.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:n.left+n.leftOffset-c/2,top:d+n.top+u,width:c,height:a}}_renderCursor(e,n,r){const{color:i,opacity:s,left:a,top:o,width:c,height:u}=this.getCursorRenderingData(r,n);e.fillStyle=i,e.globalAlpha=s,e.fillRect(a,o,c,u)}renderSelection(e,n){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,n)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const n=this.getSelectionStartFromPointer(e);this.renderCursorAt(n)}_renderSelection(e,n,r){const i=n.selectionStart,s=n.selectionEnd,a=this.textAlign.includes(sa),o=this.get2DCursorLocation(i),c=this.get2DCursorLocation(s),u=o.lineIndex,d=c.lineIndex,h=o.charIndex<0?0:o.charIndex,p=c.charIndex<0?0:c.charIndex;for(let f=u;f<=d;f++){const b=this._getLineLeftOffset(f)||0;let g=this.getHeightOfLine(f),w=0,x=0,y=0;if(f===u&&(x=this.__charBounds[u][h].left),f>=u&&f<d)y=a&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===d)if(p===0)y=this.__charBounds[d][p].left;else{const R=this._getWidthOfCharSpacing();y=this.__charBounds[d][p-1].left+this.__charBounds[d][p-1].width-R}w=g,(this.lineHeight<1||f===d&&this.lineHeight>1)&&(g/=this.lineHeight);let N=r.left+b+x,A=g,k=0;const E=y-x;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",A=1,k=g):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Rn||this.textAlign===sa||this.textAlign===Vf?N=this.width-N-E:this.textAlign===Vt||this.textAlign===xv?N=r.left+b-y:this.textAlign!==Nt&&this.textAlign!==Gf||(N=r.left+b-y)),e.fillRect(N,r.top+r.topOffset+k,E,A),r.topOffset+=w}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Jn)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),n=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:n}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}ue(ca,"ownDefaults",YG),ue(ca,"type","IText"),Ke.setClass(ca),Ke.setClass(ca,"i-text");class cc extends ca{static getDefaults(){return fe(fe({},super.getDefaults()),cc.ownDefaults)}constructor(e,n){super(e,fe(fe({},cc.ownDefaults),n))}static createControls(){return{controls:jV()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(sa)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let n=0,r=0,i=0;const s={};for(let a=0;a<e.graphemeLines.length;a++)e.graphemeText[i]===`
`&&a>0?(r=0,i++,n++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&a>0&&(r++,i++),s[a]={line:n,offset:r},i+=e.graphemeLines[a].length,r+=e.graphemeLines[a].length;return s}styleHas(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[n];r&&(n=r.line)}return super.styleHas(e,n)}isEmptyStyles(e){if(!this.styles)return!0;let n,r=0,i=e+1,s=!1;const a=this._styleMap[e],o=this._styleMap[e+1];a&&(e=a.line,r=a.offset),o&&(i=o.line,s=i===e,n=o.offset);const c=e===void 0?this.styles:{line:this.styles[e]};for(const u in c)for(const d in c[u]){const h=parseInt(d,10);if(h>=r&&(!s||h<n))for(const p in c[u][d])return!1}return!0}_getStyleDeclaration(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,n=r.offset+n}return super._getStyleDeclaration(e,n)}_setStyleDeclaration(e,n,r){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+n,r)}_deleteStyleDeclaration(e,n){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+n)}_getLineStyle(e){const n=this._styleMap[e];return!!this.styles[n.line]}_setLineStyle(e){const n=this._styleMap[e];super._setLineStyle(n.line)}_wrapText(e,n){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<r.wordsData.length;s++)i.push(...this._wrapLine(s,n,r));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const n=this.splitByGrapheme,r=n?"":" ";let i=0;return{wordsData:e.map((s,a)=>{let o=0;const c=n?this.graphemeSplit(s):this.wordSplit(s);return c.length===0?[{word:[],width:0}]:c.map(u=>{const d=n?[u]:this.graphemeSplit(u),h=this._measureWord(d,a,o);return i=Math.max(h,i),o+=d.length+r.length,{word:d,width:h}})}),largestWordWidth:i}}_measureWord(e,n){let r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let a=0,o=e.length;a<o;a++)s+=this._getGraphemeBox(e[a],n,a+i,r,!0).kernedWidth,r=e[a];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,n,r){let{largestWordWidth:i,wordsData:s}=r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=this._getWidthOfCharSpacing(),c=this.splitByGrapheme,u=[],d=c?"":" ";let h=0,p=[],f=0,b=0,g=!0;n-=a;const w=Math.max(n,i,this.dynamicMinWidth),x=s[e];let y;for(f=0,y=0;y<x.length;y++){const{word:N,width:A}=x[y];f+=N.length,h+=b+A-o,h>w&&!g?(u.push(p),p=[],h=A,g=!0):h+=o,g||c||p.push(d),p=p.concat(N),b=c?0:this._measureWord([d],e,f),f++,g=!1}return y&&u.push(p),i+a>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+a),u}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,n){return this.splitByGrapheme&&!n?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const n=super._splitTextIntoLines(e),r=this._wrapText(n.lines,this.width),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r[s].join("");return n.lines=i,n.graphemeLines=r,n}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const n in this._styleMap){const r=parseInt(n,10);if(this._textLines[r]){const i=this._styleMap[n].line;e.set("".concat(i),!0)}}for(const n in this.styles)e.has(n)||delete this.styles[n]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}ue(cc,"type","Textbox"),ue(cc,"textLayoutProperties",[...ca.textLayoutProperties,"width"]),ue(cc,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Ke.setClass(cc);class jN extends Ax{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,n){const{target:r}=e,{clipPath:i,group:s}=r;if(!i||!this.shouldPerformLayout(e))return;const{width:a,height:o}=eo(nO(r,i)),c=new _e(a,o);if(i.absolutePositioned)return{center:yd(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:c};{const u=i.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:d=new _e,correction:h=new _e}=this.calcBoundingBox(n,e)||{};return{center:d.add(u),correction:h.subtract(u),size:c}}return{center:r.getRelativeCenterPoint().add(u),size:c}}}}ue(jN,"type","clip-path"),Ke.setClass(jN);class NN extends Ax{getInitialSize(e,n){let{target:r}=e,{size:i}=n;return new _e(r.width||i.x,r.height||i.y)}}ue(NN,"type","fixed"),Ke.setClass(NN);class XG extends Sp{subscribeTargets(e){const n=e.target;e.targets.reduce((r,i)=>(i.parent&&r.add(i.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[n]})})}unsubscribeTargets(e){const n=e.target,r=n.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!r.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[n]})})}}class uc extends Tc{static getDefaults(){return fe(fe({},super.getDefaults()),uc.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,uc.ownDefaults),this.setOptions(n);const{left:r,top:i,layoutManager:s}=n;this.groupInit(e,{left:r,top:i,layoutManager:s??new XG})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...n):n.forEach(i=>{const s=this._objects.findIndex(o=>o.isInFrontOf(i)),a=s===-1?this.size():s;this.insertAt(a,i)})}canEnterGroup(e){return this.getObjects().some(n=>n.isDescendantOf(e)||e.isDescendantOf(n))?(kl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,n){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,n)}exitGroup(e,n){this._exitGroup(e,n),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,n){super._onAfterObjectsChange(e,n);const r=new Set;n.forEach(i=>{const{parent:s}=i;s&&r.add(s)}),e===TS?r.forEach(i=>{i._onAfterObjectsChange(yv,n)}):r.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,n,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=fe(fe({hasControls:!1},r),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,n),e.restore()}}ue(uc,"type","ActiveSelection"),ue(uc,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Ke.setClass(uc),Ke.setClass(uc,"activeSelection");class WG{constructor(){ue(this,"resources",{})}applyFilters(e,n,r,i,s){const a=s.getContext("2d");if(!a)return;a.drawImage(n,0,0,r,i);const o={sourceWidth:r,sourceHeight:i,imageData:a.getImageData(0,0,r,i),originalEl:n,originalImageData:a.getImageData(0,0,r,i),canvasEl:s,ctx:a,filterBackend:this};e.forEach(u=>{u.applyTo(o)});const{imageData:c}=o;return c.width===r&&c.height===i||(s.width=c.width,s.height=c.height),a.putImageData(c,0,0),o}}class xO{constructor(){let{tileSize:e=It.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ue(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),ue(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,n){this.dispose(),this.createWebGLCanvas(e,n)}createWebGLCanvas(e,n){const r=is({width:e,height:n}),i=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=r,this.gl=i)}applyFilters(e,n,r,i,s,a){const o=this.gl,c=s.getContext("2d");if(!o||!c)return;let u;a&&(u=this.getCachedTexture(a,n));const d={originalWidth:n.width||n.naturalWidth||0,originalHeight:n.height||n.naturalHeight||0,sourceWidth:r,sourceHeight:i,destinationWidth:r,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,r,i,u?void 0:n),targetTexture:this.createTexture(o,r,i),originalTexture:u||this.createTexture(o,r,i,u?void 0:n),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},h=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,h),e.forEach(p=>{p&&p.applyTo(d)}),function(p){const f=p.targetCanvas,b=f.width,g=f.height,w=p.destinationWidth,x=p.destinationHeight;b===w&&g===x||(f.width=w,f.height=x)}(d),this.copyGLTo2D(o,d),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(d.sourceTexture),o.deleteTexture(d.targetTexture),o.deleteFramebuffer(h),c.setTransform(1,0,0,1,0,0),d}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,n,r,i,s){const{NEAREST:a,TEXTURE_2D:o,RGBA:c,UNSIGNED_BYTE:u,CLAMP_TO_EDGE:d,TEXTURE_MAG_FILTER:h,TEXTURE_MIN_FILTER:p,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:b}=e,g=e.createTexture();return e.bindTexture(o,g),e.texParameteri(o,h,s||a),e.texParameteri(o,p,s||a),e.texParameteri(o,f,d),e.texParameteri(o,b,d),i?e.texImage2D(o,0,c,c,u,i):e.texImage2D(o,0,c,n,r,0,c,u,null),g}getCachedTexture(e,n,r){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,n.width,n.height,n,r);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,n){const r=e.canvas,i=n.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const a=r.height-i.height;s.drawImage(r,0,a,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,n){const r=n.targetCanvas.getContext("2d"),i=n.destinationWidth,s=n.destinationHeight,a=i*s*4;if(!r)return;const o=new Uint8Array(this.imageBuffer,0,a),c=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,o);const u=new ImageData(c,i,s);r.putImageData(u,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,n={renderer:"",vendor:""};if(!e)return n;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const i=e.getParameter(r.UNMASKED_RENDERER_WEBGL),s=e.getParameter(r.UNMASKED_VENDOR_WEBGL);i&&(n.renderer=i.toLowerCase()),s&&(n.vendor=s.toLowerCase())}return this.gpuInfo=n,n}}let Fy;function $G(){const{WebGLProbe:t}=va();return t.queryWebGL(po()),It.enableGLFiltering&&t.isSupported(It.textureSize)?new xO({tileSize:It.textureSize}):new WG}function Iy(){return!Fy&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Fy=$G()),Fy}const KG=["filters","resizeFilter","src","crossOrigin","type"],yO=["cropX","cropY"];class wi extends Or{static getDefaults(){return fe(fe({},super.getDefaults()),wi.ownDefaults)}constructor(e,n){super(),ue(this,"_lastScaleX",1),ue(this,"_lastScaleY",1),ue(this,"_filterScalingX",1),ue(this,"_filterScalingY",1),this.filters=[],Object.assign(this,wi.ownDefaults),this.setOptions(n),this.cacheKey="texture".concat(El()),this.setElement(typeof e=="string"?(this.canvas&&_s(this.canvas.getElement())||xh()).getElementById(e):e,n)}getElement(){return this._element}setElement(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),(n=e.classList)===null||n===void 0||n.add(wi.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const n=Iy(!1);n instanceof xO&&n.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const n=this[e];n&&va().dispose(n),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,-r),e.lineTo(n,-r),e.lineTo(n,r),e.lineTo(-n,r),e.lineTo(-n,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=[];return this.filters.forEach(r=>{r&&n.push(r.toObject())}),fe(fe({},super.toObject([...yO,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],n=this._element,r=-this.width/2,i=-this.height/2;let s=[],a=[],o="",c="";if(!n)return[];if(this.hasCrop()){const u=El();s.push('<clipPath id="imageCrop_'+u+`">
`,'	<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),o=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(c=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(n.width||n.naturalWidth,'" height="').concat(n.height||n.naturalHeight,'"').concat(c).concat(o,`></image>
`)),this.stroke||this.strokeDashArray){const u=this.fill;this.fill=null,a=['	<rect x="'.concat(r,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=u}return s=this.paintFirst!==Jn?s.concat(a,e):s.concat(e,a),s}getSrc(e){const n=e?this._element:this._originalElement;return n?n.toDataURL?n.toDataURL():this.srcFromAttribute?n.getAttribute("src")||"":n.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:n,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x0(e,{crossOrigin:n,signal:r}).then(i=>{n!==void 0&&this.set({crossOrigin:n}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,n=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),i=r.x,s=r.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>n&&s>n)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const o=is(a),{width:c,height:u}=a;this._element=o,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,Iy().applyFilters([e],a,c,u,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const n=this._originalElement,r=n.naturalWidth||n.width,i=n.naturalHeight||n.height;if(this._element===this._originalElement){const s=is({width:r,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,i),this._lastScaleX=1,this._lastScaleY=1);Iy().applyFilters(e,this._originalElement,r,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const n=this._element;if(!n)return;const r=this._filterScalingX,i=this._filterScalingY,s=this.width,a=this.height,o=Math.max(this.cropX,0),c=Math.max(this.cropY,0),u=n.naturalWidth||n.width,d=n.naturalHeight||n.height,h=o*r,p=c*i,f=Math.min(s*r,u-h),b=Math.min(a*i,d-p),g=-s/2,w=-a/2,x=Math.min(s,u/r-o),y=Math.min(a,d/i-c);n&&e.drawImage(n,h,p,f,b,g,w,x,y)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=n||r.height}parsePreserveAspectRatioAttribute(){const e=qH(this.preserveAspectRatio||""),n=this.width,r=this.height,i={width:n,height:r};let s,a=this._element.width,o=this._element.height,c=1,u=1,d=0,h=0,p=0,f=0;return!e||e.alignX===ai&&e.alignY===ai?(c=n/a,u=r/o):(e.meetOrSlice==="meet"&&(c=u=rG(this._element,i),s=(n-a*c)/2,e.alignX==="Min"&&(d=-s),e.alignX==="Max"&&(d=s),s=(r-o*u)/2,e.alignY==="Min"&&(h=-s),e.alignY==="Max"&&(h=s)),e.meetOrSlice==="slice"&&(c=u=iG(this._element,i),s=a-n/c,e.alignX==="Mid"&&(p=s/2),e.alignX==="Max"&&(p=s),s=o-r/u,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),a=n/c,o=r/u)),{width:a,height:o,scaleX:c,scaleY:u,offsetLeft:d,offsetTop:h,cropX:p,cropY:f}}static fromObject(e,n){let{filters:r,resizeFilter:i,src:s,crossOrigin:a,type:o}=e,c=vn(e,KG);return Promise.all([x0(s,fe(fe({},n),{},{crossOrigin:a})),r&&xp(r,n),i&&xp([i],n),jx(c,n)]).then(u=>{let[d,h=[],[p]=[],f={}]=u;return new this(d,fe(fe({},c),{},{src:s,filters:h,resizeFilter:p},f))})}static fromURL(e){let{crossOrigin:n=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return x0(e,{crossOrigin:n,signal:r}).then(s=>new this(s,i))}static async fromElement(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i=yo(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(i["xlink:href"]||i.href,n,i).catch(s=>(kl("log","Unable to parse Image",s),null))}}ue(wi,"type","Image"),ue(wi,"cacheProperties",[...xo,...yO]),ue(wi,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),ue(wi,"CSS_CANVAS","canvas-img"),ue(wi,"ATTRIBUTE_NAMES",[...zl,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Ke.setClass(wi),Ke.setSVGClass(wi);Cx(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const kx=t=>t.webgl!==void 0,kS="precision highp float",QG=`
    `.concat(kS,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),ZG=["type"],JG=["type"],eY=new RegExp(kS,"g");class tr{get type(){return this.constructor.type}constructor(){let e=vn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ZG);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return QG}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=va();i!=="highp"&&(n=n.replace(eY,kS.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER),o=e.createProgram();if(!s||!a||!o)throw new la("Vertex, fragment shader or program creation error");if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new la("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new la("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.attachShader(o,s),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new la('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(o)));const c=this.getUniformLocations(e,o)||{};return c.uStepW=e.getUniformLocation(o,"uStepW"),c.uStepH=e.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:this.getAttributeLocations(e,o),uniformLocations:c}}getAttributeLocations(e,n){return{aPosition:e.getAttribLocation(n,"aPosition")}}getUniformLocations(e,n){const r=this.constructor.uniformLocations,i={};for(let s=0;s<r.length;s++)i[r[s]]=e.getUniformLocation(n,r[s]);return i}sendAttributeData(e,n,r){const i=n.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const n=e.context;if(e.passes>1){const r=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===i||(n.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(n,r,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.targetTexture,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish()}_swapTextures(e){e.passes--,e.pass++;const n=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=n}isNeutralState(e){return!1}applyTo(e){kx(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const n=this.getCacheKey();return e.programCache[n]||(e.programCache[n]=this.createProgram(e.context)),e.programCache[n]}applyToWebGL(e){const n=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?n.bindTexture(n.TEXTURE_2D,e.originalTexture):n.bindTexture(n.TEXTURE_2D,e.sourceTexture),n.useProgram(r.program),this.sendAttributeData(n,r.attributeLocations,e.aPosition),n.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),n.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(n,r.uniformLocations),n.viewport(0,0,e.destinationWidth,e.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,n,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,n),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,n){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:n,sourceHeight:r}=e,i=is({width:n,height:r});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return fe({type:this.type},e.reduce((n,r)=>(n[r]=this[r],n),{}))}toJSON(){return this.toObject()}static async fromObject(e,n){return new this(vn(e,JG))}}ue(tr,"type","BaseFilter"),ue(tr,"uniformLocations",[]);const tY={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Cg extends tr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(tY[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:n}}=e;const r=new Oi(this.color).getSource(),i=this.alpha,s=r[0]*i,a=r[1]*i,o=r[2]*i,c=1-i;for(let u=0;u<n.length;u+=4){const d=n[u],h=n[u+1],p=n[u+2];let f,b,g;switch(this.mode){case"multiply":f=d*s/255,b=h*a/255,g=p*o/255;break;case"screen":f=255-(255-d)*(255-s)/255,b=255-(255-h)*(255-a)/255,g=255-(255-p)*(255-o)/255;break;case"add":f=d+s,b=h+a,g=p+o;break;case"difference":f=Math.abs(d-s),b=Math.abs(h-a),g=Math.abs(p-o);break;case"subtract":f=d-s,b=h-a,g=p-o;break;case"darken":f=Math.min(d,s),b=Math.min(h,a),g=Math.min(p,o);break;case"lighten":f=Math.max(d,s),b=Math.max(h,a),g=Math.max(p,o);break;case"overlay":f=s<128?2*d*s/255:255-2*(255-d)*(255-s)/255,b=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255,g=o<128?2*p*o/255:255-2*(255-p)*(255-o)/255;break;case"exclusion":f=s+d-2*s*d/255,b=a+h-2*a*h/255,g=o+p-2*o*p/255;break;case"tint":f=s+d*c,b=a+h*c,g=o+p*c}n[u]=f,n[u+1]=b,n[u+2]=g}}sendUniformData(e,n){const r=new Oi(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)}}ue(Cg,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),ue(Cg,"type","BlendColor"),ue(Cg,"uniformLocations",["uColor"]),Ke.setClass(Cg);const nY={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},rY=["type","image"];class _g extends tr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return nY[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const n=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(n,r,n.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(n,n.TEXTURE1)}createTexture(e,n){return e.getCachedTexture(n.cacheKey,n.getElement())}calculateMatrix(){const e=this.image,{width:n,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/n,-e.top/r,1]}applyTo2d(e){let{imageData:{data:n,width:r,height:i},filterBackend:{resources:s}}=e;const a=this.image;s.blendImage||(s.blendImage=po());const o=s.blendImage,c=o.getContext("2d");o.width!==r||o.height!==i?(o.width=r,o.height=i):c.clearRect(0,0,r,i),c.setTransform(a.scaleX,0,0,a.scaleY,a.left,a.top),c.drawImage(a.getElement(),0,0,r,i);const u=c.getImageData(0,0,r,i).data;for(let d=0;d<n.length;d+=4){const h=n[d],p=n[d+1],f=n[d+2],b=n[d+3],g=u[d],w=u[d+1],x=u[d+2],y=u[d+3];switch(this.mode){case"multiply":n[d]=h*g/255,n[d+1]=p*w/255,n[d+2]=f*x/255,n[d+3]=b*y/255;break;case"mask":n[d+3]=y}}}sendUniformData(e,n){const r=this.calculateMatrix();e.uniform1i(n.uImage,1),e.uniformMatrix3fv(n.uTransformMatrix,!1,r)}toObject(){return fe(fe({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,n){let{type:r,image:i}=e,s=vn(e,rY);return wi.fromObject(i,n).then(a=>new this(fe(fe({},s),{},{image:a})))}}ue(_g,"type","BlendImage"),ue(_g,"defaults",{mode:"multiply",alpha:1}),ue(_g,"uniformLocations",["uTransformMatrix","uImage"]),Ke.setClass(_g);class Ag extends tr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){kx(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;this.aspectRatio=r/i,this.horizontal=!0;let s=this.getBlurValue()*r;const a=new Uint8ClampedArray(n),o=15,c=4*r;for(let u=0;u<n.length;u+=4){let d=0,h=0,p=0,f=0,b=0;const g=u-u%c,w=g+c;for(let x=-14;x<o;x++){const y=x/o,N=4*Math.floor(s*y),A=1-Math.abs(y);let k=u+N;k<g?k=g:k>w&&(k=w);const E=n[k+3]*A;d+=n[k]*E,h+=n[k+1]*E,p+=n[k+2]*E,f+=E,b+=A}a[u]=d/f,a[u+1]=h/f,a[u+2]=p/f,a[u+3]=f/b}this.horizontal=!1,s=this.getBlurValue()*i;for(let u=0;u<a.length;u+=4){let d=0,h=0,p=0,f=0,b=0;const g=u%c,w=a.length-c+g;for(let x=-14;x<o;x++){const y=x/o,N=Math.floor(s*y)*c,A=1-Math.abs(y);let k=u+N;k<g?k=g:k>w&&(k=w);const E=a[k+3]*A;d+=a[k]*E,h+=a[k+1]*E,p+=a[k+2]*E,f+=E,b+=A}n[u]=d/f,n[u+1]=h/f,n[u+2]=p/f,n[u+3]=f/b}}sendUniformData(e,n){const r=this.chooseRightDelta();e.uniform2fv(n.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:n,aspectRatio:r}=this;return n?r>1&&(e=1/r):r<1&&(e=r),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}ue(Ag,"type","Blur"),ue(Ag,"defaults",{blur:0}),ue(Ag,"uniformLocations",["uDelta"]),Ke.setClass(Ag);class Tg extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.round(255*this.brightness);for(let i=0;i<n.length;i+=4)n[i]+=r,n[i+1]+=r,n[i+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,n){e.uniform1f(n.uBrightness,this.brightness)}}ue(Tg,"type","Brightness"),ue(Tg,"defaults",{brightness:0}),ue(Tg,"uniformLocations",["uBrightness"]),Ke.setClass(Tg);const bO={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class sd extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const n=e.imageData.data,r=this.matrix,i=this.colorsOnly;for(let s=0;s<n.length;s+=4){const a=n[s],o=n[s+1],c=n[s+2];if(n[s]=a*r[0]+o*r[1]+c*r[2]+255*r[4],n[s+1]=a*r[5]+o*r[6]+c*r[7]+255*r[9],n[s+2]=a*r[10]+o*r[11]+c*r[12]+255*r[14],!i){const u=n[s+3];n[s]+=u*r[3],n[s+1]+=u*r[8],n[s+2]+=u*r[13],n[s+3]=a*r[15]+o*r[16]+c*r[17]+u*r[18]+255*r[19]}}}sendUniformData(e,n){const r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],s=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(n.uColorMatrix,!1,i),e.uniform4fv(n.uConstants,s)}toObject(){return fe(fe({},super.toObject()),{},{matrix:[...this.matrix]})}}function Kc(t,e){var n;const r=(ue(n=class extends sd{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),ue(n,"defaults",{colorsOnly:!1,matrix:e}),n);return Ke.setClass(r,t),r}ue(sd,"type","ColorMatrix"),ue(sd,"defaults",bO),ue(sd,"uniformLocations",["uColorMatrix","uConstants"]),Ke.setClass(sd);Kc("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Kc("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Kc("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Kc("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Kc("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Kc("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Kc("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class CN extends tr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){kx(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(n=>{n.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,n){return Promise.all((e.subFilters||[]).map(r=>Ke.getClass(r.type).fromObject(r,n))).then(r=>new this({subFilters:r}))}}ue(CN,"type","Composed"),Ke.setClass(CN);class kg extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.floor(255*this.contrast),i=259*(r+255)/(255*(259-r));for(let s=0;s<n.length;s+=4)n[s]=i*(n[s]-128)+128,n[s+1]=i*(n[s+1]-128)+128,n[s+2]=i*(n[s+2]-128)+128}sendUniformData(e,n){e.uniform1f(n.uContrast,this.contrast)}}ue(kg,"type","Contrast"),ue(kg,"defaults",{contrast:0}),ue(kg,"uniformLocations",["uContrast"]),Ke.setClass(kg);const iY={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Eg extends tr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return iY[this.getCacheKey()]}applyTo2d(e){const n=e.imageData,r=n.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),a=Math.floor(s/2),o=n.width,c=n.height,u=e.ctx.createImageData(o,c),d=u.data,h=this.opaque?1:0;let p,f,b,g,w,x,y,N,A,k,E,R,O;for(E=0;E<c;E++)for(k=0;k<o;k++){for(w=4*(E*o+k),p=0,f=0,b=0,g=0,O=0;O<s;O++)for(R=0;R<s;R++)y=E+O-a,x=k+R-a,y<0||y>=c||x<0||x>=o||(N=4*(y*o+x),A=i[O*s+R],p+=r[N]*A,f+=r[N+1]*A,b+=r[N+2]*A,h||(g+=r[N+3]*A));d[w]=p,d[w+1]=f,d[w+2]=b,d[w+3]=h?r[w+3]:g}e.imageData=u}sendUniformData(e,n){e.uniform1fv(n.uMatrix,this.matrix)}toObject(){return fe(fe({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}ue(Eg,"type","Convolute"),ue(Eg,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),ue(Eg,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Ke.setClass(Eg);const wO="Gamma";class Og extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.gamma,i=1/r[0],s=1/r[1],a=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let c=0;c<256;c++)o.r[c]=255*Math.pow(c/255,i),o.g[c]=255*Math.pow(c/255,s),o.b[c]=255*Math.pow(c/255,a);for(let c=0;c<n.length;c+=4)n[c]=o.r[n[c]],n[c+1]=o.g[n[c+1]],n[c+2]=o.b[n[c+2]]}sendUniformData(e,n){e.uniform3fv(n.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:wO,gamma:this.gamma.concat()}}}ue(Og,"type",wO),ue(Og,"defaults",{gamma:[1,1,1]}),ue(Og,"uniformLocations",["uGamma"]),Ke.setClass(Og);const sY={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Lg extends tr{applyTo2d(e){let{imageData:{data:n}}=e;for(let r,i=0;i<n.length;i+=4){const s=n[i],a=n[i+1],o=n[i+2];switch(this.mode){case"average":r=(s+a+o)/3;break;case"lightness":r=(Math.min(s,a,o)+Math.max(s,a,o))/2;break;case"luminosity":r=.21*s+.72*a+.07*o}n[i+2]=n[i+1]=n[i]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return sY[this.mode]}sendUniformData(e,n){e.uniform1i(n.uMode,1)}isNeutralState(){return!1}}ue(Lg,"type","Grayscale"),ue(Lg,"defaults",{mode:"average"}),ue(Lg,"uniformLocations",["uMode"]),Ke.setClass(Lg);const aY=fe(fe({},bO),{},{rotation:0});class zy extends sd{calculateMatrix(){const e=this.rotation*Math.PI,n=ho(e),r=fo(e),i=1/3,s=Math.sqrt(i)*r,a=1-n;this.matrix=[n+a/3,i*a-s,i*a+s,0,0,i*a+s,n+i*a,i*a-s,0,0,i*a-s,i*a+s,n+i*a,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}ue(zy,"type","HueRotation"),ue(zy,"defaults",aY),Ke.setClass(zy);class Mg extends tr{applyTo2d(e){let{imageData:{data:n}}=e;for(let r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2],this.alpha&&(n[r+3]=255-n[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,n){e.uniform1i(n.uInvert,Number(this.invert)),e.uniform1i(n.uAlpha,Number(this.alpha))}}ue(Mg,"type","Invert"),ue(Mg,"defaults",{alpha:!1,invert:!0}),ue(Mg,"uniformLocations",["uInvert","uAlpha"]),Ke.setClass(Mg);class Dg extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.noise;for(let i=0;i<n.length;i+=4){const s=(.5-Math.random())*r;n[i]+=s,n[i+1]+=s,n[i+2]+=s}}sendUniformData(e,n){e.uniform1f(n.uNoise,this.noise/255),e.uniform1f(n.uSeed,Math.random())}isNeutralState(){return this.noise===0}}ue(Dg,"type","Noise"),ue(Dg,"defaults",{noise:0}),ue(Dg,"uniformLocations",["uNoise","uSeed"]),Ke.setClass(Dg);class Pg extends tr{applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let a=0;a<r;a+=this.blocksize){const o=4*s*r+4*a,c=n[o],u=n[o+1],d=n[o+2],h=n[o+3];for(let p=s;p<Math.min(s+this.blocksize,i);p++)for(let f=a;f<Math.min(a+this.blocksize,r);f++){const b=4*p*r+4*f;n[b]=c,n[b+1]=u,n[b+2]=d,n[b+3]=h}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,n){e.uniform1f(n.uBlocksize,this.blocksize)}}ue(Pg,"type","Pixelate"),ue(Pg,"defaults",{blocksize:4}),ue(Pg,"uniformLocations",["uBlocksize"]),Ke.setClass(Pg);class Rg extends tr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=255*this.distance,i=new Oi(this.color).getSource(),s=[i[0]-r,i[1]-r,i[2]-r],a=[i[0]+r,i[1]+r,i[2]+r];for(let o=0;o<n.length;o+=4){const c=n[o],u=n[o+1],d=n[o+2];c>s[0]&&u>s[1]&&d>s[2]&&c<a[0]&&u<a[1]&&d<a[2]&&(n[o+3]=0)}}sendUniformData(e,n){const r=new Oi(this.color).getSource(),i=this.distance,s=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],a=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,s),e.uniform4fv(n.uHigh,a)}}ue(Rg,"type","RemoveColor"),ue(Rg,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),ue(Rg,"uniformLocations",["uLow","uHigh"]),Ke.setClass(Rg);class Fg extends tr{sendUniformData(e,n){e.uniform2fv(n.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(n.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),n=this.tempScale,r=this.getFilterWindow(),i=new Array(r);for(let s=1;s<=r;s++)i[s-1]=e(s*n);return i}generateShader(e){const n=new Array(e);for(let r=1;r<=e;r++)n[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(n.map((r,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){kx(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return n=>{if(n>=e||n<=-e)return 0;if(n<11920929e-14&&n>-11920929e-14)return 1;const r=(n*=Math.PI)/e;return Math.sin(n)/n*Math.sin(r)/r}}applyTo2d(e){const n=e.imageData,r=this.scaleX,i=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/i;const s=n.width,a=n.height,o=Math.round(s*r),c=Math.round(a*i);let u;u=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,a,o,c):this.resizeType==="hermite"?this.hermiteFastResize(e,s,a,o,c):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,a,o,c):this.resizeType==="lanczos"?this.lanczosResize(e,s,a,o,c):new ImageData(o,c),e.imageData=u}sliceByTwo(e,n,r,i,s){const a=e.imageData,o=.5;let c=!1,u=!1,d=n*o,h=r*o;const p=e.filterBackend.resources;let f=0,b=0;const g=n;let w=0;p.sliceByTwo||(p.sliceByTwo=po());const x=p.sliceByTwo;(x.width<1.5*n||x.height<r)&&(x.width=1.5*n,x.height=r);const y=x.getContext("2d");for(y.clearRect(0,0,1.5*n,r),y.putImageData(a,0,0),i=Math.floor(i),s=Math.floor(s);!c||!u;)n=d,r=h,i<Math.floor(d*o)?d=Math.floor(d*o):(d=i,c=!0),s<Math.floor(h*o)?h=Math.floor(h*o):(h=s,u=!0),y.drawImage(x,f,b,n,r,g,w,d,h),f=g,b=w,w+=h;return y.getImageData(f,b,i,s)}lanczosResize(e,n,r,i,s){const a=e.imageData.data,o=e.ctx.createImageData(i,s),c=o.data,u=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,h=this.rcpScaleY,p=2/this.rcpScaleX,f=2/this.rcpScaleY,b=Math.ceil(d*this.lanczosLobes/2),g=Math.ceil(h*this.lanczosLobes/2),w={},x={x:0,y:0},y={x:0,y:0};return function N(A){let k,E,R,O,H,K,D,T,X,B,ee;for(x.x=(A+.5)*d,y.x=Math.floor(x.x),k=0;k<s;k++){for(x.y=(k+.5)*h,y.y=Math.floor(x.y),H=0,K=0,D=0,T=0,X=0,E=y.x-b;E<=y.x+b;E++)if(!(E<0||E>=n)){B=Math.floor(1e3*Math.abs(E-x.x)),w[B]||(w[B]={});for(let G=y.y-g;G<=y.y+g;G++)G<0||G>=r||(ee=Math.floor(1e3*Math.abs(G-x.y)),w[B][ee]||(w[B][ee]=u(Math.sqrt(Math.pow(B*p,2)+Math.pow(ee*f,2))/1e3)),R=w[B][ee],R>0&&(O=4*(G*n+E),H+=R,K+=R*a[O],D+=R*a[O+1],T+=R*a[O+2],X+=R*a[O+3]))}O=4*(k*i+A),c[O]=K/H,c[O+1]=D/H,c[O+2]=T/H,c[O+3]=X/H}return++A<i?N(A):o}(0)}bilinearFiltering(e,n,r,i,s){let a,o,c,u,d,h,p,f,b,g,w,x,y,N=0;const A=this.rcpScaleX,k=this.rcpScaleY,E=4*(n-1),R=e.imageData.data,O=e.ctx.createImageData(i,s),H=O.data;for(p=0;p<s;p++)for(f=0;f<i;f++)for(d=Math.floor(A*f),h=Math.floor(k*p),b=A*f-d,g=k*p-h,y=4*(h*n+d),w=0;w<4;w++)a=R[y+w],o=R[y+4+w],c=R[y+E+w],u=R[y+E+4+w],x=a*(1-b)*(1-g)+o*b*(1-g)+c*g*(1-b)+u*b*g,H[N++]=x;return O}hermiteFastResize(e,n,r,i,s){const a=this.rcpScaleX,o=this.rcpScaleY,c=Math.ceil(a/2),u=Math.ceil(o/2),d=e.imageData.data,h=e.ctx.createImageData(i,s),p=h.data;for(let f=0;f<s;f++)for(let b=0;b<i;b++){const g=4*(b+f*i);let w=0,x=0,y=0,N=0,A=0,k=0,E=0;const R=(f+.5)*o;for(let O=Math.floor(f*o);O<(f+1)*o;O++){const H=Math.abs(R-(O+.5))/u,K=(b+.5)*a,D=H*H;for(let T=Math.floor(b*a);T<(b+1)*a;T++){let X=Math.abs(K-(T+.5))/c;const B=Math.sqrt(D+X*X);B>1&&B<-1||(w=2*B*B*B-3*B*B+1,w>0&&(X=4*(T+O*n),E+=w*d[X+3],y+=w,d[X+3]<255&&(w=w*d[X+3]/250),N+=w*d[X],A+=w*d[X+1],k+=w*d[X+2],x+=w))}}p[g]=N/x,p[g+1]=A/x,p[g+2]=k/x,p[g+3]=E/y}return h}}ue(Fg,"type","Resize"),ue(Fg,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),ue(Fg,"uniformLocations",["uDelta","uTaps"]),Ke.setClass(Fg);class Ig extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.saturation;for(let i=0;i<n.length;i+=4){const s=n[i],a=n[i+1],o=n[i+2],c=Math.max(s,a,o);n[i]+=c!==s?(c-s)*r:0,n[i+1]+=c!==a?(c-a)*r:0,n[i+2]+=c!==o?(c-o)*r:0}}sendUniformData(e,n){e.uniform1f(n.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}ue(Ig,"type","Saturation"),ue(Ig,"defaults",{saturation:0}),ue(Ig,"uniformLocations",["uSaturation"]),Ke.setClass(Ig);class zg extends tr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.vibrance;for(let i=0;i<n.length;i+=4){const s=n[i],a=n[i+1],o=n[i+2],c=Math.max(s,a,o),u=(s+a+o)/3,d=2*Math.abs(c-u)/255*r;n[i]+=c!==s?(c-s)*d:0,n[i+1]+=c!==a?(c-a)*d:0,n[i+2]+=c!==o?(c-o)*d:0}}sendUniformData(e,n){e.uniform1f(n.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}ue(zg,"type","Vibrance"),ue(zg,"defaults",{vibrance:0}),ue(zg,"uniformLocations",["uVibrance"]),Ke.setClass(zg);const oY="modulepreload",lY=function(t){return"/"+t},_N={},Yb=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=lY(c),c in _N)return;_N[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":oY,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Qt(t){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(t)}var Tr=Uint8Array,Ni=Uint16Array,ES=Int32Array,Ex=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ox=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xb=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SO=function(t,e){for(var n=new Ni(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ES(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},jO=SO(Ex,2),NO=jO.b,Wb=jO.r;NO[28]=258,Wb[258]=28;var CO=SO(Ox,0),cY=CO.b,AN=CO.r,$b=new Ni(32768);for(var dn=0;dn<32768;++dn){var Bo=(dn&43690)>>1|(dn&21845)<<1;Bo=(Bo&52428)>>2|(Bo&13107)<<2,Bo=(Bo&61680)>>4|(Bo&3855)<<4,$b[dn]=((Bo&65280)>>8|(Bo&255)<<8)>>1}var ma=function(t,e,n){for(var r=t.length,i=0,s=new Ni(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Ni(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Ni(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=a[t[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[$b[h]>>c]=u}else for(o=new Ni(r),i=0;i<r;++i)t[i]&&(o[i]=$b[a[t[i]-1]++]>>15-t[i]);return o},Ol=new Tr(288);for(var dn=0;dn<144;++dn)Ol[dn]=8;for(var dn=144;dn<256;++dn)Ol[dn]=9;for(var dn=256;dn<280;++dn)Ol[dn]=7;for(var dn=280;dn<288;++dn)Ol[dn]=8;var jp=new Tr(32);for(var dn=0;dn<32;++dn)jp[dn]=5;var uY=ma(Ol,9,0),dY=ma(Ol,9,1),hY=ma(jp,5,0),fY=ma(jp,5,1),By=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},gs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},qy=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},OS=function(t){return(t+7)/8|0},_O=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Tr(t.subarray(e,n))},pY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],bs=function(t,e,n){var r=new Error(e||pY[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,bs),!n)throw r;return r},mY=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Tr(0);var a=!n,o=a||e.i!=2,c=e.i;a&&(n=new Tr(i*3));var u=function(Ce){var ke=n.length;if(Ce>ke){var Be=new Tr(Math.max(ke*2,Ce));Be.set(n),n=Be}},d=e.f||0,h=e.p||0,p=e.b||0,f=e.l,b=e.d,g=e.m,w=e.n,x=i*8;do{if(!f){d=gs(t,h,1);var y=gs(t,h+1,3);if(h+=3,y)if(y==1)f=dY,b=fY,g=9,w=5;else if(y==2){var E=gs(t,h,31)+257,R=gs(t,h+10,15)+4,O=E+gs(t,h+5,31)+1;h+=14;for(var H=new Tr(O),K=new Tr(19),D=0;D<R;++D)K[Xb[D]]=gs(t,h+D*3,7);h+=R*3;for(var T=By(K),X=(1<<T)-1,B=ma(K,T,1),D=0;D<O;){var ee=B[gs(t,h,X)];h+=ee&15;var N=ee>>4;if(N<16)H[D++]=N;else{var G=0,te=0;for(N==16?(te=3+gs(t,h,3),h+=2,G=H[D-1]):N==17?(te=3+gs(t,h,7),h+=3):N==18&&(te=11+gs(t,h,127),h+=7);te--;)H[D++]=G}}var V=H.subarray(0,E),re=H.subarray(E);g=By(V),w=By(re),f=ma(V,g,1),b=ma(re,w,1)}else bs(1);else{var N=OS(h)+4,A=t[N-4]|t[N-3]<<8,k=N+A;if(k>i){c&&bs(0);break}o&&u(p+A),n.set(t.subarray(N,k),p),e.b=p+=A,e.p=h=k*8,e.f=d;continue}if(h>x){c&&bs(0);break}}o&&u(p+131072);for(var de=(1<<g)-1,Oe=(1<<w)-1,F=h;;F=h){var G=f[qy(t,h)&de],Y=G>>4;if(h+=G&15,h>x){c&&bs(0);break}if(G||bs(2),Y<256)n[p++]=Y;else if(Y==256){F=h,f=null;break}else{var W=Y-254;if(Y>264){var D=Y-257,Z=Ex[D];W=gs(t,h,(1<<Z)-1)+NO[D],h+=Z}var se=b[qy(t,h)&Oe],ie=se>>4;se||bs(3),h+=se&15;var re=cY[ie];if(ie>3){var Z=Ox[ie];re+=qy(t,h)&(1<<Z)-1,h+=Z}if(h>x){c&&bs(0);break}o&&u(p+131072);var ce=p+W;if(p<re){var ve=s-re,je=Math.min(re,ce);for(ve+p<0&&bs(3);p<je;++p)n[p]=r[ve+p]}for(;p<ce;++p)n[p]=n[p-re]}}e.l=f,e.p=F,e.b=p,e.f=d,f&&(d=1,e.m=g,e.d=b,e.n=w)}while(!d);return p!=n.length&&a?_O(n,0,p):n.subarray(0,p)},Ba=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},xf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Uy=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:TO,l:0};if(i==1){var a=new Tr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(k,E){return k.f-E.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new Ni(p+1),b=Kb(n[d-1],f,0);if(b>e){var r=0,g=0,w=b-e,x=1<<w;for(s.sort(function(E,R){return f[R.s]-f[E.s]||E.f-R.f});r<i;++r){var y=s[r].s;if(f[y]>e)g+=x-(1<<b-f[y]),f[y]=e;else break}for(g>>=w;g>0;){var N=s[r].s;f[N]<e?g-=1<<e-f[N]++-1:++r}for(;r>=0&&g;--r){var A=s[r].s;f[A]==e&&(--f[A],++g)}b=e}return{t:new Tr(f),l:b}},Kb=function(t,e,n){return t.s==-1?Math.max(Kb(t.l,e,n+1),Kb(t.r,e,n+1)):e[t.s]=n},TN=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ni(++e),r=0,i=t[0],s=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},yf=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},AO=function(t,e,n){var r=n.length,i=OS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},kN=function(t,e,n,r,i,s,a,o,c,u,d){Ba(e,d++,n),++i[256];for(var h=Uy(i,15),p=h.t,f=h.l,b=Uy(s,15),g=b.t,w=b.l,x=TN(p),y=x.c,N=x.n,A=TN(g),k=A.c,E=A.n,R=new Ni(19),O=0;O<y.length;++O)++R[y[O]&31];for(var O=0;O<k.length;++O)++R[k[O]&31];for(var H=Uy(R,7),K=H.t,D=H.l,T=19;T>4&&!K[Xb[T-1]];--T);var X=u+5<<3,B=yf(i,Ol)+yf(s,jp)+a,ee=yf(i,p)+yf(s,g)+a+14+3*T+yf(R,K)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&X<=B&&X<=ee)return AO(e,d,t.subarray(c,c+u));var G,te,V,re;if(Ba(e,d,1+(ee<B)),d+=2,ee<B){G=ma(p,f,0),te=p,V=ma(g,w,0),re=g;var de=ma(K,D,0);Ba(e,d,N-257),Ba(e,d+5,E-1),Ba(e,d+10,T-4),d+=14;for(var O=0;O<T;++O)Ba(e,d+3*O,K[Xb[O]]);d+=3*T;for(var Oe=[y,k],F=0;F<2;++F)for(var Y=Oe[F],O=0;O<Y.length;++O){var W=Y[O]&31;Ba(e,d,de[W]),d+=K[W],W>15&&(Ba(e,d,Y[O]>>5&127),d+=Y[O]>>12)}}else G=uY,te=Ol,V=hY,re=jp;for(var O=0;O<o;++O){var Z=r[O];if(Z>255){var W=Z>>18&31;xf(e,d,G[W+257]),d+=te[W+257],W>7&&(Ba(e,d,Z>>23&31),d+=Ex[W]);var se=Z&31;xf(e,d,V[se]),d+=re[se],se>3&&(xf(e,d,Z>>5&8191),d+=Ox[se])}else xf(e,d,G[Z]),d+=te[Z]}return xf(e,d,G[256]),d+te[256]},gY=new ES([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TO=new Tr(0),vY=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Tr(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var h=gY[e-1],p=h>>13,f=h&8191,b=(1<<n)-1,g=s.p||new Ni(32768),w=s.h||new Ni(b+1),x=Math.ceil(n/3),y=2*x,N=function(he){return(t[he]^t[he+1]<<x^t[he+2]<<y)&b},A=new ES(25e3),k=new Ni(288),E=new Ni(32),R=0,O=0,H=s.i||0,K=0,D=s.w||0,T=0;H+2<a;++H){var X=N(H),B=H&32767,ee=w[X];if(g[B]=ee,w[X]=B,D<=H){var G=a-H;if((R>7e3||K>24576)&&(G>423||!u)){d=kN(t,c,0,A,k,E,O,K,T,H-T,d),K=R=O=0,T=H;for(var te=0;te<286;++te)k[te]=0;for(var te=0;te<30;++te)E[te]=0}var V=2,re=0,de=f,Oe=B-ee&32767;if(G>2&&X==N(H-Oe))for(var F=Math.min(p,G)-1,Y=Math.min(32767,H),W=Math.min(258,G);Oe<=Y&&--de&&B!=ee;){if(t[H+V]==t[H+V-Oe]){for(var Z=0;Z<W&&t[H+Z]==t[H+Z-Oe];++Z);if(Z>V){if(V=Z,re=Oe,Z>F)break;for(var se=Math.min(Oe,Z-2),ie=0,te=0;te<se;++te){var ce=H-Oe+te&32767,ve=g[ce],je=ce-ve&32767;je>ie&&(ie=je,ee=ce)}}}B=ee,ee=g[B],Oe+=B-ee&32767}if(re){A[K++]=268435456|Wb[V]<<18|AN[re];var Ce=Wb[V]&31,ke=AN[re]&31;O+=Ex[Ce]+Ox[ke],++k[257+Ce],++E[ke],D=H+V,++R}else A[K++]=t[H],++k[t[H]]}}for(H=Math.max(H,D);H<a;++H)A[K++]=t[H],++k[t[H]];d=kN(t,c,u,A,k,E,O,K,T,H-T,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=w,s.p=g,s.i=H,s.w=D)}else{for(var H=s.w||0;H<a+u;H+=65535){var Be=H+65535;Be>=a&&(c[d/8|0]=u,Be=a),d=AO(c,d+1,t.subarray(H,Be))}s.i=a}return _O(o,0,r+OS(d)+i)},kO=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xY=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Tr(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return vY(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},EO=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},yY=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=kO();i.p(e.dictionary),EO(t,2,i.d())}},bY=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&bs(6,"invalid zlib data"),(t[1]>>5&1)==1&&bs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Qb(t,e){e||(e={});var n=kO();n.p(t);var r=xY(t,e,e.dictionary?6:2,4);return yY(r,e),EO(r,r.length-4,n.d()),r}function wY(t,e){return mY(t.subarray(bY(t),-4),{i:2},e,e)}var SY=typeof TextDecoder<"u"&&new TextDecoder,jY=0;try{SY.decode(TO,{stream:!0}),jY=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hy(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var rn={log:Hy,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Hy.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Hy(t))}};function Vy(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ic(r.response,e,n)},r.onerror=function(){rn.error("could not download file")},r.send()}function EN(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xf,Zb,ic=lt.saveAs||((typeof window>"u"?"undefined":Qt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?EN(i.href)?Vy(t,e,n):Bg(i,i.target="_blank"):Bg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(EN(t))Vy(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Bg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Qt(s)!=="object"&&(rn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Vy(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Qt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=lt.URL||lt.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OO(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gy(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Sr(n,r,i,s,e[0],7,-680876936),s=Sr(s,n,r,i,e[1],12,-389564586),i=Sr(i,s,n,r,e[2],17,606105819),r=Sr(r,i,s,n,e[3],22,-1044525330),n=Sr(n,r,i,s,e[4],7,-176418897),s=Sr(s,n,r,i,e[5],12,1200080426),i=Sr(i,s,n,r,e[6],17,-1473231341),r=Sr(r,i,s,n,e[7],22,-45705983),n=Sr(n,r,i,s,e[8],7,1770035416),s=Sr(s,n,r,i,e[9],12,-1958414417),i=Sr(i,s,n,r,e[10],17,-42063),r=Sr(r,i,s,n,e[11],22,-1990404162),n=Sr(n,r,i,s,e[12],7,1804603682),s=Sr(s,n,r,i,e[13],12,-40341101),i=Sr(i,s,n,r,e[14],17,-1502002290),n=jr(n,r=Sr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=jr(s,n,r,i,e[6],9,-1069501632),i=jr(i,s,n,r,e[11],14,643717713),r=jr(r,i,s,n,e[0],20,-373897302),n=jr(n,r,i,s,e[5],5,-701558691),s=jr(s,n,r,i,e[10],9,38016083),i=jr(i,s,n,r,e[15],14,-660478335),r=jr(r,i,s,n,e[4],20,-405537848),n=jr(n,r,i,s,e[9],5,568446438),s=jr(s,n,r,i,e[14],9,-1019803690),i=jr(i,s,n,r,e[3],14,-187363961),r=jr(r,i,s,n,e[8],20,1163531501),n=jr(n,r,i,s,e[13],5,-1444681467),s=jr(s,n,r,i,e[2],9,-51403784),i=jr(i,s,n,r,e[7],14,1735328473),n=Nr(n,r=jr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Nr(s,n,r,i,e[8],11,-2022574463),i=Nr(i,s,n,r,e[11],16,1839030562),r=Nr(r,i,s,n,e[14],23,-35309556),n=Nr(n,r,i,s,e[1],4,-1530992060),s=Nr(s,n,r,i,e[4],11,1272893353),i=Nr(i,s,n,r,e[7],16,-155497632),r=Nr(r,i,s,n,e[10],23,-1094730640),n=Nr(n,r,i,s,e[13],4,681279174),s=Nr(s,n,r,i,e[0],11,-358537222),i=Nr(i,s,n,r,e[3],16,-722521979),r=Nr(r,i,s,n,e[6],23,76029189),n=Nr(n,r,i,s,e[9],4,-640364487),s=Nr(s,n,r,i,e[12],11,-421815835),i=Nr(i,s,n,r,e[15],16,530742520),n=Cr(n,r=Nr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Cr(s,n,r,i,e[7],10,1126891415),i=Cr(i,s,n,r,e[14],15,-1416354905),r=Cr(r,i,s,n,e[5],21,-57434055),n=Cr(n,r,i,s,e[12],6,1700485571),s=Cr(s,n,r,i,e[3],10,-1894986606),i=Cr(i,s,n,r,e[10],15,-1051523),r=Cr(r,i,s,n,e[1],21,-2054922799),n=Cr(n,r,i,s,e[8],6,1873313359),s=Cr(s,n,r,i,e[15],10,-30611744),i=Cr(i,s,n,r,e[6],15,-1560198380),r=Cr(r,i,s,n,e[13],21,1309151649),n=Cr(n,r,i,s,e[4],6,-145523070),s=Cr(s,n,r,i,e[11],10,-1120210379),i=Cr(i,s,n,r,e[2],15,718787259),r=Cr(r,i,s,n,e[9],21,-343485551),t[0]=hl(n,t[0]),t[1]=hl(r,t[1]),t[2]=hl(i,t[2]),t[3]=hl(s,t[3])}function Lx(t,e,n,r,i,s){return e=hl(hl(e,t),hl(r,s)),hl(e<<i|e>>>32-i,n)}function Sr(t,e,n,r,i,s,a){return Lx(e&n|~e&r,t,e,i,s,a)}function jr(t,e,n,r,i,s,a){return Lx(e&r|n&~r,t,e,i,s,a)}function Nr(t,e,n,r,i,s,a){return Lx(e^n^r,t,e,i,s,a)}function Cr(t,e,n,r,i,s,a){return Lx(n^(e|~r),t,e,i,s,a)}function LO(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gy(r,NY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Gy(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Gy(r,i),r}function NY(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Xf=lt.atob.bind(lt),Zb=lt.btoa.bind(lt);var ON="0123456789abcdef".split("");function CY(t){for(var e="",n=0;n<4;n++)e+=ON[t>>8*n+4&15]+ON[t>>8*n&15];return e}function _Y(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Jb(t){return LO(t).map(_Y).join("")}var AY=function(t){for(var e=0;e<t.length;e++)t[e]=CY(t[e]);return t.join("")}(LO("hello"))!="5d41402abc4b2a76b9719d911017c592";function hl(t,e){if(AY){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e5(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+a.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,r=o}else o=r;var h=e.length,p=0,f=0,b="";for(c=0;c<h;c++)f=(f+(d=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=d,a=o[(o[p]+o[f])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LN={print:4,modify:8,copy:16,"annot-forms":32};function Hu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(LN.perm!==void 0)throw new Error("Invalid permission: "+o);i+=LN[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Jb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=e5(this.encryptionKey,this.padding)}function Vu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function MN(t){if(Qt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){lt.console&&rn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sv(t){if(!(this instanceof Sv))return new Sv(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function MO(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function oc(t,e,n,r,i){if(!(this instanceof oc))return new oc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,MO.call(this,r,i)}function ad(t,e,n,r,i){if(!(this instanceof ad))return new ad(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,MO.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,u="S",d=null;Qt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=MN;var b="1.3",g=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(S){b=S};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var x=f.__private__.getPageFormat=function(S){return w[S]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},N=y.COMPAT;function A(){this.saveGraphicsState(),P(new at(Ge,0,0,-Ge,0,So()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",N=y.ADVANCED}function k(){this.restoreGraphicsState(),u="S",N=y.COMPAT}var E=f.__private__.combineFontStyleAndFontWeight=function(S,M){if(S=="bold"&&M=="normal"||S=="bold"&&M==400||S=="normal"&&M=="italic"||S=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(S=M==400||M==="normal"?S==="italic"?"italic":"normal":M!=700&&M!=="bold"||S!=="normal"?(M==700?"bold":M)+""+S:"bold"),S};f.advancedAPI=function(S){var M=N===y.COMPAT;return M&&A.call(this),typeof S!="function"||(S(this),M&&k.call(this)),this},f.compatAPI=function(S){var M=N===y.ADVANCED;return M&&k.call(this),typeof S!="function"||(S(this),M&&A.call(this)),this},f.isAdvancedAPI=function(){return N===y.ADVANCED};var R,O=function(S){if(N!==y.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=f.roundToPrecision=f.__private__.roundToPrecision=function(S,M){var Q=e||M;if(isNaN(S)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(Q).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,16)};var K=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return H(S,2)},D=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return H(S,3)},T=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===y.COMPAT?S*Ge:N===y.ADVANCED?S:void 0},X=function(S){return N===y.COMPAT?So()-S:N===y.ADVANCED?S:void 0},B=function(S){return T(X(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ee,G="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return G},V=f.__private__.setFileId=function(S){return G=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(br=new Hu(d.userPermissions,d.userPassword,d.ownerPassword,G)),G};f.setFileId=function(S){return V(S),this},f.getFileId=function(){return te()};var re=f.__private__.convertDateToPDFDate=function(S){var M=S.getTimezoneOffset(),Q=M<0?"+":"-",ae=Math.floor(Math.abs(M/60)),xe=Math.abs(M%60),Ae=[Q,W(ae),"'",W(xe),"'"].join("");return["D:",S.getFullYear(),W(S.getMonth()+1),W(S.getDate()),W(S.getHours()),W(S.getMinutes()),W(S.getSeconds()),Ae].join("")},de=f.__private__.convertPDFDateToDate=function(S){var M=parseInt(S.substr(2,4),10),Q=parseInt(S.substr(6,2),10)-1,ae=parseInt(S.substr(8,2),10),xe=parseInt(S.substr(10,2),10),Ae=parseInt(S.substr(12,2),10),ze=parseInt(S.substr(14,2),10);return new Date(M,Q,ae,xe,Ae,ze,0)},Oe=f.__private__.setCreationDate=function(S){var M;if(S===void 0&&(S=new Date),S instanceof Date)M=re(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=S}return ee=M},F=f.__private__.getCreationDate=function(S){var M=ee;return S==="jsDate"&&(M=de(ee)),M};f.setCreationDate=function(S){return Oe(S),this},f.getCreationDate=function(S){return F(S)};var Y,W=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Z=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},se=0,ie=[],ce=[],ve=0,je=[],Ce=[],ke=!1,Be=ce,he=function(){se=0,ve=0,ce=[],ie=[],je=[],Ca=Un(),os=Un()};f.__private__.setCustomOutputDestination=function(S){ke=!0,Be=S};var J=function(S){ke||(Be=S)};f.__private__.resetCustomOutputDestination=function(){ke=!1,Be=ce};var P=f.__private__.out=function(S){return S=S.toString(),ve+=S.length+1,Be.push(S),Be},ne=f.__private__.write=function(S){return P(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ye=f.__private__.getArrayBuffer=function(S){for(var M=S.length,Q=new ArrayBuffer(M),ae=new Uint8Array(Q);M--;)ae[M]=S.charCodeAt(M);return Q},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Se};var Ee=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Ee=N===y.ADVANCED?S/Ge:S,this};var Le,Ue=f.__private__.getFontSize=f.getFontSize=function(){return N===y.COMPAT?Ee:Ee*Ge},He=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return He=S,this},f.__private__.getR2L=f.getR2L=function(){return He};var Te,Ie=f.__private__.setZoomMode=function(S){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Le=S;else if(isNaN(S)){if(M.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Le=S}else Le=parseInt(S,10)};f.__private__.getZoomMode=function(){return Le};var Xe,Je=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Te=S};f.__private__.getPageMode=function(){return Te};var ut=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Xe=S};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(S,M,Q){return Ie(S),ut(M),Je(Q),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(et).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[S]},f.__private__.getDocumentProperties=function(){return et},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var M in et)et.hasOwnProperty(M)&&S[M]&&(et[M]=S[M]);return this},f.__private__.setDocumentProperty=function(S,M){if(Object.keys(et).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[S]=M};var nt,Ge,Et,Ct,yr,zt={},Zt={},Gr=[],Dt={},ja={},Sn={},ss={},Na=null,jn=0,mt=[],Ht=new MN(f),ql=t.hotfixes||[],ur={},Bs={},qs=[],at=function S(M,Q,ae,xe,Ae,ze){if(!(this instanceof S))return new S(M,Q,ae,xe,Ae,ze);isNaN(M)&&(M=1),isNaN(Q)&&(Q=0),isNaN(ae)&&(ae=0),isNaN(xe)&&(xe=1),isNaN(Ae)&&(Ae=0),isNaN(ze)&&(ze=0),this._matrix=[M,Q,ae,xe,Ae,ze]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(S)},at.prototype.multiply=function(S){var M=S.sx*this.sx+S.shy*this.shx,Q=S.sx*this.shy+S.shy*this.sy,ae=S.shx*this.sx+S.sy*this.shx,xe=S.shx*this.shy+S.sy*this.sy,Ae=S.tx*this.sx+S.ty*this.shx+this.tx,ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new at(M,Q,ae,xe,Ae,ze)},at.prototype.decompose=function(){var S=this.sx,M=this.shy,Q=this.shx,ae=this.sy,xe=this.tx,Ae=this.ty,ze=Math.sqrt(S*S+M*M),We=(S/=ze)*Q+(M/=ze)*ae;Q-=S*We,ae-=M*We;var tt=Math.sqrt(Q*Q+ae*ae);return We/=tt,S*(ae/=tt)<M*(Q/=tt)&&(S=-S,M=-M,We=-We,ze=-ze),{scale:new at(ze,0,0,tt,0,0),translate:new at(1,0,0,1,xe,Ae),rotate:new at(S,M,-M,S,0,0),skew:new at(1,0,We,1,0,0)}},at.prototype.toString=function(S){return this.join(" ")},at.prototype.inversed=function(){var S=this.sx,M=this.shy,Q=this.shx,ae=this.sy,xe=this.tx,Ae=this.ty,ze=1/(S*ae-M*Q),We=ae*ze,tt=-M*ze,xt=-Q*ze,gt=S*ze;return new at(We,tt,xt,gt,-We*xe-xt*Ae,-tt*xe-gt*Ae)},at.prototype.applyToPoint=function(S){var M=S.x*this.sx+S.y*this.shx+this.tx,Q=S.x*this.shy+S.y*this.sy+this.ty;return new du(M,Q)},at.prototype.applyToRectangle=function(S){var M=this.applyToPoint(S),Q=this.applyToPoint(new du(S.x+S.w,S.y+S.h));return new Ph(M.x,M.y,Q.x-M.x,Q.y-M.y)},at.prototype.clone=function(){var S=this.sx,M=this.shy,Q=this.shx,ae=this.sy,xe=this.tx,Ae=this.ty;return new at(S,M,Q,ae,xe,Ae)},f.Matrix=at;var as=f.matrixMult=function(S,M){return M.multiply(S)},Us=new at(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Us;var Yr=function(S,M){if(!ja[S]){var Q=(M instanceof oc?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);M.id=Q,ja[S]=Q,Dt[Q]=M,Ht.publish("addPattern",M)}};f.ShadingPattern=oc,f.TilingPattern=ad,f.addShadingPattern=function(S,M){return O("addShadingPattern()"),Yr(S,M),this},f.beginTilingPattern=function(S){O("beginTilingPattern()"),ym(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,M){O("endTilingPattern()"),M.stream=Ce[Y].join(`
`),Yr(S,M),Ht.publish("endTilingPattern",M),qs.pop().restore()};var $n=f.__private__.newObject=function(){var S=Un();return hi(S,!0),S},Un=f.__private__.newObjectDeferred=function(){return se++,ie[se]=function(){return ve},se},hi=function(S,M){return M=typeof M=="boolean"&&M,ie[S]=ve,M&&P(S+" 0 obj"),S},Zc=f.__private__.newAdditionalObject=function(){var S={objId:Un(),content:""};return je.push(S),S},Ca=Un(),os=Un(),ls=f.__private__.decodeColorString=function(S){var M=S.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var Q=parseFloat(M[0]);M=[Q,Q,Q,"r"]}for(var ae="#",xe=0;xe<3;xe++)ae+=("0"+Math.floor(255*parseFloat(M[xe])).toString(16)).slice(-2);return ae},cs=f.__private__.encodeColorString=function(S){var M;typeof S=="string"&&(S={ch1:S});var Q=S.ch1,ae=S.ch2,xe=S.ch3,Ae=S.ch4,ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var We=new OO(Q);if(We.ok)Q=We.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var tt=parseInt(Q.substr(1),16);Q=tt>>16&255,ae=tt>>8&255,xe=255&tt}if(ae===void 0||Ae===void 0&&Q===ae&&ae===xe)if(typeof Q=="string")M=Q+" "+ze[0];else switch(S.precision){case 2:M=K(Q/255)+" "+ze[0];break;case 3:default:M=D(Q/255)+" "+ze[0]}else if(Ae===void 0||Qt(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return M=["1.","1.","1.",ze[1]].join(" ");if(typeof Q=="string")M=[Q,ae,xe,ze[1]].join(" ");else switch(S.precision){case 2:M=[K(Q/255),K(ae/255),K(xe/255),ze[1]].join(" ");break;default:case 3:M=[D(Q/255),D(ae/255),D(xe/255),ze[1]].join(" ")}}else if(typeof Q=="string")M=[Q,ae,xe,Ae,ze[2]].join(" ");else switch(S.precision){case 2:M=[K(Q),K(ae),K(xe),K(Ae),ze[2]].join(" ");break;case 3:default:M=[D(Q),D(ae),D(xe),D(Ae),ze[2]].join(" ")}return M},Hs=f.__private__.getFilters=function(){return a},Li=f.__private__.putStream=function(S){var M=(S=S||{}).data||"",Q=S.filters||Hs(),ae=S.alreadyAppliedFilters||[],xe=S.addLength1||!1,Ae=M.length,ze=S.objectId,We=function(wr){return wr};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=br.encryptor(ze,0));var tt={};Q===!0&&(Q=["FlateEncode"]);var xt=S.additionalKeyValues||[],gt=(tt=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(M,Q):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(tt.data.length!==0&&(xt.push({key:"Length",value:tt.data.length}),xe===!0&&xt.push({key:"Length1",value:Ae})),gt.length!=0)if(gt.split("/").length-1==1)xt.push({key:"Filter",value:gt});else{xt.push({key:"Filter",value:"["+gt+"]"});for(var Pt=0;Pt<xt.length;Pt+=1)if(xt[Pt].key==="DecodeParms"){for(var xn=[],Nn=0;Nn<tt.reverseChain.split("/").length-1;Nn+=1)xn.push("null");xn.push(xt[Pt].value),xt[Pt].value="["+xn.join(" ")+"]"}}P("<<");for(var Hn=0;Hn<xt.length;Hn++)P("/"+xt[Hn].key+" "+xt[Hn].value);P(">>"),tt.data.length!==0&&(P("stream"),P(We(tt.data)),P("endstream"))},Vs=f.__private__.putPage=function(S){var M=S.number,Q=S.data,ae=S.objId,xe=S.contentsObjId;hi(ae,!0),P("<</Type /Page"),P("/Parent "+S.rootDictionaryObjId+" 0 R"),P("/Resources "+S.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(R(S.mediaBox.bottomLeftX))+" "+parseFloat(R(S.mediaBox.bottomLeftY))+" "+R(S.mediaBox.topRightX)+" "+R(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&P("/CropBox ["+R(S.cropBox.bottomLeftX)+" "+R(S.cropBox.bottomLeftY)+" "+R(S.cropBox.topRightX)+" "+R(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&P("/BleedBox ["+R(S.bleedBox.bottomLeftX)+" "+R(S.bleedBox.bottomLeftY)+" "+R(S.bleedBox.topRightX)+" "+R(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&P("/TrimBox ["+R(S.trimBox.bottomLeftX)+" "+R(S.trimBox.bottomLeftY)+" "+R(S.trimBox.topRightX)+" "+R(S.trimBox.topRightY)+"]"),S.artBox!==null&&P("/ArtBox ["+R(S.artBox.bottomLeftX)+" "+R(S.artBox.bottomLeftY)+" "+R(S.artBox.topRightX)+" "+R(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&P("/UserUnit "+S.userUnit),Ht.publish("putPage",{objId:ae,pageContext:mt[M],pageNumber:M,page:Q}),P("/Contents "+xe+" 0 R"),P(">>"),P("endobj");var Ae=Q.join(`
`);return N===y.ADVANCED&&(Ae+=`
Q`),hi(xe,!0),Li({data:Ae,filters:Hs(),objectId:xe}),P("endobj"),ae},Ul=f.__private__.putPages=function(){var S,M,Q=[];for(S=1;S<=jn;S++)mt[S].objId=Un(),mt[S].contentsObjId=Un();for(S=1;S<=jn;S++)Q.push(Vs({number:S,data:Ce[S],objId:mt[S].objId,contentsObjId:mt[S].contentsObjId,mediaBox:mt[S].mediaBox,cropBox:mt[S].cropBox,bleedBox:mt[S].bleedBox,trimBox:mt[S].trimBox,artBox:mt[S].artBox,userUnit:mt[S].userUnit,rootDictionaryObjId:Ca,resourceDictionaryObjId:os}));hi(Ca,!0),P("<</Type /Pages");var ae="/Kids [";for(M=0;M<jn;M++)ae+=Q[M]+" 0 R ";P(ae+"]"),P("/Count "+jn),P(">>"),P("endobj"),Ht.publish("postPutPages")},Jc=function(S){Ht.publish("putFont",{font:S,out:P,newObject:$n,putStream:Li}),S.isAlreadyPutted!==!0&&(S.objectNumber=$n(),P("<<"),P("/Type /Font"),P("/BaseFont /"+Vu(S.postScriptName)),P("/Subtype /Type1"),typeof S.encoding=="string"&&P("/Encoding /"+S.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},eu=function(){for(var S in zt)zt.hasOwnProperty(S)&&(h===!1||h===!0&&p.hasOwnProperty(S))&&Jc(zt[S])},tu=function(S){S.objectNumber=$n();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[R(S.x),R(S.y),R(S.x+S.width),R(S.y+S.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var Q=S.pages[1].join(`
`);Li({data:Q,additionalKeyValues:M,objectId:S.objectNumber}),P("endobj")},nu=function(){for(var S in ur)ur.hasOwnProperty(S)&&tu(ur[S])},tm=function(S,M){var Q,ae=[],xe=1/(M-1);for(Q=0;Q<1;Q+=xe)ae.push(Q);if(ae.push(1),S[0].offset!=0){var Ae={offset:0,color:S[0].color};S.unshift(Ae)}if(S[S.length-1].offset!=1){var ze={offset:1,color:S[S.length-1].color};S.push(ze)}for(var We="",tt=0,xt=0;xt<ae.length;xt++){for(Q=ae[xt];Q>S[tt+1].offset;)tt++;var gt=S[tt].offset,Pt=(Q-gt)/(S[tt+1].offset-gt),xn=S[tt].color,Nn=S[tt+1].color;We+=Z(Math.round((1-Pt)*xn[0]+Pt*Nn[0]).toString(16))+Z(Math.round((1-Pt)*xn[1]+Pt*Nn[1]).toString(16))+Z(Math.round((1-Pt)*xn[2]+Pt*Nn[2]).toString(16))}return We.trim()},Rx=function(S,M){M||(M=21);var Q=$n(),ae=tm(S.colors,M),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+M+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Li({data:ae,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),P("endobj"),S.objectNumber=$n(),P("<< /ShadingType "+S.type),P("/ColorSpace /DeviceRGB");var Ae="/Coords ["+R(parseFloat(S.coords[0]))+" "+R(parseFloat(S.coords[1]))+" ";S.type===2?Ae+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3])):Ae+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3]))+" "+R(parseFloat(S.coords[4]))+" "+R(parseFloat(S.coords[5])),P(Ae+="]"),S.matrix&&P("/Matrix ["+S.matrix.toString()+"]"),P("/Function "+Q+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Fx=function(S,M){var Q=Un(),ae=$n();M.push({resourcesOid:Q,objectOid:ae}),S.objectNumber=ae;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+S.boundingBox.map(R).join(" ")+"]"}),xe.push({key:"XStep",value:R(S.xStep)}),xe.push({key:"YStep",value:R(S.yStep)}),xe.push({key:"Resources",value:Q+" 0 R"}),S.matrix&&xe.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Li({data:S.stream,additionalKeyValues:xe,objectId:S.objectNumber}),P("endobj")},ru=function(S){var M;for(M in Dt)Dt.hasOwnProperty(M)&&(Dt[M]instanceof oc?Rx(Dt[M]):Dt[M]instanceof ad&&Fx(Dt[M],S))},nm=function(S){for(var M in S.objectNumber=$n(),P("<<"),S)switch(M){case"opacity":P("/ca "+K(S[M]));break;case"stroke-opacity":P("/CA "+K(S[M]))}P(">>"),P("endobj")},Ix=function(){var S;for(S in Sn)Sn.hasOwnProperty(S)&&nm(Sn[S])},Ch=function(){for(var S in P("/XObject <<"),ur)ur.hasOwnProperty(S)&&ur[S].objectNumber>=0&&P("/"+S+" "+ur[S].objectNumber+" 0 R");Ht.publish("putXobjectDict"),P(">>")},zx=function(){br.oid=$n(),P("<<"),P("/Filter /Standard"),P("/V "+br.v),P("/R "+br.r),P("/U <"+br.toHexString(br.U)+">"),P("/O <"+br.toHexString(br.O)+">"),P("/P "+br.P),P(">>"),P("endobj")},rm=function(){for(var S in P("/Font <<"),zt)zt.hasOwnProperty(S)&&(h===!1||h===!0&&p.hasOwnProperty(S))&&P("/"+S+" "+zt[S].objectNumber+" 0 R");P(">>")},Bx=function(){if(Object.keys(Dt).length>0){for(var S in P("/Shading <<"),Dt)Dt.hasOwnProperty(S)&&Dt[S]instanceof oc&&Dt[S].objectNumber>=0&&P("/"+S+" "+Dt[S].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),P(">>")}},iu=function(S){if(Object.keys(Dt).length>0){for(var M in P("/Pattern <<"),Dt)Dt.hasOwnProperty(M)&&Dt[M]instanceof f.TilingPattern&&Dt[M].objectNumber>=0&&Dt[M].objectNumber<S&&P("/"+M+" "+Dt[M].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),P(">>")}},qx=function(){if(Object.keys(Sn).length>0){var S;for(S in P("/ExtGState <<"),Sn)Sn.hasOwnProperty(S)&&Sn[S].objectNumber>=0&&P("/"+S+" "+Sn[S].objectNumber+" 0 R");Ht.publish("putGStateDict"),P(">>")}},En=function(S){hi(S.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rm(),Bx(),iu(S.objectOid),qx(),Ch(),P(">>"),P("endobj")},im=function(){var S=[];eu(),Ix(),nu(),ru(S),Ht.publish("putResources"),S.forEach(En),En({resourcesOid:os,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources")},sm=function(){Ht.publish("putAdditionalObjects");for(var S=0;S<je.length;S++){var M=je[S];hi(M.objId,!0),P(M.content),P("endobj")}Ht.publish("postPutAdditionalObjects")},am=function(S){Zt[S.fontName]=Zt[S.fontName]||{},Zt[S.fontName][S.fontStyle]=S.id},_h=function(S,M,Q,ae,xe){var Ae={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:S,fontName:M,fontStyle:Q,encoding:ae,isStandardFont:xe||!1,metadata:{}};return Ht.publish("addFont",{font:Ae,instance:this}),zt[Ae.id]=Ae,am(Ae),Ae.id},Ux=function(S){for(var M=0,Q=Se.length;M<Q;M++){var ae=_h.call(this,S[M][0],S[M][1],S[M][2],Se[M][3],!0);h===!1&&(p[ae]=!0);var xe=S[M][0].split("-");am({id:ae,fontName:xe[0],fontStyle:xe[1]||""})}Ht.publish("addFonts",{fonts:zt,dictionary:Zt})},us=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ae){var M=ae.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var Q="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ae.message;if(!lt.console)throw new Error(Q);lt.console.error(Q,ae),lt.alert&&alert(Q)}},S.foo.bar=S,S.foo},su=function(S,M){var Q,ae,xe,Ae,ze,We,tt,xt,gt;if(xe=(M=M||{}).sourceEncoding||"Unicode",ze=M.outputEncoding,(M.autoencode||ze)&&zt[nt].metadata&&zt[nt].metadata[xe]&&zt[nt].metadata[xe].encoding&&(Ae=zt[nt].metadata[xe].encoding,!ze&&zt[nt].encoding&&(ze=zt[nt].encoding),!ze&&Ae.codePages&&(ze=Ae.codePages[0]),typeof ze=="string"&&(ze=Ae[ze]),ze)){for(tt=!1,We=[],Q=0,ae=S.length;Q<ae;Q++)(xt=ze[S.charCodeAt(Q)])?We.push(String.fromCharCode(xt)):We.push(S[Q]),We[Q].charCodeAt(0)>>8&&(tt=!0);S=We.join("")}for(Q=S.length;tt===void 0&&Q!==0;)S.charCodeAt(Q-1)>>8&&(tt=!0),Q--;if(!tt)return S;for(We=M.noBOM?[]:[254,255],Q=0,ae=S.length;Q<ae;Q++){if((gt=(xt=S.charCodeAt(Q))>>8)>>8)throw new Error("Character at position "+Q+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(gt),We.push(xt-(gt<<8))}return String.fromCharCode.apply(void 0,We)},Xr=f.__private__.pdfEscape=f.pdfEscape=function(S,M){return su(S,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ah=f.__private__.beginPage=function(S){Ce[++jn]=[],mt[jn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},lm(jn),J(Ce[Y])},om=function(S,M){var Q,ae,xe;switch(n=M||n,typeof S=="string"&&(Q=x(S.toLowerCase()),Array.isArray(Q)&&(ae=Q[0],xe=Q[1])),Array.isArray(S)&&(ae=S[0]*Ge,xe=S[1]*Ge),isNaN(ae)&&(ae=i[0],xe=i[1]),(ae>14400||xe>14400)&&(rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),xe=Math.min(14400,xe)),i=[ae,xe],n.substr(0,1)){case"l":xe>ae&&(i=[xe,ae]);break;case"p":ae>xe&&(i=[xe,ae])}Ah(i),pm(Oh),P(ds),Mh!==0&&P(Mh+" J"),Dh!==0&&P(Dh+" j"),Ht.publish("addPage",{pageNumber:jn})},Hx=function(S){S>0&&S<=jn&&(Ce.splice(S,1),mt.splice(S,1),jn--,Y>jn&&(Y=jn),this.setPage(Y))},lm=function(S){S>0&&S<=jn&&(Y=S)},Vx=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ce.length-1},cm=function(S,M,Q){var ae,xe=void 0;return Q=Q||{},S=S!==void 0?S:zt[nt].fontName,M=M!==void 0?M:zt[nt].fontStyle,ae=S.toLowerCase(),Zt[ae]!==void 0&&Zt[ae][M]!==void 0?xe=Zt[ae][M]:Zt[S]!==void 0&&Zt[S][M]!==void 0?xe=Zt[S][M]:Q.disableWarning===!1&&rn.warn("Unable to look up font label for font '"+S+"', '"+M+"'. Refer to getFontList() for available fonts."),xe||Q.noFallback||(xe=Zt.times[M])==null&&(xe=Zt.times.normal),xe},Gx=f.__private__.putInfo=function(){var S=$n(),M=function(ae){return ae};for(var Q in d!==null&&(M=br.encryptor(S,0)),P("<<"),P("/Producer ("+Xr(M("jsPDF "+ot.version))+")"),et)et.hasOwnProperty(Q)&&et[Q]&&P("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Xr(M(et[Q]))+")");P("/CreationDate ("+Xr(M(ee))+")"),P(">>"),P("endobj")},Th=f.__private__.putCatalog=function(S){var M=(S=S||{}).rootDictionaryObjId||Ca;switch($n(),P("<<"),P("/Type /Catalog"),P("/Pages "+M+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+Le;Q.substr(Q.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&P("/OpenAction [3 0 R /XYZ null null "+K(Le)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Te&&P("/PageMode /"+Te),Ht.publish("putCatalog"),P(">>"),P("endobj")},Yx=f.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(se+1)),P("/Root "+se+" 0 R"),P("/Info "+(se-1)+" 0 R"),d!==null&&P("/Encrypt "+br.oid+" 0 R"),P("/ID [ <"+G+"> <"+G+"> ]"),P(">>")},Xx=f.__private__.putHeader=function(){P("%PDF-"+b),P("%")},Wx=f.__private__.putXRef=function(){var S="0000000000";P("xref"),P("0 "+(se+1)),P("0000000000 65535 f ");for(var M=1;M<=se;M++)typeof ie[M]=="function"?P((S+ie[M]()).slice(-10)+" 00000 n "):ie[M]!==void 0?P((S+ie[M]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},_a=f.__private__.buildDocument=function(){he(),J(ce),Ht.publish("buildDocument"),Xx(),Ul(),sm(),im(),d!==null&&zx(),Gx(),Th();var S=ve;return Wx(),Yx(),P("startxref"),P(""+S),P("%%EOF"),J(Ce[Y]),ce.join(`
`)},au=f.__private__.getBlob=function(S){return new Blob([ye(S)],{type:"application/pdf"})},ou=f.output=f.__private__.output=us(function(S,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",S){case void 0:return _a();case"save":f.save(M.filename);break;case"arraybuffer":return ye(_a());case"blob":return au(_a());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(au(_a()))||void 0;rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ae=_a();try{Q=Zb(ae)}catch{Q=Zb(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+M.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(xe=M.pdfObjectUrl,Ae="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",We=lt.open();return We!==null&&We.document.write(ze),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',xt=lt.open();if(xt!==null){xt.document.write(tt);var gt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=M.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',xn=lt.open();if(xn!==null&&(xn.document.write(Pt),xn.document.title=M.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",M);default:return null}}),um=function(S){return Array.isArray(ql)===!0&&ql.indexOf(S)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=um("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var br=null;Oe(),V();var $x=function(S){return d!==null?br.encryptor(S,0):function(M){return M}},dm=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[S].objId,pageNumber:S,pageContext:mt[S]}},pt=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in mt)if(mt[M].objId===S)break;return dm(M)},Kx=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[Y].objId,pageNumber:Y,pageContext:mt[Y]}};f.addPage=function(){return om.apply(this,arguments),this},f.setPage=function(){return lm.apply(this,arguments),J.call(this,Ce[Y]),this},f.insertPage=function(S){return this.addPage(),this.movePage(Y,S),this},f.movePage=function(S,M){var Q,ae;if(S>M){Q=Ce[S],ae=mt[S];for(var xe=S;xe>M;xe--)Ce[xe]=Ce[xe-1],mt[xe]=mt[xe-1];Ce[M]=Q,mt[M]=ae,this.setPage(M)}else if(S<M){Q=Ce[S],ae=mt[S];for(var Ae=S;Ae<M;Ae++)Ce[Ae]=Ce[Ae+1],mt[Ae]=mt[Ae+1];Ce[M]=Q,mt[M]=ae,this.setPage(M)}return this},f.deletePage=function(){return Hx.apply(this,arguments),this},f.__private__.text=f.text=function(S,M,Q,ae,xe){var Ae,ze,We,tt,xt,gt,Pt,xn,Nn,Hn=(ae=ae||{}).scope||this;if(typeof S=="number"&&typeof M=="number"&&(typeof Q=="string"||Array.isArray(Q))){var wr=Q;Q=M,M=S,S=wr}if(arguments[3]instanceof at?(O("The transform parameter of text() with a Matrix value"),Nn=xe):(We=arguments[4],tt=arguments[5],Qt(Pt=arguments[3])==="object"&&Pt!==null||(typeof We=="string"&&(tt=We,We=null),typeof Pt=="string"&&(tt=Pt,Pt=null),typeof Pt=="number"&&(We=Pt,Pt=null),ae={flags:Pt,angle:We,align:tt})),isNaN(M)||isNaN(Q)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Hn;var nr="",hs=!1,fi=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Vl,Xs=Hn.internal.scaleFactor;function bm(an){return an=an.split("	").join(Array(ae.TabLen||9).join(" ")),Xr(an,Pt)}function zh(an){for(var on,Ln=an.concat(),Kn=[],Oa=Ln.length;Oa--;)typeof(on=Ln.shift())=="string"?Kn.push(on):Array.isArray(an)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?Kn.push(on[0]):Kn.push([on[0],on[1],on[2]]);return Kn}function Bh(an,on){var Ln;if(typeof an=="string")Ln=on(an)[0];else if(Array.isArray(an)){for(var Kn,Oa,Wh=an.concat(),Su=[],Cm=Wh.length;Cm--;)typeof(Kn=Wh.shift())=="string"?Su.push(on(Kn)[0]):Array.isArray(Kn)&&typeof Kn[0]=="string"&&(Oa=on(Kn[0],Kn[1],Kn[2]),Su.push([Oa[0],Oa[1],Oa[2]]));Ln=Su}return Ln}var fu=!1,qh=!0;if(typeof S=="string")fu=!0;else if(Array.isArray(S)){var Uh=S.concat();ze=[];for(var pu,dr=Uh.length;dr--;)(typeof(pu=Uh.shift())!="string"||Array.isArray(pu)&&typeof pu[0]!="string")&&(qh=!1);fu=qh}if(fu===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var mu=Ee/Hn.internal.scaleFactor,gu=mu*(fi-1);switch(ae.baseline){case"bottom":Q-=gu;break;case"top":Q+=mu-gu;break;case"hanging":Q+=mu-2*gu;break;case"middle":Q+=mu/2-gu}if((gt=ae.maxWidth||0)>0&&(typeof S=="string"?S=Hn.splitTextToSize(S,gt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(an,on){return an.concat(Hn.splitTextToSize(on,gt))},[]))),Ae={text:S,x:M,y:Q,options:ae,mutex:{pdfEscape:Xr,activeFontKey:nt,fonts:zt,activeFontSize:Ee}},Ht.publish("preProcessText",Ae),S=Ae.text,We=(ae=Ae.options).angle,!(Nn instanceof at)&&We&&typeof We=="number"){We*=Math.PI/180,ae.rotationDirection===0&&(We=-We),N===y.ADVANCED&&(We=-We);var vu=Math.cos(We),Hh=Math.sin(We);Nn=new at(vu,Hh,-Hh,vu,0,0)}else We&&We instanceof at&&(Nn=We);N!==y.ADVANCED||Nn||(Nn=Us),(xt=ae.charSpace||uu)!==void 0&&(nr+=R(T(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=ae.horizontalScale)!==void 0&&(nr+=R(100*xn)+` Tz
`),ae.lang;var Wr=-1,a1=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,Vh=Hn.internal.getCurrentPageInfo().pageContext;switch(a1){case 0:case!1:case"fill":Wr=0;break;case 1:case!0:case"stroke":Wr=1;break;case 2:case"fillThenStroke":Wr=2;break;case 3:case"invisible":Wr=3;break;case 4:case"fillAndAddForClipping":Wr=4;break;case 5:case"strokeAndAddPathForClipping":Wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wr=6;break;case 7:case"addToPathForClipping":Wr=7}var wm=Vh.usedRenderingMode!==void 0?Vh.usedRenderingMode:-1;Wr!==-1?nr+=Wr+` Tr
`:wm!==-1&&(nr+=`0 Tr
`),Wr!==-1&&(Vh.usedRenderingMode=Wr),tt=ae.align||"left";var Mi,xu=Ee*fi,Sm=Hn.internal.pageSize.getWidth(),jm=zt[nt];xt=ae.charSpace||uu,gt=ae.maxWidth||0,Pt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var jo=[],Xl=function(an){return Hn.getStringUnitWidth(an,{font:jm,charSpace:xt,fontSize:Ee,doKerning:!1})*Ee/Xs};if(Object.prototype.toString.call(S)==="[object Array]"){var $r;ze=zh(S),tt!=="left"&&(Mi=ze.map(Xl));var Lr,No=0;if(tt==="right"){M-=Mi[0],S=[],dr=ze.length;for(var Ta=0;Ta<dr;Ta++)Ta===0?(Lr=Ys(M),$r=Aa(Q)):(Lr=T(No-Mi[Ta]),$r=-xu),S.push([ze[Ta],Lr,$r]),No=Mi[Ta]}else if(tt==="center"){M-=Mi[0]/2,S=[],dr=ze.length;for(var ka=0;ka<dr;ka++)ka===0?(Lr=Ys(M),$r=Aa(Q)):(Lr=T((No-Mi[ka])/2),$r=-xu),S.push([ze[ka],Lr,$r]),No=Mi[ka]}else if(tt==="left"){S=[],dr=ze.length;for(var yu=0;yu<dr;yu++)S.push(ze[yu])}else if(tt==="justify"&&jm.encoding==="Identity-H"){S=[],dr=ze.length,gt=gt!==0?gt:Sm;for(var Ea=0,On=0;On<dr;On++)if($r=On===0?Aa(Q):-xu,Lr=On===0?Ys(M):Ea,On<dr-1){var Gh=T((gt-Mi[On])/(ze[On].split(" ").length-1)),Mr=ze[On].split(" ");S.push([Mr[0]+" ",Lr,$r]),Ea=0;for(var Di=1;Di<Mr.length;Di++){var bu=(Xl(Mr[Di-1]+" "+Mr[Di])-Xl(Mr[Di]))*Xs+Gh;Di==Mr.length-1?S.push([Mr[Di],bu,0]):S.push([Mr[Di]+" ",bu,0]),Ea-=bu}}else S.push([ze[On],Lr,$r]);S.push(["",Ea,0])}else{if(tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],dr=ze.length,gt=gt!==0?gt:Sm,On=0;On<dr;On++)$r=On===0?Aa(Q):-xu,Lr=On===0?Ys(M):0,On<dr-1?jo.push(R(T((gt-Mi[On])/(ze[On].split(" ").length-1)))):jo.push(0),S.push([ze[On],Lr,$r])}}var Nm=typeof ae.R2L=="boolean"?ae.R2L:He;Nm===!0&&(S=Bh(S,function(an,on,Ln){return[an.split("").reverse().join(""),on,Ln]})),Ae={text:S,x:M,y:Q,options:ae,mutex:{pdfEscape:Xr,activeFontKey:nt,fonts:zt,activeFontSize:Ee}},Ht.publish("postProcessText",Ae),S=Ae.text,hs=Ae.mutex.isHex||!1;var Yh=zt[nt].encoding;Yh!=="WinAnsiEncoding"&&Yh!=="StandardEncoding"||(S=Bh(S,function(an,on,Ln){return[bm(an),on,Ln]})),ze=zh(S),S=[];for(var Wl,$l,Co,Kl=0,wu=1,Ql=Array.isArray(ze[0])?wu:Kl,_o="",Xh=function(an,on,Ln){var Kn="";return Ln instanceof at?(Ln=typeof ae.angle=="number"?as(Ln,new at(1,0,0,1,an,on)):as(new at(1,0,0,1,an,on),Ln),N===y.ADVANCED&&(Ln=as(new at(1,0,0,-1,0,0),Ln)),Kn=Ln.join(" ")+` Tm
`):Kn=R(an)+" "+R(on)+` Td
`,Kn},Pi=0;Pi<ze.length;Pi++){switch(_o="",Ql){case wu:Co=(hs?"<":"(")+ze[Pi][0]+(hs?">":")"),Wl=parseFloat(ze[Pi][1]),$l=parseFloat(ze[Pi][2]);break;case Kl:Co=(hs?"<":"(")+ze[Pi]+(hs?">":")"),Wl=Ys(M),$l=Aa(Q)}jo!==void 0&&jo[Pi]!==void 0&&(_o=jo[Pi]+` Tw
`),Pi===0?S.push(_o+Xh(Wl,$l,Nn)+Co):Ql===Kl?S.push(_o+Co):Ql===wu&&S.push(_o+Xh(Wl,$l,Nn)+Co)}S=Ql===Kl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ri=`BT
/`;return Ri+=nt+" "+Ee+` Tf
`,Ri+=R(Ee*fi)+` TL
`,Ri+=Gl+`
`,Ri+=nr,Ri+=S,P(Ri+="ET"),p[nt]=!0,Hn};var Qx=f.__private__.clip=f.clip=function(S){return P(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Qx("evenodd")},f.__private__.discardPath=f.discardPath=function(){return P("n"),this};var Gs=f.__private__.isValidStyle=function(S){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(M=!0),M};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return Gs(S)&&(u=S),this};var hm=f.__private__.getStyle=f.getStyle=function(S){var M=u;switch(S){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=S}return M},fm=f.close=function(){return P("h"),this};f.stroke=function(){return P("S"),this},f.fill=function(S){return lu("f",S),this},f.fillEvenOdd=function(S){return lu("f*",S),this},f.fillStroke=function(S){return lu("B",S),this},f.fillStrokeEvenOdd=function(S){return lu("B*",S),this};var lu=function(S,M){Qt(M)==="object"?Jx(M,S):P(S)},kh=function(S){S===null||N===y.ADVANCED&&S===void 0||(S=hm(S),P(S))};function Zx(S,M,Q,ae,xe){var Ae=new ad(M||this.boundingBox,Q||this.xStep,ae||this.yStep,this.gState,xe||this.matrix);Ae.stream=this.stream;var ze=S+"$$"+this.cloneIndex+++"$$";return Yr(ze,Ae),Ae}var Jx=function(S,M){var Q=ja[S.key],ae=Dt[Q];if(ae instanceof oc)P("q"),P(e1(M)),ae.gState&&f.setGState(ae.gState),P(S.matrix.toString()+" cm"),P("/"+Q+" sh"),P("Q");else if(ae instanceof ad){var xe=new at(1,0,0,-1,0,So());S.matrix&&(xe=xe.multiply(S.matrix||Us),Q=Zx.call(ae,S.key,S.boundingBox,S.xStep,S.yStep,xe).id),P("q"),P("/Pattern cs"),P("/"+Q+" scn"),ae.gState&&f.setGState(ae.gState),P(M),P("Q")}},e1=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Eh=f.moveTo=function(S,M){return P(R(T(S))+" "+R(B(M))+" m"),this},Hl=f.lineTo=function(S,M){return P(R(T(S))+" "+R(B(M))+" l"),this},bo=f.curveTo=function(S,M,Q,ae,xe,Ae){return P([R(T(S)),R(B(M)),R(T(Q)),R(B(ae)),R(T(xe)),R(B(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,M,Q,ae,xe){if(isNaN(S)||isNaN(M)||isNaN(Q)||isNaN(ae)||!Gs(xe))throw new Error("Invalid arguments passed to jsPDF.line");return N===y.COMPAT?this.lines([[Q-S,ae-M]],S,M,[1,1],xe||"S"):this.lines([[Q-S,ae-M]],S,M,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,M,Q,ae,xe,Ae){var ze,We,tt,xt,gt,Pt,xn,Nn,Hn,wr,nr,hs;if(typeof S=="number"&&(hs=Q,Q=M,M=S,S=hs),ae=ae||[1,1],Ae=Ae||!1,isNaN(M)||isNaN(Q)||!Array.isArray(S)||!Array.isArray(ae)||!Gs(xe)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Eh(M,Q),ze=ae[0],We=ae[1],xt=S.length,wr=M,nr=Q,tt=0;tt<xt;tt++)(gt=S[tt]).length===2?(wr=gt[0]*ze+wr,nr=gt[1]*We+nr,Hl(wr,nr)):(Pt=gt[0]*ze+wr,xn=gt[1]*We+nr,Nn=gt[2]*ze+wr,Hn=gt[3]*We+nr,wr=gt[4]*ze+wr,nr=gt[5]*We+nr,bo(Pt,xn,Nn,Hn,wr,nr));return Ae&&fm(),kh(xe),this},f.path=function(S){for(var M=0;M<S.length;M++){var Q=S[M],ae=Q.c;switch(Q.op){case"m":Eh(ae[0],ae[1]);break;case"l":Hl(ae[0],ae[1]);break;case"c":bo.apply(this,ae);break;case"h":fm()}}return this},f.__private__.rect=f.rect=function(S,M,Q,ae,xe){if(isNaN(S)||isNaN(M)||isNaN(Q)||isNaN(ae)||!Gs(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===y.COMPAT&&(ae=-ae),P([R(T(S)),R(B(M)),R(T(Q)),R(T(ae)),"re"].join(" ")),kh(xe),this},f.__private__.triangle=f.triangle=function(S,M,Q,ae,xe,Ae,ze){if(isNaN(S)||isNaN(M)||isNaN(Q)||isNaN(ae)||isNaN(xe)||isNaN(Ae)||!Gs(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-S,ae-M],[xe-Q,Ae-ae],[S-xe,M-Ae]],S,M,[1,1],ze,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,M,Q,ae,xe,Ae,ze){if(isNaN(S)||isNaN(M)||isNaN(Q)||isNaN(ae)||isNaN(xe)||isNaN(Ae)||!Gs(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*Q),Ae=Math.min(Ae,.5*ae),this.lines([[Q-2*xe,0],[xe*We,0,xe,Ae-Ae*We,xe,Ae],[0,ae-2*Ae],[0,Ae*We,-xe*We,Ae,-xe,Ae],[2*xe-Q,0],[-xe*We,0,-xe,-Ae*We,-xe,-Ae],[0,2*Ae-ae],[0,-Ae*We,xe*We,-Ae,xe,-Ae]],S+xe,M,[1,1],ze,!0),this},f.__private__.ellipse=f.ellipse=function(S,M,Q,ae,xe){if(isNaN(S)||isNaN(M)||isNaN(Q)||isNaN(ae)||!Gs(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*Q,ze=4/3*(Math.SQRT2-1)*ae;return Eh(S+Q,M),bo(S+Q,M-ze,S+Ae,M-ae,S,M-ae),bo(S-Ae,M-ae,S-Q,M-ze,S-Q,M),bo(S-Q,M+ze,S-Ae,M+ae,S,M+ae),bo(S+Ae,M+ae,S+Q,M+ze,S+Q,M),kh(xe),this},f.__private__.circle=f.circle=function(S,M,Q,ae){if(isNaN(S)||isNaN(M)||isNaN(Q)||!Gs(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,M,Q,Q,ae)},f.setFont=function(S,M,Q){return Q&&(M=E(M,Q)),nt=cm(S,M,{disableWarning:!1}),this};var t1=f.__private__.getFont=f.getFont=function(){return zt[cm.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,M,Q={};for(S in Zt)if(Zt.hasOwnProperty(S))for(M in Q[S]=[],Zt[S])Zt[S].hasOwnProperty(M)&&Q[S].push(M);return Q},f.addFont=function(S,M,Q,ae,xe){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(Q=E(Q,ae)),xe=xe||"Identity-H",_h.call(this,S,M,Q,xe)};var Vl,Oh=t.lineWidth||.200025,cu=f.__private__.getLineWidth=f.getLineWidth=function(){return Oh},pm=f.__private__.setLineWidth=f.setLineWidth=function(S){return Oh=S,P(R(T(S))+" w"),this};f.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(S,M){if(S=S||[],M=M||0,isNaN(M)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(Q){return R(T(Q))}).join(" "),M=R(T(M)),P("["+S+"] "+M+" d"),this};var mm=f.__private__.getLineHeight=f.getLineHeight=function(){return Ee*Vl};f.__private__.getLineHeight=f.getLineHeight=function(){return Ee*Vl};var gm=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Vl=S),this},vm=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Vl};gm(t.lineHeight);var Ys=f.__private__.getHorizontalCoordinate=function(S){return T(S)},Aa=f.__private__.getVerticalCoordinate=function(S){return N===y.ADVANCED?S:mt[Y].mediaBox.topRightY-mt[Y].mediaBox.bottomLeftY-T(S)},n1=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return R(Ys(S))},wo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return R(Aa(S))},ds=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ls(ds)},f.__private__.setStrokeColor=f.setDrawColor=function(S,M,Q,ae){return ds=cs({ch1:S,ch2:M,ch3:Q,ch4:ae,pdfColorType:"draw",precision:2}),P(ds),this};var Lh=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ls(Lh)},f.__private__.setFillColor=f.setFillColor=function(S,M,Q,ae){return Lh=cs({ch1:S,ch2:M,ch3:Q,ch4:ae,pdfColorType:"fill",precision:2}),P(Lh),this};var Gl=t.textColor||"0 g",r1=f.__private__.getTextColor=f.getTextColor=function(){return ls(Gl)};f.__private__.setTextColor=f.setTextColor=function(S,M,Q,ae){return Gl=cs({ch1:S,ch2:M,ch3:Q,ch4:ae,pdfColorType:"text",precision:3}),this};var uu=t.charSpace,i1=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(uu||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uu=S,this};var Mh=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var M=f.CapJoinStyles[S];if(M===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mh=M,P(M+" J"),this};var Dh=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var M=f.CapJoinStyles[S];if(M===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dh=M,P(M+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(R(T(S))+" M"),this},f.GState=Sv,f.setGState=function(S){(S=typeof S=="string"?Sn[ss[S]]:xm(null,S)).equals(Na)||(P("/"+S.id+" gs"),Na=S)};var xm=function(S,M){if(!S||!ss[S]){var Q=!1;for(var ae in Sn)if(Sn.hasOwnProperty(ae)&&Sn[ae].equals(M)){Q=!0;break}if(Q)M=Sn[ae];else{var xe="GS"+(Object.keys(Sn).length+1).toString(10);Sn[xe]=M,M.id=xe}return S&&(ss[S]=M.id),Ht.publish("addGState",M),M}};f.addGState=function(S,M){return xm(S,M),this},f.saveGraphicsState=function(){return P("q"),Gr.push({key:nt,size:Ee,color:Gl}),this},f.restoreGraphicsState=function(){P("Q");var S=Gr.pop();return nt=S.key,Ee=S.size,Gl=S.color,Na=null,this},f.setCurrentTransformationMatrix=function(S){return P(S.toString()+" cm"),this},f.comment=function(S){return P("#"+S),this};var du=function(S,M){var Q=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ae){isNaN(Ae)||(Q=parseFloat(Ae))}});var ae=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ae){isNaN(Ae)||(ae=parseFloat(Ae))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ae){xe=Ae.toString()}}),this},Ph=function(S,M,Q,ae){du.call(this,S,M),this.type="rect";var xe=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(ze){isNaN(ze)||(xe=parseFloat(ze))}});var Ae=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(ze){isNaN(ze)||(Ae=parseFloat(ze))}}),this},Rh=function(){this.page=jn,this.currentPage=Y,this.pages=Ce.slice(0),this.pagesContext=mt.slice(0),this.x=Et,this.y=Ct,this.matrix=yr,this.width=Yl(Y),this.height=So(Y),this.outputDestination=Be,this.id="",this.objectNumber=-1};Rh.prototype.restore=function(){jn=this.page,Y=this.currentPage,mt=this.pagesContext,Ce=this.pages,Et=this.x,Ct=this.y,yr=this.matrix,Fh(Y,this.width),Ih(Y,this.height),Be=this.outputDestination};var ym=function(S,M,Q,ae,xe){qs.push(new Rh),jn=Y=0,Ce=[],Et=S,Ct=M,yr=xe,Ah([Q,ae])},s1=function(S){if(Bs[S])qs.pop().restore();else{var M=new Rh,Q="Xo"+(Object.keys(ur).length+1).toString(10);M.id=Q,Bs[S]=Q,ur[Q]=M,Ht.publish("addFormObject",M),qs.pop().restore()}};for(var hu in f.beginFormObject=function(S,M,Q,ae,xe){return ym(S,M,Q,ae,xe),this},f.endFormObject=function(S){return s1(S),this},f.doFormObject=function(S,M){var Q=ur[Bs[S]];return P("q"),P(M.toString()+" cm"),P("/"+Q.id+" Do"),P("Q"),this},f.getFormObject=function(S){var M=ur[Bs[S]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},f.save=function(S,M){return S=S||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(ic(au(_a()),S),typeof ic.unload=="function"&&lt.setTimeout&&setTimeout(ic.unload,911),this):new Promise(function(Q,ae){try{var xe=ic(au(_a()),S);typeof ic.unload=="function"&&lt.setTimeout&&setTimeout(ic.unload,911),Q(xe)}catch(Ae){ae(Ae.message)}})},ot.API)ot.API.hasOwnProperty(hu)&&(hu==="events"&&ot.API.events.length?function(S,M){var Q,ae,xe;for(xe=M.length-1;xe!==-1;xe--)Q=M[xe][0],ae=M[xe][1],S.subscribe.apply(S,[Q].concat(typeof ae=="function"?[ae]:ae))}(Ht,ot.API.events):f[hu]=ot.API[hu]);var Yl=f.getPageWidth=function(S){return(mt[S=S||Y].mediaBox.topRightX-mt[S].mediaBox.bottomLeftX)/Ge},Fh=f.setPageWidth=function(S,M){mt[S].mediaBox.topRightX=M*Ge+mt[S].mediaBox.bottomLeftX},So=f.getPageHeight=function(S){return(mt[S=S||Y].mediaBox.topRightY-mt[S].mediaBox.bottomLeftY)/Ge},Ih=f.setPageHeight=function(S,M){mt[S].mediaBox.topRightY=M*Ge+mt[S].mediaBox.bottomLeftY};return f.internal={pdfEscape:Xr,getStyle:hm,getFont:t1,getFontSize:Ue,getCharSpace:i1,getTextColor:r1,getLineHeight:mm,getLineHeightFactor:vm,getLineWidth:cu,write:ne,getHorizontalCoordinate:Ys,getVerticalCoordinate:Aa,getCoordinateString:n1,getVerticalCoordinateString:wo,collections:{},newObject:$n,newAdditionalObject:Zc,newObjectDeferred:Un,newObjectDeferredBegin:hi,getFilters:Hs,putStream:Li,events:Ht,scaleFactor:Ge,pageSize:{getWidth:function(){return Yl(Y)},setWidth:function(S){Fh(Y,S)},getHeight:function(){return So(Y)},setHeight:function(S){Ih(Y,S)}},encryptionOptions:d,encryption:br,getEncryptor:$x,output:ou,getNumberOfPages:Vx,pages:Ce,out:P,f2:K,f3:D,getPageInfo:dm,getPageInfoByObjId:pt,getCurrentPageInfo:Kx,getPDFVersion:g,Point:du,Rectangle:Ph,Matrix:at,hasHotfix:um},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Yl(Y)},set:function(S){Fh(Y,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return So(Y)},set:function(S){Ih(Y,S)},enumerable:!0,configurable:!0}),Ux.call(f,Se),nt="F1",om(i,n),Ht.publish("initialized"),f}Hu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Hu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Hu.prototype.processOwnerPassword=function(t,e){return e5(Jb(e).substr(0,5),t)},Hu.prototype.encryptor=function(t,e){var n=Jb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return e5(n,r)}},Sv.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Qt(t)!==Qt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="3.0.1";var An=ot.API,LS=1,Qc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},qo=function(t){return t.toFixed(5)};An.__acroform__={};var di=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},DN=function(t){return t*LS},Qs=function(t){var e=new PO,n=Ze.internal.getHeight(t)||0,r=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(r)),Number(vt(n))],e},TY=An.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},kY=An.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},EY=An.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fn=An.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EY(t,e-1)},In=An.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TY(t,e-1)},zn=An.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kY(t,e-1)},OY=An.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(vt(c.lowerLeft_X)),Number(vt(c.lowerLeft_Y)),Number(vt(c.upperRight_X)),Number(vt(c.upperRight_Y))]},LY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=t5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Qs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},t5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=n,a=Ze.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ze.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(D,T,X){if(D+1<i.length){var B=T+" "+i[D+1][0];return qg(B,t,X).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,h=qg("3",t,s).height,p=t.multiline?a-s:(a-h)/2,f=p+=2,b=0,g=0,w=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+qg(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var A=!1;if(i[N].length!==1&&w!==i[N].length-1){if((h+2)*(y+2)+2>a)continue e;x+=i[N][w],A=!0,g=N,N--}else{x=(x+=i[N][w]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(N),E=c(k,x,s),R=N>=i.length-1;if(E&&!R){x+=" ",w=0;continue}if(E||R){if(R)g=k;else if(t.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>a)continue e;g=k}}for(var O="",H=b;H<=g;H++){var K=i[H];if(t.multiline){if(H===g){O+=K[w]+" ",w=(w+1)%K.length;continue}if(H===b){O+=K[K.length-1]+" ";continue}}O+=K[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=qg(O,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}e+=vt(u)+" "+vt(f)+` Td
`,e+="("+Qc(O)+`) Tj
`,e+=-vt(u)+` 0 Td
`,f=-(s+2),d=0,b=A?g:g+1,y++,x=""}break}return r.text=e,r.fontSize=s,r},qg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},MY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DY=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},PY=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Qt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},RY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(MY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new RO,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&DY(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=OY(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ze.createDefaultAppearanceStream(o),Qt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=LY(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var b=f[a];typeof b=="function"&&(b=b.call(i,o)),h+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,o)),h+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&PY(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},DO=An.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Qt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Qc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yy=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Qc(r(t))+")"},ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ua.prototype.toString=function(){return this.objId+" 0 R"},ua.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ua.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:DO(i,this.objId,this.scope)}):i instanceof ua?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var PO=function(){ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};di(PO,ua);var RO=function(){ua.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Qc(n(t))+")"}},set:function(n){t=n}})};di(RO,ua);var Fs=function t(){ua.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(e,3)},set:function(x){x?this.F=In(e,3):this.F=zn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof jv)return;s="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Qc(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/LS:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof jv||this instanceof kc))return Yy(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ar?p:Yy(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof ar?x:x.substr(0,1)==="("?Pu(x.substr(1,x.length-2)):Pu(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar?Pu(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof ar?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ar?f:Yy(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof ar?x:x.substr(0,1)==="("?Pu(x.substr(1,x.length-2)):Pu(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar?Pu(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof ar?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(x){x?this.Ff=In(this.Ff,1):this.Ff=zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(x){x?this.Ff=In(this.Ff,2):this.Ff=zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(x){x?this.Ff=In(this.Ff,3):this.Ff=zn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');w=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(w){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};di(Fs,ua);var Sd=function(){Fs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DO(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,u=[];c=a.exec(s);)u.push(c[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(n){n?this.Ff=In(this.Ff,18):this.Ff=zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=In(this.Ff,19):this.Ff=zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(n){n?(this.Ff=In(this.Ff,20),e.sort()):this.Ff=zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(n){n?this.Ff=In(this.Ff,22):this.Ff=zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(n){n?this.Ff=In(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(n){n?this.Ff=In(this.Ff,27):this.Ff=zn(this.Ff,27)}}),this.hasAppearanceStream=!1};di(Sd,Fs);var jd=function(){Sd.call(this),this.fontName="helvetica",this.combo=!1};di(jd,Sd);var Nd=function(){jd.call(this),this.combo=!0};di(Nd,jd);var b0=function(){Nd.call(this),this.edit=!0};di(b0,Nd);var ar=function(){Fs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(n){n?this.Ff=In(this.Ff,15):this.Ff=zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(n){n?this.Ff=In(this.Ff,16):this.Ff=zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(n){n?this.Ff=In(this.Ff,17):this.Ff=zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(n){n?this.Ff=In(this.Ff,26):this.Ff=zn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Qc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Qt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};di(ar,Fs);var w0=function(){ar.call(this),this.pushButton=!0};di(w0,ar);var Cd=function(){ar.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};di(Cd,ar);var jv=function(){var t,e;Fs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Qc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Qt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};di(jv,Fs),Cd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Cd.prototype.createOption=function(t){var e=new jv;return e.Parent=this,e.optionName=t,this.Kids.push(e),FY.call(this.scope,e),e};var S0=function(){ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};di(S0,ar);var kc=function(){Fs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(e){e?this.Ff=In(this.Ff,13):this.Ff=zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(e){e?this.Ff=In(this.Ff,21):this.Ff=zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(e){e?this.Ff=In(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(e){e?this.Ff=In(this.Ff,24):this.Ff=zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(e){e?this.Ff=In(this.Ff,25):this.Ff=zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(e){e?this.Ff=In(this.Ff,26):this.Ff=zn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};di(kc,Fs);var j0=function(){kc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(t){t?this.Ff=In(this.Ff,14):this.Ff=zn(this.Ff,14)}}),this.password=!0};di(j0,kc);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=t5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+vt(Ze.internal.getWidth(t))+" "+vt(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+vt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Qs(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),a=Ze.internal.getWidth(t),o=t5(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(a)+" "+vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(a-1)+" "+vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+vt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Ze.internal.getWidth(t))+" "+vt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Qs(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qo(Ze.internal.getWidth(t)/2)+" "+qo(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),a=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qo(Ze.internal.getWidth(t)/2)+" "+qo(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qo(Ze.internal.getWidth(t)/2)+" "+qo(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qo(Ze.internal.getWidth(t)/2)+" "+qo(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Qs(t);e.scope=t.scope;var n=[],r=Ze.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+vt(Ze.internal.getWidth(t)-2)+" "+vt(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=Ze.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Ze.internal.getWidth(t))+" "+vt(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vt(Ze.internal.getWidth(t)-2)+" "+vt(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Qs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Ze.internal.getWidth(t))+" "+vt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),n=Ze.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(t){var e=0;return Qt(t)==="object"&&(e=DN(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return Qt(t)==="object"&&(e=DN(t.Rect[3])),e};var FY=An.addField=function(t){if(RY(this,t),!(t instanceof Fs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};An.AcroFormChoiceField=Sd,An.AcroFormListBox=jd,An.AcroFormComboBox=Nd,An.AcroFormEditBox=b0,An.AcroFormButton=ar,An.AcroFormPushButton=w0,An.AcroFormRadioButton=Cd,An.AcroFormCheckBox=S0,An.AcroFormTextField=kc,An.AcroFormPasswordField=j0,An.AcroFormAppearance=Ze,An.AcroForm={ChoiceField:Sd,ListBox:jd,ComboBox:Nd,EditBox:b0,Button:ar,PushButton:w0,RadioButton:Cd,CheckBox:S0,TextField:kc,PasswordField:j0,Appearance:Ze},ot.AcroForm={ChoiceField:Sd,ListBox:jd,ComboBox:Nd,EditBox:b0,Button:ar,PushButton:w0,RadioButton:Cd,CheckBox:S0,TextField:kc,PasswordField:j0,Appearance:Ze};ot.AcroForm;function FO(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(D,T){var X,B,ee,G,te,V=e;if((T=T||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(E(D))for(te in n)for(ee=n[te],X=0;X<ee.length;X+=1){for(G=!0,B=0;B<ee[X].length;B+=1)if(ee[X][B]!==void 0&&ee[X][B]!==D[B]){G=!1;break}if(G===!0){V=te;break}}else for(te in n)for(ee=n[te],X=0;X<ee.length;X+=1){for(G=!0,B=0;B<ee[X].length;B+=1)if(ee[X][B]!==void 0&&ee[X][B]!==D.charCodeAt(B)){G=!1;break}if(G===!0){V=te;break}}return V===e&&T!==e&&(V=T),V},i=function D(T){for(var X=this.internal.write,B=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:T.width}),G.push({key:"Height",value:T.height}),T.colorSpace===w.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===w.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var te="",V=0,re=T.transparency.length;V<re;V++)te+=T.transparency[V]+" "+T.transparency[V]+" ";G.push({key:"Mask",value:"["+te+"]"})}T.sMask!==void 0&&G.push({key:"SMask",value:T.objectId+1+" 0 R"});var de=T.filter!==void 0?["/"+T.filter]:void 0;if(B({data:T.data,additionalKeyValues:G,alreadyAppliedFilters:de,objectId:T.objectId}),X("endobj"),"sMask"in T&&T.sMask!==void 0){var Oe="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,F={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Oe,data:T.sMask};"filter"in T&&(F.filter=T.filter),D.call(this,F)}if(T.colorSpace===w.INDEXED){var Y=this.internal.newObject();B({data:O(new Uint8Array(T.palette)),objectId:Y}),X("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var T in D)i.call(this,D[T])},a=function(){var D,T=this.internal.collections.addImage_images,X=this.internal.write;for(var B in T)X("/I"+(D=T[B]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(D){return typeof t["process"+D.toUpperCase()]=="function"},h=function(D){return Qt(D)==="object"&&D.nodeType===1},p=function(D,T){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var X=""+D.getAttribute("src");if(X.indexOf("data:image/")===0)return Xf(unescape(X).split("base64,").pop());var B=t.loadFile(X,!0);if(B!==void 0)return B}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ee;switch(T){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;case"JPEG":case"JPG":default:ee="image/jpeg"}return Xf(D.toDataURL(ee,1).split("base64,").pop())}},f=function(D){var T=this.internal.collections.addImage_images;if(T){for(var X in T)if(D===T[X].alias)return T[X]}},b=function(D,T,X){return D||T||(D=-96,T=-96),D<0&&(D=-1*X.width*72/D/this.internal.scaleFactor),T<0&&(T=-1*X.height*72/T/this.internal.scaleFactor),D===0&&(D=T*X.width/X.height),T===0&&(T=D*X.height/X.width),[D,T]},g=function(D,T,X,B,ee,G){var te=b.call(this,X,B,ee),V=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,de=c.call(this);if(X=te[0],B=te[1],de[ee.index]=ee,G){G*=Math.PI/180;var Oe=Math.cos(G),F=Math.sin(G),Y=function(Z){return Z.toFixed(4)},W=[Y(Oe),Y(F),Y(-1*F),Y(Oe),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,V(D),re(T+B),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([V(X),"0","0",V(B),"0","0","cm"].join(" "))):this.internal.write([V(X),"0","0",V(B),V(D),re(T+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(D){var T,X,B=0;if(typeof D=="string")for(X=D.length,T=0;T<X;T++)B=(B<<5)-B+D.charCodeAt(T),B|=0;else if(E(D))for(X=D.byteLength/2,T=0;T<X;T++)B=(B<<5)-B+D[T],B|=0;return B},N=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var T=!0;return D.length===0&&(T=!1),D.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(T=!1),T},A=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var T=D.indexOf(",");return T<0?null:D.substring(0,T).trim().endsWith("base64")?D.substring(T+1):null},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return k()&&D instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(D){return k()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(D){for(var T=D.length,X=new Uint8Array(T),B=0;B<T;B++)X[B]=D.charCodeAt(B);return X},O=t.__addimage__.arrayBufferToBinaryString=function(D){for(var T="",X=E(D)?D:new Uint8Array(D),B=0;B<X.length;B+=8192)T+=String.fromCharCode.apply(null,X.subarray(B,B+8192));return T};t.addImage=function(){var D,T,X,B,ee,G,te,V,re;if(typeof arguments[1]=="number"?(T=e,X=arguments[1],B=arguments[2],ee=arguments[3],G=arguments[4],te=arguments[5],V=arguments[6],re=arguments[7]):(T=arguments[1],X=arguments[2],B=arguments[3],ee=arguments[4],G=arguments[5],te=arguments[6],V=arguments[7],re=arguments[8]),Qt(D=arguments[0])==="object"&&!h(D)&&"imageData"in D){var de=D;D=de.imageData,T=de.format||T||e,X=de.x||X||0,B=de.y||B||0,ee=de.w||de.width||ee,G=de.h||de.height||G,te=de.alias||te,V=de.compression||V,re=de.rotation||de.angle||re}var Oe=this.internal.getFilters();if(V===void 0&&Oe.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(X)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var F=H.call(this,D,T,te,V);return g.call(this,X,B,ee,G,F,re),this};var H=function(D,T,X,B){var ee,G,te;if(typeof D=="string"&&r(D)===e){D=unescape(D);var V=K(D,!1);(V!==""||(V=t.loadFile(D,!0))!==void 0)&&(D=V)}if(h(D)&&(D=p(D,T)),T=r(D,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((te=X)==null||te.length===0)&&(X=function(re){return typeof re=="string"||E(re)?y(re):E(re.data)?y(re.data):null}(D)),(ee=f.call(this,X))||(k()&&(D instanceof Uint8Array||T==="RGBA"||(G=D,D=R(D))),ee=this["process"+T.toUpperCase()](D,u.call(this),X,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:x.NONE}(B),G)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},K=t.__addimage__.convertBase64ToBinaryString=function(D,T){T=typeof T!="boolean"||T;var X,B="";if(typeof D=="string"){var ee;X=(ee=A(D))!==null&&ee!==void 0?ee:D;try{B=Xf(X)}catch(G){if(T)throw N(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function(D){var T,X,B="";if(h(D)&&(D=p(D)),typeof D=="string"&&r(D)===e&&((B=K(D,!1))===""&&(B=t.loadFile(D)||""),D=B),X=r(D),!d(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!k()||D instanceof Uint8Array||(D=R(D)),!(T=this["process"+X.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=X,T}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+f(x(y))+") >>",g.content=s;var N=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var k=this.annotations._nameMap[r.options.name];r.options.pageNumber=k.page,r.options.top=k.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var E=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=c,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,o,a,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var w=0,x=n,y="",N=0;for(w=0;w<g.length;w+=1)x[g.charCodeAt(w)]!==void 0?(N++,typeof(x=x[g.charCodeAt(w)])=="number"&&(y+=String.fromCharCode(x),x=n,N=0),w===g.length-1&&(x=n,y+=g.charAt(w-(N-1)),w-=N-1,N=0)):(x=n,y+=g.charAt(w-N),w-=N,N=0);return y};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,w,x){return a(g)?s(g)===!1?-1:!u(g)||!a(w)&&!a(x)||!a(x)&&o(w)||o(g)&&!a(w)||o(g)&&c(w)||o(g)&&o(w)?0:d(g)&&a(w)&&!o(w)&&a(x)&&u(x)?3:o(g)||!a(x)?1:2:-1},f=function(g){var w=0,x=0,y=0,N="",A="",k="",E=(g=g||"").split("\\s+"),R=[];for(w=0;w<E.length;w+=1){for(R.push(""),x=0;x<E[w].length;x+=1)N=E[w][x],A=E[w][x-1],k=E[w][x+1],a(N)?(y=p(N,A,k),R[w]+=y!==-1?String.fromCharCode(e[N.charCodeAt(0)][y]):N):R[w]+=N;R[w]=h(R[w])}return R.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(w)){var y=0;for(x=[],y=0;y<w.length;y+=1)Array.isArray(w[y])?x.push([f(w[y][0]),w[y][1],w[y][2]]):x.push([f(w[y])]);g=x}else g=f(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",b])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(g){b=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,b=0,g=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,A){return N.concat(w.splitTextToSize(A,x))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)f<(g=this.getStringUnitWidth(c[y],{font:h})*d)&&(f=g);return f!==0&&(b=c.length),{w:f/=p,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,b,g,w,x=[],y=[],N=[],A={},k={},E=[],R=[],O=(p=p||{}).autoSize||!1,H=p.printHeaders!==!1,K=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,D=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,X=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=B,this.setFontSize(K),h==null)y=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(h)&&Qt(h[0])==="object")for(x=h.map(function(de){return de.name}),y=h.map(function(de){return de.prompt||de.name||""}),N=h.map(function(de){return de.align||"left"}),f=0;f<h.length;f+=1)k[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=x=h,N=x.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(A[w=x[f]]=d.map(function(de){return de[w]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[w],this.setFont(void 0,"normal"),g=0;g<b.length;g+=1)E.push(this.getTextDimensions(b[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[w]=Math.max.apply(null,E)+T+T,E=[]}if(H){var ee={};for(f=0;f<x.length;f+=1)ee[x[f]]={},ee[x[f]].text=y[f],ee[x[f]].align=N[f];var G=o.call(this,ee,k);R=x.map(function(de){return new s(c,u,k[de],G,ee[de].text,void 0,ee[de].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var te=h.reduce(function(de,Oe){return de[Oe.name]=Oe.align,de},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var V=o.call(this,d[f],k);for(g=0;g<x.length;g+=1){var re=d[f][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:re},this),a.call(this,new s(c,u,k[x[g]],V,re,f+2,te[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var b=c[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,b){return Math.max(f,b)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ot.API);var IO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n5=FO(zO),BO=[100,200,300,400,500,600,700,800,900],IY=FO(BO);function r5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return IO[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof n5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function PN(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var zY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},RN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FN(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function BY(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},zY,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=r5(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+FN(s)+"' and default family '"+r+"'.");if(a=function(c,u){if(u[c])return u[c];var d=n5[c],h=d<=n5.normal?-1:1,p=PN(u,zO,d,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(s.stretch,a),a=function(c,u){if(u[c])return u[c];for(var d=IO[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=IY[c],h=PN(u,BO,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+FN(s)+"'.");return a}function IN(t){return t.trimLeft()}function qY(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function UY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ug,zN,BN,Xy=["times"];(function(t){var e,n,r,i,s,a,o,c,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=F;Object.defineProperty(this,"pdf",{get:function(){return Y}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(J){W=!!J}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(J){Z=!!J}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(J){isNaN(J)||(se=J)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(J){isNaN(J)||(ie=J)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(J){var P;typeof J=="number"?P=[J,J,J,J]:((P=new Array(4))[0]=J[0],P[1]=J.length>=2?J[1]:P[0],P[2]=J.length>=3?J[2]:P[0],P[3]=J.length>=4?J[3]:P[1]),u.margin=P}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(J){ce=J}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(J){ve=J}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(J){je=J}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(J){J instanceof d&&(u=J)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(J){u.path=J}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(J){Ce=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var P;P=p(J),this.ctx.fillStyle=P.style,this.ctx.isFillTransparent=P.a===0,this.ctx.fillOpacity=P.a,this.pdf.setFillColor(P.r,P.g,P.b,{a:P.a}),this.pdf.setTextColor(P.r,P.g,P.b,{a:P.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var P=p(J);this.ctx.strokeStyle=P.style,this.ctx.isStrokeTransparent=P.a===0,this.ctx.strokeOpacity=P.a,P.a===0?this.pdf.setDrawColor(255,255,255):(P.a,this.pdf.setDrawColor(P.r,P.g,P.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var ke=null;function Be(J,P){if(ke===null){var ne=function(ye){var Se=[];return Object.keys(ye).forEach(function(Ee){ye[Ee].forEach(function(Le){var Ue=null;switch(Le){case"bold":Ue={family:Ee,weight:"bold"};break;case"italic":Ue={family:Ee,style:"italic"};break;case"bolditalic":Ue={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Ee}}Ue!==null&&(Ue.ref={name:Ee,style:Le},Se.push(Ue))})}),Se}(J.getFontList());ke=function(ye){for(var Se={},Ee=0;Ee<ye.length;++Ee){var Le=r5(ye[Ee]),Ue=Le.family,He=Le.stretch,Te=Le.style,Ie=Le.weight;Se[Ue]=Se[Ue]||{},Se[Ue][He]=Se[Ue][He]||{},Se[Ue][He][Te]=Se[Ue][He][Te]||{},Se[Ue][He][Te][Ie]=Le}return Se}(ne.concat(P))}return ke}var he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(J){ke=null,he=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var P;if(this.ctx.font=J,(P=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(J))!==null){var ne=P[1];P[2];var ye=P[3],Se=P[4];P[5];var Ee=P[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Le==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ue=function(et){var nt,Ge,Et=[],Ct=et.trim();if(Ct==="")return Xy;if(Ct in RN)return[RN[Ct]];for(;Ct!=="";){switch(Ge=null,nt=(Ct=IN(Ct)).charAt(0)){case'"':case"'":Ge=qY(Ct.substring(1),nt);break;default:Ge=UY(Ct)}if(Ge===null||(Et.push(Ge[0]),(Ct=IN(Ge[1]))!==""&&Ct.charAt(0)!==","))return Xy;Ct=Ct.replace(/^,/,"")}return Et}(Ee);if(this.fontFaces){var He=BY(Be(this.pdf,this.fontFaces),Ue.map(function(et){return{family:et,stretch:"normal",weight:ye,style:ne}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Te="";(ye==="bold"||parseInt(ye,10)>=700||ne==="bold")&&(Te="bold"),ne==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var Ie="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Ue.length;Je++){if(this.pdf.internal.getFont(Ue[Je],Te,{noFallback:!0,disableWarning:!0})!==void 0){Ie=Ue[Je];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(Ue[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ie=Ue[Je],Te="bold";else if(this.pdf.internal.getFont(Ue[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ie=Ue[Je],Te="normal";break}}if(Ie===""){for(var ut=0;ut<Ue.length;ut++)if(Xe[Ue[ut]]){Ie=Xe[Ue[ut]];break}}Ie=Ie===""?"Times":Ie,this.pdf.setFont(Ie,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(F,Y));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(F,Y)},h.prototype.closePath=function(){var F=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Qt(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){F=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},h.prototype.lineTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(F,Y));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,Y,W,Z){if(isNaN(W)||isNaN(Z)||isNaN(F)||isNaN(Y))throw rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(W,Z)),ie=this.ctx.transform.applyToPoint(new a(F,Y));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},h.prototype.bezierCurveTo=function(F,Y,W,Z,se,ie){if(isNaN(se)||isNaN(ie)||isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z))throw rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(se,ie)),ve=this.ctx.transform.applyToPoint(new a(F,Y)),je=this.ctx.transform.applyToPoint(new a(W,Z));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:je.x,y2:je.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},h.prototype.arc=function(F,Y,W,Z,se,ie){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z)||isNaN(se))throw rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(F,Y));F=ce.x,Y=ce.y;var ve=this.ctx.transform.applyToPoint(new a(0,W)),je=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(ve.x-je.x,2)+Math.pow(ve.y-je.y,2))}Math.abs(se-Z)>=2*Math.PI&&(Z=0,se=2*Math.PI),this.path.push({type:"arc",x:F,y:Y,radius:W,startAngle:Z,endAngle:se,counterclockwise:ie})},h.prototype.arcTo=function(F,Y,W,Z,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,Y,W,Z){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z))throw rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Y),this.lineTo(F+W,Y),this.lineTo(F+W,Y+Z),this.lineTo(F,Y+Z),this.lineTo(F,Y),this.lineTo(F+W,Y),this.lineTo(F,Y)},h.prototype.fillRect=function(F,Y,W,Z){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z))throw rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Y,W,Z),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(F,Y,W,Z){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z))throw rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,Y,W,Z),this.stroke())},h.prototype.clearRect=function(F,Y,W,Z){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z))throw rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Y,W,Z))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var Y,W,Z,se;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Y=0,W=0,Z=0,se=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ie!==null)Y=parseInt(ie[1]),W=parseInt(ie[2]),Z=parseInt(ie[3]),se=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Y=parseInt(ie[1]),W=parseInt(ie[2]),Z=parseInt(ie[3]),se=parseFloat(ie[4]);else{if(se=1,typeof F=="string"&&F.charAt(0)!=="#"){var ce=new OO(F);F=ce.ok?ce.toHex():"#000000"}F.length===4?(Y=F.substring(1,2),Y+=Y,W=F.substring(2,3),W+=W,Z=F.substring(3,4),Z+=Z):(Y=F.substring(1,3),W=F.substring(3,5),Z=F.substring(5,7)),Y=parseInt(Y,16),W=parseInt(W,16),Z=parseInt(Z,16)}}return{r:Y,g:W,b:Z,a:se,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,Y,W,Z){if(isNaN(Y)||isNaN(W)||typeof F!="string")throw rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var se=V(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;T.call(this,{text:F,x:Y,y:W,scale:ie,angle:se,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(F,Y,W,Z){if(isNaN(Y)||isNaN(W)||typeof F!="string")throw rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Z=isNaN(Z)?void 0:Z;var se=V(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;T.call(this,{text:F,x:Y,y:W,scale:ie,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(F){if(typeof F!="string")throw rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,W=this.pdf.internal.scaleFactor,Z=Y.internal.getFontSize(),se=Y.getStringUnitWidth(F)*Z/Y.internal.scaleFactor,ie=function(ce){var ve=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new ie({width:se*=Math.round(96*W/72*1e4)/1e4})},h.prototype.scale=function(F,Y){if(isNaN(F)||isNaN(Y))throw rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(F,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.rotate=function(F){if(isNaN(F))throw rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(F,Y){if(isNaN(F)||isNaN(Y))throw rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,F,Y);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.transform=function(F,Y,W,Z,se,ie){if(isNaN(F)||isNaN(Y)||isNaN(W)||isNaN(Z)||isNaN(se)||isNaN(ie))throw rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(F,Y,W,Z,se,ie);this.ctx.transform=this.ctx.transform.multiply(ce)},h.prototype.setTransform=function(F,Y,W,Z,se,ie){F=isNaN(F)?1:F,Y=isNaN(Y)?0:Y,W=isNaN(W)?0:W,Z=isNaN(Z)?1:Z,se=isNaN(se)?0:se,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(F,Y,W,Z,se,ie)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,Y,W,Z,se,ie,ce,ve,je){var Ce=this.pdf.getImageProperties(F),ke=1,Be=1,he=1,J=1;Z!==void 0&&ve!==void 0&&(he=ve/Z,J=je/se,ke=Ce.width/Z*ve/Z,Be=Ce.height/se*je/se),ie===void 0&&(ie=Y,ce=W,Y=0,W=0),Z!==void 0&&ve===void 0&&(ve=Z,je=se),Z===void 0&&ve===void 0&&(ve=Ce.width,je=Ce.height);for(var P,ne=this.ctx.transform.decompose(),ye=V(ne.rotate.shx),Se=new c,Ee=(Se=(Se=(Se=Se.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new o(ie-Y*he,ce-W*J,Z*ke,se*Be)),Le=w.call(this,Ee),Ue=[],He=0;He<Le.length;He+=1)Ue.indexOf(Le[He])===-1&&Ue.push(Le[He]);if(N(Ue),this.autoPaging)for(var Te=Ue[0],Ie=Ue[Ue.length-1],Xe=Te;Xe<Ie+1;Xe++){this.pdf.setPage(Xe);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Xe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Xe===1?0:et+(Xe-2)*nt;if(this.ctx.clip_path.length!==0){var Et=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(P,this.posX+this.margin[3],-Ge+ut+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Et}var Ct=JSON.parse(JSON.stringify(Ee));Ct=y([Ct],this.posX+this.margin[3],-Ge+ut+this.ctx.prevPageLastElemOffset)[0];var yr=(Xe>Te||Xe<Ie)&&g.call(this);yr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,nt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,ye),yr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,ye)};var w=function(F,Y,W){var Z=[];Y=Y||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Z.push(Math.floor((F.y+se)/W)+1);break;case"arc":Z.push(Math.floor((F.y+se-F.radius)/W)+1),Z.push(Math.floor((F.y+se+F.radius)/W)+1);break;case"qct":var ie=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Z.push(Math.floor((ie.y+se)/W)+1),Z.push(Math.floor((ie.y+ie.h+se)/W)+1);break;case"bct":var ce=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Z.push(Math.floor((ce.y+se)/W)+1),Z.push(Math.floor((ce.y+ce.h+se)/W)+1);break;case"rect":Z.push(Math.floor((F.y+se)/W)+1),Z.push(Math.floor((F.y+F.h+se)/W)+1)}for(var ve=0;ve<Z.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ve];)x.call(this);return Z},x=function(){var F=this.fillStyle,Y=this.strokeStyle,W=this.font,Z=this.lineCap,se=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Y,this.font=W,this.lineCap=Z,this.lineWidth=se,this.lineJoin=ie},y=function(F,Y,W){for(var Z=0;Z<F.length;Z++)switch(F[Z].type){case"bct":F[Z].x2+=Y,F[Z].y2+=W;case"qct":F[Z].x1+=Y,F[Z].y1+=W;case"mt":case"lt":case"arc":default:F[Z].x+=Y,F[Z].y+=W}return F},N=function(F){return F.sort(function(Y,W){return Y-W})},A=function(F,Y){for(var W,Z,se=this.fillStyle,ie=this.strokeStyle,ce=this.lineCap,ve=this.lineWidth,je=Math.abs(ve*this.ctx.transform.scaleX),Ce=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),he=[],J=0;J<Be.length;J++)if(Be[J].x!==void 0)for(var P=w.call(this,Be[J]),ne=0;ne<P.length;ne+=1)he.indexOf(P[ne])===-1&&he.push(P[ne]);for(var ye=0;ye<he.length;ye++)for(;this.pdf.internal.getNumberOfPages()<he[ye];)x.call(this);if(N(he),this.autoPaging)for(var Se=he[0],Ee=he[he.length-1],Le=Se;Le<Ee+1;Le++){this.pdf.setPage(Le),this.fillStyle=se,this.strokeStyle=ie,this.lineCap=ce,this.lineWidth=je,this.lineJoin=Ce;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Le===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Le===1?0:Te+(Le-2)*Ie;if(this.ctx.clip_path.length!==0){var Je=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-Xe+He+this.ctx.prevPageLastElemOffset),k.call(this,F,!0),this.path=Je}if(Z=JSON.parse(JSON.stringify(ke)),this.path=y(Z,this.posX+this.margin[3],-Xe+He+this.ctx.prevPageLastElemOffset),Y===!1||Le===0){var ut=(Le>Se||Le<Ee)&&g.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Ie,null).clip().discardPath()),k.call(this,F,Y),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=je,k.call(this,F,Y),this.lineWidth=ve;this.path=ke},k=function(F,Y){if((F!=="stroke"||Y||!b.call(this))&&(F==="stroke"||Y||!f.call(this))){for(var W,Z,se=[],ie=this.path,ce=0;ce<ie.length;ce++){var ve=ie[ce];switch(ve.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ve,deltas:[],abs:[]});break;case"lt":var je=se.length;if(ie[ce-1]&&!isNaN(ie[ce-1].x)&&(W=[ve.x-ie[ce-1].x,ve.y-ie[ce-1].y],je>0)){for(;je>=0;je--)if(se[je-1].close!==!0&&se[je-1].begin!==!0){se[je-1].deltas.push(W),se[je-1].abs.push(ve);break}}break;case"bct":W=[ve.x1-ie[ce-1].x,ve.y1-ie[ce-1].y,ve.x2-ie[ce-1].x,ve.y2-ie[ce-1].y,ve.x-ie[ce-1].x,ve.y-ie[ce-1].y],se[se.length-1].deltas.push(W);break;case"qct":var Ce=ie[ce-1].x+2/3*(ve.x1-ie[ce-1].x),ke=ie[ce-1].y+2/3*(ve.y1-ie[ce-1].y),Be=ve.x+2/3*(ve.x1-ve.x),he=ve.y+2/3*(ve.y1-ve.y),J=ve.x,P=ve.y;W=[Ce-ie[ce-1].x,ke-ie[ce-1].y,Be-ie[ce-1].x,he-ie[ce-1].y,J-ie[ce-1].x,P-ie[ce-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ve)}}Z=Y?null:F==="stroke"?"stroke":"fill";for(var ne=!1,ye=0;ye<se.length;ye++)if(se[ye].arc)for(var Se=se[ye].abs,Ee=0;Ee<Se.length;Ee++){var Le=Se[Ee];Le.type==="arc"?O.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,Y,!ne):X.call(this,Le.x,Le.y),ne=!0}else if(se[ye].close===!0)this.pdf.internal.out("h"),ne=!1;else if(se[ye].begin!==!0){var Ue=se[ye].start.x,He=se[ye].start.y;B.call(this,se[ye].deltas,Ue,He),ne=!0}Z&&H.call(this,Z),Y&&K.call(this)}},E=function(F){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-W;case"top":return F+Y-W;case"hanging":return F+Y-2*W;case"middle":return F+Y/2-W;case"ideographic":return F;case"alphabetic":default:return F}},R=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Y,W){this.colorStops.push([Y,W])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(F,Y,W,Z,se,ie,ce,ve,je){for(var Ce=G.call(this,W,Z,se,ie),ke=0;ke<Ce.length;ke++){var Be=Ce[ke];ke===0&&(je?D.call(this,Be.x1+F,Be.y1+Y):X.call(this,Be.x1+F,Be.y1+Y)),ee.call(this,F,Y,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}ve?K.call(this):H.call(this,ce)},H=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(F,Y){this.pdf.internal.out(n(F)+" "+r(Y)+" m")},T=function(F){var Y;switch(F.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var W=this.pdf.getTextDimensions(F.text),Z=E.call(this,F.y),se=R.call(this,Z)-W.h,ie=this.ctx.transform.applyToPoint(new a(F.x,Z)),ce=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var je,Ce,ke,Be=this.ctx.transform.applyToRectangle(new o(F.x,Z,W.w,W.h)),he=ve.applyToRectangle(new o(F.x,se,W.w,W.h)),J=w.call(this,he),P=[],ne=0;ne<J.length;ne+=1)P.indexOf(J[ne])===-1&&P.push(J[ne]);if(N(P),this.autoPaging)for(var ye=P[0],Se=P[P.length-1],Ee=ye;Ee<Se+1;Ee++){this.pdf.setPage(Ee);var Le=Ee===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Te=He-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],Xe=Ie-this.margin[3],Je=Ee===1?0:Ue+(Ee-2)*Te;if(this.ctx.clip_path.length!==0){var ut=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(je,this.posX+this.margin[3],-1*Je+Le),k.call(this,"fill",!0),this.path=ut}var et=y([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Je+Le+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*F.scale),ke=this.lineWidth,this.lineWidth=ke*F.scale);var nt=this.autoPaging!=="text";if(nt||et.y+et.h<=He){if(nt||et.y>=Le&&et.x<=Ie){var Ge=nt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ie-et.x)[0],Et=y([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Je+Le+this.ctx.prevPageLastElemOffset)[0],Ct=nt&&(Ee>ye||Ee<Se)&&g.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Te,null).clip().discardPath()),this.pdf.text(Ge,Et.x,Et.y,{angle:F.angle,align:Y,renderingMode:F.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else et.y<He&&(this.ctx.prevPageLastElemOffset+=He-et.y);F.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ke)}else F.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*F.scale),ke=this.lineWidth,this.lineWidth=ke*F.scale),this.pdf.text(F.text,ie.x+this.posX,ie.y+this.posY,{angle:F.angle,align:Y,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ke)},X=function(F,Y,W,Z){W=W||0,Z=Z||0,this.pdf.internal.out(n(F+W)+" "+r(Y+Z)+" l")},B=function(F,Y,W){return this.pdf.lines(F,Y,W,null,null)},ee=function(F,Y,W,Z,se,ie,ce,ve){this.pdf.internal.out([e(i(W+F)),e(s(Z+Y)),e(i(se+F)),e(s(ie+Y)),e(i(ce+F)),e(s(ve+Y)),"c"].join(" "))},G=function(F,Y,W,Z){for(var se=2*Math.PI,ie=Math.PI/2;Y>W;)Y-=se;var ce=Math.abs(W-Y);ce<se&&Z&&(ce=se-ce);for(var ve=[],je=Z?-1:1,Ce=Y;ce>1e-5;){var ke=Ce+je*Math.min(ce,ie);ve.push(te.call(this,F,Ce,ke)),ce-=Math.abs(ke-Ce),Ce=ke}return ve},te=function(F,Y,W){var Z=(W-Y)/2,se=F*Math.cos(Z),ie=F*Math.sin(Z),ce=se,ve=-ie,je=ce*ce+ve*ve,Ce=je+ce*se+ve*ie,ke=4/3*(Math.sqrt(2*je*Ce)-Ce)/(ce*ie-ve*se),Be=ce-ke*ve,he=ve+ke*ce,J=Be,P=-he,ne=Z+Y,ye=Math.cos(ne),Se=Math.sin(ne);return{x1:F*Math.cos(Y),y1:F*Math.sin(Y),x2:Be*ye-he*Se,y2:Be*Se+he*ye,x3:J*ye-P*Se,y3:J*Se+P*ye,x4:F*Math.cos(W),y4:F*Math.sin(W)}},V=function(F){return 180*F/Math.PI},re=function(F,Y,W,Z,se,ie){var ce=F+.5*(W-F),ve=Y+.5*(Z-Y),je=se+.5*(W-se),Ce=ie+.5*(Z-ie),ke=Math.min(F,se,ce,je),Be=Math.max(F,se,ce,je),he=Math.min(Y,ie,ve,Ce),J=Math.max(Y,ie,ve,Ce);return new o(ke,he,Be-ke,J-he)},de=function(F,Y,W,Z,se,ie,ce,ve){var je,Ce,ke,Be,he,J,P,ne,ye,Se,Ee,Le,Ue,He,Te=W-F,Ie=Z-Y,Xe=se-W,Je=ie-Z,ut=ce-se,et=ve-ie;for(Ce=0;Ce<41;Ce++)ye=(P=(ke=F+(je=Ce/40)*Te)+je*((he=W+je*Xe)-ke))+je*(he+je*(se+je*ut-he)-P),Se=(ne=(Be=Y+je*Ie)+je*((J=Z+je*Je)-Be))+je*(J+je*(ie+je*et-J)-ne),Ce==0?(Ee=ye,Le=Se,Ue=ye,He=Se):(Ee=Math.min(Ee,ye),Le=Math.min(Le,Se),Ue=Math.max(Ue,ye),He=Math.max(He,Se));return new o(Math.round(Ee),Math.round(Le),Math.round(Ue-Ee),Math.round(He-Le))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Y,W=(F=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Y}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ot.API),function(t){var e=function(s){var a,o,c,u,d,h,p,f,b,g;for(o=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(g=d%85))/85)-(b=d%85))/85)-(f=d%85))/85)-(p=d%85))/85)%85,o.push(h+33,p+33,f+33,b+33,g+33)):o.push(122);return function(w,x){for(var y=x;y>0;y--)w.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,c,u,d,h=String,p="length",f=255,b="charCodeAt",g="slice",w="replace";for(s[g](-2),s=s[g](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[g](s[p]%5||5))[p];d>u;u+=5)o=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),c.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(x,y){for(var N=y;N>0;N--)x.pop()}(c,a[p]),h.fromCharCode.apply(h,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Qb(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(b){var g=b.length,w=[],x=String.fromCharCode;for(p=0;p<g;p+=1)w.push(x(255&b.charCodeAt(p)));return w.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):Yb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):Yb(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Qt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var c=document.createElement(a);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var f=u[p],b=f.src.find(function(g){return g.format==="truetype"});b&&c.addFont(b.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,u){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,a,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(a,o,c){if(Qt(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var f,b=0,g=0;if(p.hasOwnProperty(h))b=p[h][1]/d,g=p[h][0]/d;else try{b=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",g>b&&(f=g,g=b,b=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>g&&(f=g,g=b,b=f)}return{width:g,height:b,unit:o,k:d,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(r5):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(ot.API),ot.API.addJS=function(t){return BN=t,this.internal.events.subscribe("postPutResources",function(){Ug=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ug+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+BN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ug!==void 0&&zN!==void 0&&this.internal.out("/Names <</JavaScript "+Ug+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,g={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=f,e.indexOf(h.charCodeAt(w+1))!==-1){p=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),g={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:p,numcomponents:h.charCodeAt(w+9)};break}f=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(ot.API);var Ru,Hg,qN,UN,HN,HY=function(){var t,e,n;function r(s){var a,o,c,u,d,h,p,f,b,g,w,x,y,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),b=(function(){var A,k;for(k=[],A=0;A<4;++A)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(w=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,w.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,p,f,b){var g,w,x,y,N,A,k,E,R,O,H,K,D,T,X,B,ee,G,te,V,re,de=Math.ceil((u.width-h)/f),Oe=Math.ceil((u.height-p)/b),F=u.width==de&&u.height==Oe;for(T=a*de,K=F?o:new Uint8Array(T*Oe),A=s.length,D=0,w=0;D<Oe&&c<A;){switch(s[c++]){case 0:for(y=ee=0;ee<T;y=ee+=1)K[w++]=s[c++];break;case 1:for(y=G=0;G<T;y=G+=1)g=s[c++],N=y<a?0:K[w-a],K[w++]=(g+N)%256;break;case 2:for(y=te=0;te<T;y=te+=1)g=s[c++],x=(y-y%a)/a,X=D&&K[(D-1)*T+x*a+y%a],K[w++]=(X+g)%256;break;case 3:for(y=V=0;V<T;y=V+=1)g=s[c++],x=(y-y%a)/a,N=y<a?0:K[w-a],X=D&&K[(D-1)*T+x*a+y%a],K[w++]=(g+Math.floor((N+X)/2))%256;break;case 4:for(y=re=0;re<T;y=re+=1)g=s[c++],x=(y-y%a)/a,N=y<a?0:K[w-a],D===0?X=B=0:(X=K[(D-1)*T+x*a+y%a],B=x&&K[(D-1)*T+(x-1)*a+y%a]),k=N+X-B,E=Math.abs(k-N),O=Math.abs(k-X),H=Math.abs(k-B),R=E<=O&&E<=H?N:O<=H?X:B,K[w++]=(g+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!F){var Y=((p+D*b)*u.width+h)*a,W=D*T;for(y=0;y<de;y+=1){for(var Z=0;Z<a;Z+=1)o[Y++]=K[W++];Y+=(f-1)*a}}D++}}return s=wY(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,c,u,d,h,p,f;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,s=0,a=h=0,p=o.length;h<p;a=h+=3)u[c++]=o[a],u[c++]=o[a+1],u[c++]=o[a+2],u[c++]=(f=d[s++])!=null?f:255;return u},r.prototype.copyToImageData=function(s,a){var o,c,u,d,h,p,f,b,g,w,x;if(c=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,o=!0),b=(u=s.data||s).length,h=g||a,d=p=0,c===1)for(;d<b;)f=g?4*a[d/4]:p,w=h[f++],u[d++]=w,u[d++]=w,u[d++]=w,u[d++]=o?h[f++]:255,p=f;else for(;d<b;)f=g?4*a[d/4]:p,u[d++]=h[f++],u[d++]=h[f++],u[d++]=h[f++],u[d++]=o?h[f++]:255,p=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,c,u,d,h,p,f;if(this.animation){for(f=[],o=d=0,h=(p=this.animation.frames).length;d<h;o=++d)a=p[o],c=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,f.push(a.image=t(c));return f}},r.prototype.renderFrame=function(s,a){var o,c,u;return o=(c=this.animation.frames)[a],u=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,c,u,d,h,p=this;return o=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(a=function(){var f,b;if(f=o++%u,b=c[f],p.renderFrame(s,f),u>1&&o/u<d)return p.animation._timeout=setTimeout(a,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var u=!0,d=[],h=0,p=null,f=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&g)&&(p=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,A=t[e++],k=A>>6&1,E=1<<(7&A)+1,R=o,O=c,H=!1;A>>7&&(H=!0,R=e,O=E,e+=3*E);var K=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}d.push({x:w,y:x,width:y,height:N,has_local_palette:H,palette_offset:R,palette_size:O,data_offset:K,data_length:e-K,transparent_index:p,interlaced:!!k,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,X){var B=this.frameInfo(T),ee=B.width*B.height,G=new Uint8Array(ee);VN(t,B.data_offset,G,ee);var te=B.palette_offset,V=B.transparent_index;V===null&&(V=256);var re=B.width,de=n-re,Oe=re,F=4*(B.y*n+B.x),Y=4*((B.y+B.height)*n+B.x),W=F,Z=4*de;B.interlaced===!0&&(Z+=4*n*7);for(var se=8,ie=0,ce=G.length;ie<ce;++ie){var ve=G[ie];if(Oe===0&&(Oe=re,(W+=Z)>=Y&&(Z=4*de+4*n*(se-1),W=F+(re+de)*(se<<1),se>>=1)),ve===V)W+=4;else{var je=t[te+3*ve],Ce=t[te+3*ve+1],ke=t[te+3*ve+2];X[W++]=ke,X[W++]=Ce,X[W++]=je,X[W++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(T,X){var B=this.frameInfo(T),ee=B.width*B.height,G=new Uint8Array(ee);VN(t,B.data_offset,G,ee);var te=B.palette_offset,V=B.transparent_index;V===null&&(V=256);var re=B.width,de=n-re,Oe=re,F=4*(B.y*n+B.x),Y=4*((B.y+B.height)*n+B.x),W=F,Z=4*de;B.interlaced===!0&&(Z+=4*n*7);for(var se=8,ie=0,ce=G.length;ie<ce;++ie){var ve=G[ie];if(Oe===0&&(Oe=re,(W+=Z)>=Y&&(Z=4*de+4*n*(se-1),W=F+(re+de)*(se<<1),se>>=1)),ve===V)W+=4;else{var je=t[te+3*ve],Ce=t[te+3*ve+1],ke=t[te+3*ve+2];X[W++]=je,X[W++]=Ce,X[W++]=ke,X[W++]=255}--Oe}}}function VN(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,u=(1<<c)-1,d=0,h=0,p=0,f=t[e++],b=new Int32Array(4096),g=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<c)break;var w=h&u;if(h>>=c,d-=c,w!==s){if(w===a)break;for(var x=w<o?w:g,y=0,N=x;N>s;)N=b[N]>>8,++y;var A=N;if(p+y+(x!==w?1:0)>r)return void rn.log("Warning, gif stream longer than expected.");n[p++]=A;var k=p+=y;for(x!==w&&(n[p++]=A),N=x;y--;)N=b[N],n[--k]=255&N,N>>=8;g!==null&&o<4096&&(b[o++]=g<<8|A,o>=u+1&&c<12&&(++c,u=u<<1|1)),g=w}else o=a+1,u=(1<<(c=i+1))-1,g=null}return p!==r&&rn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wy(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),g=[],w=0,x=7,y=new Array(64),N=new Array(64),A=new Array(64),k=new Array(256),E=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(F,Y){for(var W=0,Z=0,se=new Array,ie=1;ie<=16;ie++){for(var ce=1;ce<=F[ie];ce++)se[Y[Z]]=[],se[Y[Z]][0]=W,se[Y[Z]][1]=ie,Z++,W++;W*=2}return se}function te(F){for(var Y=F[0],W=F[1]-1;W>=0;)Y&1<<W&&(w|=1<<x),W--,--x<0&&(w==255?(V(255),V(0)):V(w),x=7,w=0)}function V(F){g.push(F)}function re(F){V(F>>8&255),V(255&F)}function de(F,Y,W,Z,se){for(var ie,ce=se[0],ve=se[240],je=function(Se,Ee){var Le,Ue,He,Te,Ie,Xe,Je,ut,et,nt,Ge=0;for(et=0;et<8;++et){Le=Se[Ge],Ue=Se[Ge+1],He=Se[Ge+2],Te=Se[Ge+3],Ie=Se[Ge+4],Xe=Se[Ge+5],Je=Se[Ge+6];var Et=Le+(ut=Se[Ge+7]),Ct=Le-ut,yr=Ue+Je,zt=Ue-Je,Zt=He+Xe,Gr=He-Xe,Dt=Te+Ie,ja=Te-Ie,Sn=Et+Dt,ss=Et-Dt,Na=yr+Zt,jn=yr-Zt;Se[Ge]=Sn+Na,Se[Ge+4]=Sn-Na;var mt=.707106781*(jn+ss);Se[Ge+2]=ss+mt,Se[Ge+6]=ss-mt;var Ht=.382683433*((Sn=ja+Gr)-(jn=zt+Ct)),ql=.5411961*Sn+Ht,ur=1.306562965*jn+Ht,Bs=.707106781*(Na=Gr+zt),qs=Ct+Bs,at=Ct-Bs;Se[Ge+5]=at+ql,Se[Ge+3]=at-ql,Se[Ge+1]=qs+ur,Se[Ge+7]=qs-ur,Ge+=8}for(Ge=0,et=0;et<8;++et){Le=Se[Ge],Ue=Se[Ge+8],He=Se[Ge+16],Te=Se[Ge+24],Ie=Se[Ge+32],Xe=Se[Ge+40],Je=Se[Ge+48];var as=Le+(ut=Se[Ge+56]),Us=Le-ut,Yr=Ue+Je,$n=Ue-Je,Un=He+Xe,hi=He-Xe,Zc=Te+Ie,Ca=Te-Ie,os=as+Zc,ls=as-Zc,cs=Yr+Un,Hs=Yr-Un;Se[Ge]=os+cs,Se[Ge+32]=os-cs;var Li=.707106781*(Hs+ls);Se[Ge+16]=ls+Li,Se[Ge+48]=ls-Li;var Vs=.382683433*((os=Ca+hi)-(Hs=$n+Us)),Ul=.5411961*os+Vs,Jc=1.306562965*Hs+Vs,eu=.707106781*(cs=hi+$n),tu=Us+eu,nu=Us-eu;Se[Ge+40]=nu+Ul,Se[Ge+24]=nu-Ul,Se[Ge+8]=tu+Jc,Se[Ge+56]=tu-Jc,Ge++}for(et=0;et<64;++et)nt=Se[et]*Ee[et],f[et]=nt>0?nt+.5|0:nt-.5|0;return f}(F,Y),Ce=0;Ce<64;++Ce)b[R[Ce]]=je[Ce];var ke=b[0]-W;W=b[0],ke==0?te(Z[0]):(te(Z[p[ie=32767+ke]]),te(h[ie]));for(var Be=63;Be>0&&b[Be]==0;)Be--;if(Be==0)return te(ce),W;for(var he,J=1;J<=Be;){for(var P=J;b[J]==0&&J<=Be;)++J;var ne=J-P;if(ne>=16){he=ne>>4;for(var ye=1;ye<=he;++ye)te(ve);ne&=15}ie=32767+b[J],te(se[(ne<<4)+p[ie]]),te(h[ie]),J++}return Be!=63&&te(ce),W}function Oe(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(Y){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var se=a((W[Z]*Y+50)/100);se=Math.min(Math.max(se,1),255),o[R[Z]]=se}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ve=a((ie[ce]*Y+50)/100);ve=Math.min(Math.max(ve,1),255),c[R[ce]]=ve}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,ke=0;ke<8;ke++)for(var Be=0;Be<8;Be++)u[Ce]=1/(o[R[Ce]]*je[ke]*je[Be]*8),d[Ce]=1/(c[R[Ce]]*je[ke]*je[Be]*8),Ce++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Y){Y&&Oe(Y),g=new Array,w=0,x=7,re(65496),re(65504),re(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),re(1),re(1),V(0),V(0),function(){re(65499),re(132),V(0);for(var Ue=0;Ue<64;Ue++)V(o[Ue]);V(1);for(var He=0;He<64;He++)V(c[He])}(),function(Ue,He){re(65472),re(17),V(8),re(He),re(Ue),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(F.width,F.height),function(){re(65476),re(418),V(0);for(var Ue=0;Ue<16;Ue++)V(O[Ue+1]);for(var He=0;He<=11;He++)V(H[He]);V(16);for(var Te=0;Te<16;Te++)V(K[Te+1]);for(var Ie=0;Ie<=161;Ie++)V(D[Ie]);V(1);for(var Xe=0;Xe<16;Xe++)V(T[Xe+1]);for(var Je=0;Je<=11;Je++)V(X[Je]);V(17);for(var ut=0;ut<16;ut++)V(B[ut+1]);for(var et=0;et<=161;et++)V(ee[et])}(),re(65498),re(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var W=0,Z=0,se=0;w=0,x=7,this.encode.displayName="_encode_";for(var ie,ce,ve,je,Ce,ke,Be,he,J,P=F.data,ne=F.width,ye=F.height,Se=4*ne,Ee=0;Ee<ye;){for(ie=0;ie<Se;){for(Ce=Se*Ee+ie,Be=-1,he=0,J=0;J<64;J++)ke=Ce+(he=J>>3)*Se+(Be=4*(7&J)),Ee+he>=ye&&(ke-=Se*(Ee+1+he-ye)),ie+Be>=Se&&(ke-=ie+Be-Se+4),ce=P[ke++],ve=P[ke++],je=P[ke++],y[J]=(E[ce]+E[ve+256>>0]+E[je+512>>0]>>16)-128,N[J]=(E[ce+768>>0]+E[ve+1024>>0]+E[je+1280>>0]>>16)-128,A[J]=(E[ce+1280>>0]+E[ve+1536>>0]+E[je+1792>>0]>>16)-128;W=de(y,u,W,e,r),Z=de(N,d,Z,n,i),se=de(A,d,se,n,i),ie+=32}Ee+=8}if(x>=0){var Le=[];Le[1]=x+1,Le[0]=(1<<x+1)-1,te(Le)}return re(65497),new Uint8Array(g)},t=t||50,function(){for(var F=String.fromCharCode,Y=0;Y<256;Y++)k[Y]=F(Y)}(),e=G(O,H),n=G(T,X),r=G(K,D),i=G(B,ee),function(){for(var F=1,Y=2,W=1;W<=15;W++){for(var Z=F;Z<Y;Z++)p[32767+Z]=W,h[32767+Z]=[],h[32767+Z][1]=W,h[32767+Z][0]=Z;for(var se=-(Y-1);se<=-F;se++)p[32767+se]=W,h[32767+se]=[],h[32767+se][1]=W,h[32767+se][0]=Y-1+se;F<<=1,Y<<=1}}(),function(){for(var F=0;F<256;F++)E[F]=19595*F,E[F+256>>0]=38470*F,E[F+512>>0]=7471*F+32768,E[F+768>>0]=-11059*F,E[F+1024>>0]=-21709*F,E[F+1280>>0]=32768*F+8421375,E[F+1536>>0]=-27439*F,E[F+1792>>0]=-5329*F}(),Oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GN(t){function e(O){if(!O)throw Error("assert :P")}function n(O,H,K){for(var D=0;4>D;D++)if(O[H+D]!=K.charCodeAt(D))return!0;return!1}function r(O,H,K,D,T){for(var X=0;X<T;X++)O[H+X]=K[D+X]}function i(O,H,K,D){for(var T=0;T<D;T++)O[H+T]=K}function s(O){return new Int32Array(O)}function a(O,H){for(var K=[],D=0;D<O;D++)K.push(new H);return K}function o(O,H){var K=[];return function D(T,X,B){for(var ee=B[X],G=0;G<ee&&(T.push(B.length>X+1?[]:new H),!(B.length<X+1));G++)D(T[G],X+1,B)}(K,0,O),K}var c=function(){var O=this;function H(m,v){for(var j=1<<v-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function K(m,v,j,_,L){e(!(_%j));do m[v+(_-=j)]=L;while(0<_)}function D(m,v,j,_,L){if(e(2328>=L),512>=L)var I=s(512);else if((I=s(L))==null)return 0;return function(z,q,U,$,oe,be){var we,ge,Pe=q,Ne=1<<U,le=s(16),me=s(16);for(e(oe!=0),e($!=null),e(z!=null),e(0<U),ge=0;ge<oe;++ge){if(15<$[ge])return 0;++le[$[ge]]}if(le[0]==oe)return 0;for(me[1]=0,we=1;15>we;++we){if(le[we]>1<<we)return 0;me[we+1]=me[we]+le[we]}for(ge=0;ge<oe;++ge)we=$[ge],0<$[ge]&&(be[me[we]++]=ge);if(me[15]==1)return($=new T).g=0,$.value=be[0],K(z,Pe,1,Ne,$),Ne;var Me,Fe=-1,De=Ne-1,$e=0,Ve=1,rt=1,Ye=1<<U;for(ge=0,we=1,oe=2;we<=U;++we,oe<<=1){if(Ve+=rt<<=1,0>(rt-=le[we]))return 0;for(;0<le[we];--le[we])($=new T).g=we,$.value=be[ge++],K(z,Pe+$e,oe,Ye,$),$e=H($e,we)}for(we=U+1,oe=2;15>=we;++we,oe<<=1){if(Ve+=rt<<=1,0>(rt-=le[we]))return 0;for(;0<le[we];--le[we]){if($=new T,($e&De)!=Fe){for(Pe+=Ye,Me=1<<(Fe=we)-U;15>Fe&&!(0>=(Me-=le[Fe]));)++Fe,Me<<=1;Ne+=Ye=1<<(Me=Fe-U),z[q+(Fe=$e&De)].g=Me+U,z[q+Fe].value=Pe-q-Fe}$.g=we-U,$.value=be[ge++],K(z,Pe+($e>>U),oe,Ye,$),$e=H($e,we)}}return Ve!=2*me[15]-1?0:Ne}(m,v,j,_,L,I)}function T(){this.value=this.g=0}function X(){this.value=this.g=0}function B(){this.G=a(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(dr,X)}function ee(m,v,j,_){e(m!=null),e(v!=null),e(2147483648>_),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=v,m.pa=j,m.Jd=v,m.Yc=j+_,m.Zc=4<=_?j+_-4+1:j,ie(m)}function G(m,v){for(var j=0;0<v--;)j|=ve(m,128)<<v;return j}function te(m,v){var j=G(m,v);return ce(m)?-j:j}function V(m,v,j,_){var L,I=0;for(e(m!=null),e(v!=null),e(4294967288>_),m.Sb=_,m.Ra=0,m.u=0,m.h=0,4<_&&(_=4),L=0;L<_;++L)I+=v[j+L]<<8*L;m.Ra=I,m.bb=_,m.oa=v,m.pa=j}function re(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<vu-8>>>0,++m.bb,m.u-=8;W(m)&&(m.h=1,m.u=0)}function de(m,v){if(e(0<=v),!m.h&&v<=gu){var j=Y(m)&mu[v];return m.u+=v,re(m),j}return m.h=1,m.u=0}function Oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&vu-1)>>>0}function W(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>vu}function Z(m,v){m.u=v,m.h=W(m)}function se(m){m.u>=Hh&&(e(m.u>=Hh),re(m))}function ie(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ce(m){return G(m,1)}function ve(m,v){var j=m.Ca;0>m.b&&ie(m);var _=m.b,L=j*v>>>8,I=(m.I>>>_>L)+0;for(I?(j-=L,m.I-=L+1<<_>>>0):j=L+1,_=j,L=0;256<=_;)L+=8,_>>=8;return _=7^L+Wr[_],m.b-=_,m.Ca=(j<<_)-1,I}function je(m,v,j){m[v+0]=j>>24&255,m[v+1]=j>>16&255,m[v+2]=j>>8&255,m[v+3]=j>>0&255}function Ce(m,v){return m[v+0]<<0|m[v+1]<<8}function ke(m,v){return Ce(m,v)|m[v+2]<<16}function Be(m,v){return Ce(m,v)|Ce(m,v+2)<<16}function he(m,v){var j=1<<v;return e(m!=null),e(0<v),m.X=s(j),m.X==null?0:(m.Mb=32-v,m.Xa=v,1)}function J(m,v){e(m!=null),e(v!=null),e(m.Xa==v.Xa),r(v.X,0,m.X,0,1<<v.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function ne(m,v,j,_){e(j!=null),e(_!=null);var L=j[0],I=_[0];return L==0&&(L=(m*I+v/2)/v),I==0&&(I=(v*L+m/2)/m),0>=L||0>=I?0:(j[0]=L,_[0]=I,1)}function ye(m,v){return m+(1<<v)-1>>>v}function Se(m,v){return((4278255360&m)+(4278255360&v)>>>0&4278255360)+((16711935&m)+(16711935&v)>>>0&16711935)>>>0}function Ee(m,v){O[v]=function(j,_,L,I,z,q,U){var $;for($=0;$<z;++$){var oe=O[m](q[U+$-1],L,I+$);q[U+$]=Se(j[_+$],oe)}}}function Le(){this.ud=this.hd=this.jd=0}function Ue(m,v){return((4278124286&(m^v))>>>1)+(m&v)>>>0}function He(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Te(m,v){return He(m+(m-v+.5>>1))}function Ie(m,v,j){return Math.abs(v-j)-Math.abs(m-j)}function Xe(m,v,j,_,L,I,z){for(_=I[z-1],j=0;j<L;++j)I[z+j]=_=Se(m[v+j],_)}function Je(m,v,j,_,L){var I;for(I=0;I<j;++I){var z=m[v+I],q=z>>8&255,U=16711935&(U=(U=16711935&z)+((q<<16)+q));_[L+I]=(4278255360&z)+U>>>0}}function ut(m,v){v.jd=m>>0&255,v.hd=m>>8&255,v.ud=m>>16&255}function et(m,v,j,_,L,I){var z;for(z=0;z<_;++z){var q=v[j+z],U=q>>>8,$=q,oe=255&(oe=(oe=q>>>16)+((m.jd<<24>>24)*(U<<24>>24)>>>5));$=255&($=($=$+((m.hd<<24>>24)*(U<<24>>24)>>>5))+((m.ud<<24>>24)*(oe<<24>>24)>>>5)),L[I+z]=(4278255360&q)+(oe<<16)+$}}function nt(m,v,j,_,L){O[v]=function(I,z,q,U,$,oe,be,we,ge){for(U=be;U<we;++U)for(be=0;be<ge;++be)$[oe++]=L(q[_(I[z++])])},O[m]=function(I,z,q,U,$,oe,be){var we=8>>I.b,ge=I.Ea,Pe=I.K[0],Ne=I.w;if(8>we)for(I=(1<<I.b)-1,Ne=(1<<we)-1;z<q;++z){var le,me=0;for(le=0;le<ge;++le)le&I||(me=_(U[$++])),oe[be++]=L(Pe[me&Ne]),me>>=we}else O["VP8LMapColor"+j](U,$,Pe,Ne,oe,be,z,q,ge)}}function Ge(m,v,j,_,L){for(j=v+j;v<j;){var I=m[v++];_[L++]=I>>16&255,_[L++]=I>>8&255,_[L++]=I>>0&255}}function Et(m,v,j,_,L){for(j=v+j;v<j;){var I=m[v++];_[L++]=I>>16&255,_[L++]=I>>8&255,_[L++]=I>>0&255,_[L++]=I>>24&255}}function Ct(m,v,j,_,L){for(j=v+j;v<j;){var I=(z=m[v++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;_[L++]=I,_[L++]=z}}function yr(m,v,j,_,L){for(j=v+j;v<j;){var I=(z=m[v++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;_[L++]=I,_[L++]=z}}function zt(m,v,j,_,L){for(j=v+j;v<j;){var I=m[v++];_[L++]=I>>0&255,_[L++]=I>>8&255,_[L++]=I>>16&255}}function Zt(m,v,j,_,L,I){if(I==0)for(j=v+j;v<j;)je(_,((I=m[v++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),L+=32;else r(_,L,m,v,j)}function Gr(m,v){O[v][0]=O[m+"0"],O[v][1]=O[m+"1"],O[v][2]=O[m+"2"],O[v][3]=O[m+"3"],O[v][4]=O[m+"4"],O[v][5]=O[m+"5"],O[v][6]=O[m+"6"],O[v][7]=O[m+"7"],O[v][8]=O[m+"8"],O[v][9]=O[m+"9"],O[v][10]=O[m+"10"],O[v][11]=O[m+"11"],O[v][12]=O[m+"12"],O[v][13]=O[m+"13"],O[v][14]=O[m+"0"],O[v][15]=O[m+"0"]}function Dt(m){return m==c1||m==u1||m==Om||m==d1}function ja(){this.eb=[],this.size=this.A=this.fb=0}function Sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ss(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ja,this.f.kb=new Sn,this.sd=null}function Na(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ht(m,v){var j=m.T,_=v.ba.f.RGBA,L=_.eb,I=_.fb+m.ka*_.A,z=Ii[v.ba.S],q=m.y,U=m.O,$=m.f,oe=m.N,be=m.ea,we=m.W,ge=v.cc,Pe=v.dc,Ne=v.Mc,le=v.Nc,me=m.ka,Me=m.ka+m.T,Fe=m.U,De=Fe+1>>1;for(me==0?z(q,U,null,null,$,oe,be,we,$,oe,be,we,L,I,null,null,Fe):(z(v.ec,v.fc,q,U,ge,Pe,Ne,le,$,oe,be,we,L,I-_.A,L,I,Fe),++j);me+2<Me;me+=2)ge=$,Pe=oe,Ne=be,le=we,oe+=m.Rc,we+=m.Rc,I+=2*_.A,z(q,(U+=2*m.fa)-m.fa,q,U,ge,Pe,Ne,le,$,oe,be,we,L,I-_.A,L,I,Fe);return U+=m.fa,m.j+Me<m.o?(r(v.ec,v.fc,q,U,Fe),r(v.cc,v.dc,$,oe,De),r(v.Mc,v.Nc,be,we,De),j--):1&Me||z(q,U,null,null,$,oe,be,we,$,oe,be,we,L,I+_.A,null,null,Fe),j}function ql(m,v,j){var _=m.F,L=[m.J];if(_!=null){var I=m.U,z=v.ba.S,q=z==Em||z==Om;v=v.ba.f.RGBA;var U=[0],$=m.ka;U[0]=m.T,m.Kb&&($==0?--U[0]:(--$,L[0]-=m.width),m.j+m.ka+m.T==m.o&&(U[0]=m.o-m.j-$));var oe=v.eb;$=v.fb+$*v.A,m=on(_,L[0],m.width,I,U,oe,$+(q?0:3),v.A),e(j==U),m&&Dt(z)&&Ri(oe,$,q,I,U,v.A)}return 0}function ur(m){var v=m.ma,j=v.ba.S,_=11>j,L=j==Tm||j==km||j==Em||j==l1||j==12||Dt(j);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!qh(v.Oa,m,L?11:12))return 0;if(L&&Dt(j)&&ze(),m.da)alert("todo:use_scaling");else{if(_){if(v.Ib=mt,m.Kb){if(j=m.U+1>>1,v.memory=s(m.U+2*j),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+m.U,v.Mc=v.cc,v.Nc=v.dc+j,v.Ib=Ht,ze()}}else alert("todo:EmitYUV");L&&(v.Jb=ql,_&&xe())}if(_&&!XS){for(m=0;256>m;++m)Q7[m]=89858*(m-128)+Mm>>Lm,eL[m]=-22014*(m-128)+Mm,J7[m]=-45773*(m-128),Z7[m]=113618*(m-128)+Mm>>Lm;for(m=Kh;m<p1;++m)v=76283*(m-16)+Mm>>Lm,tL[m-Kh]=fi(v,255),nL[m-Kh]=fi(v+8>>4,15);XS=1}return 1}function Bs(m){var v=m.ma,j=m.U,_=m.T;return e(!(1&m.ka)),0>=j||0>=_?0:(j=v.Ib(m,v),v.Jb!=null&&v.Jb(m,v,j),v.Dc+=j,1)}function qs(m){m.ma.memory=null}function at(m,v,j,_){return de(m,8)!=47?0:(v[0]=de(m,14)+1,j[0]=de(m,14)+1,_[0]=de(m,1),de(m,3)!=0?0:!m.h)}function as(m,v){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+de(v,j)+1}function Us(m,v){return 120<v?v-120:1<=(j=((j=F7[v-1])>>4)*m+(8-(15&j)))?j:1;var j}function Yr(m,v,j){var _=Y(j),L=m[v+=255&_].g-8;return 0<L&&(Z(j,j.u+8),_=Y(j),v+=m[v].value,v+=_&(1<<L)-1),Z(j,j.u+m[v].g),m[v].value}function $n(m,v,j){return j.g+=m.g,j.value+=m.value<<v>>>0,e(8>=j.g),m.g}function Un(m,v,j){var _=m.xc;return e((v=_==0?0:m.vc[m.md*(j>>_)+(v>>_)])<m.Wb),m.Ya[v]}function hi(m,v,j,_){var L=m.ab,I=m.c*v,z=m.C;v=z+v;var q=j,U=_;for(_=m.Ta,j=m.Ua;0<L--;){var $=m.gc[L],oe=z,be=v,we=q,ge=U,Pe=(U=_,q=j,$.Ea);switch(e(oe<be),e(be<=$.nc),$.hc){case 2:wm(we,ge,(be-oe)*Pe,U,q);break;case 0:var Ne=oe,le=be,me=U,Me=q,Fe=(Ye=$).Ea;Ne==0&&(a1(we,ge,null,null,1,me,Me),Xe(we,ge+1,0,0,Fe-1,me,Me+1),ge+=Fe,Me+=Fe,++Ne);for(var De=1<<Ye.b,$e=De-1,Ve=ye(Fe,Ye.b),rt=Ye.K,Ye=Ye.w+(Ne>>Ye.b)*Ve;Ne<le;){var Bt=rt,Yt=Ye,Ft=1;for(Vh(we,ge,me,Me-Fe,1,me,Me);Ft<Fe;){var kt=(Ft&~$e)+De;kt>Fe&&(kt=Fe),(0,jo[Bt[Yt++]>>8&15])(we,ge+ +Ft,me,Me+Ft-Fe,kt-Ft,me,Me+Ft),Ft=kt}ge+=Fe,Me+=Fe,++Ne&$e||(Ye+=Ve)}be!=$.nc&&r(U,q-Pe,U,q+(be-oe-1)*Pe,Pe);break;case 1:for(Pe=we,le=ge,Fe=(we=$.Ea)-(Me=we&~(me=(ge=1<<$.b)-1)),Ne=ye(we,$.b),De=$.K,$=$.w+(oe>>$.b)*Ne;oe<be;){for($e=De,Ve=$,rt=new Le,Ye=le+Me,Bt=le+we;le<Ye;)ut($e[Ve++],rt),Xl(rt,Pe,le,ge,U,q),le+=ge,q+=ge;le<Bt&&(ut($e[Ve++],rt),Xl(rt,Pe,le,Fe,U,q),le+=Fe,q+=Fe),++oe&me||($+=Ne)}break;case 3:if(we==U&&ge==q&&0<$.b){for(le=U,we=Pe=q+(be-oe)*Pe-(Me=(be-oe)*ye($.Ea,$.b)),ge=U,me=q,Ne=[],Me=(Fe=Me)-1;0<=Me;--Me)Ne[Me]=ge[me+Me];for(Me=Fe-1;0<=Me;--Me)le[we+Me]=Ne[Me];Mi($,oe,be,U,Pe,U,q)}else Mi($,oe,be,we,ge,U,q)}q=_,U=j}U!=j&&r(_,j,q,U,I)}function Zc(m,v){var j=m.V,_=m.Ba+m.c*m.C,L=v-m.C;if(e(v<=m.l.o),e(16>=L),0<L){var I=m.l,z=m.Ta,q=m.Ua,U=I.width;if(hi(m,L,j,_),L=q=[q],e((j=m.C)<(_=v)),e(I.v<I.va),_>I.o&&(_=I.o),j<I.j){var $=I.j-j;j=I.j,L[0]+=$*U}if(j>=_?j=0:(L[0]+=4*I.v,I.ka=j-I.j,I.U=I.va-I.v,I.T=_-j,j=1),j){if(q=q[0],11>(j=m.ca).S){var oe=j.f.RGBA,be=(_=j.S,L=I.U,I=I.T,$=oe.eb,oe.A),we=I;for(oe=oe.fb+m.Ma*oe.A;0<we--;){var ge=z,Pe=q,Ne=L,le=$,me=oe;switch(_){case Am:$r(ge,Pe,Ne,le,me);break;case Tm:Lr(ge,Pe,Ne,le,me);break;case c1:Lr(ge,Pe,Ne,le,me),Ri(le,me,0,Ne,1,0);break;case IS:ka(ge,Pe,Ne,le,me);break;case km:Zt(ge,Pe,Ne,le,me,1);break;case u1:Zt(ge,Pe,Ne,le,me,1),Ri(le,me,0,Ne,1,0);break;case Em:Zt(ge,Pe,Ne,le,me,0);break;case Om:Zt(ge,Pe,Ne,le,me,0),Ri(le,me,1,Ne,1,0);break;case l1:No(ge,Pe,Ne,le,me);break;case d1:No(ge,Pe,Ne,le,me),an(le,me,Ne,1,0);break;case zS:Ta(ge,Pe,Ne,le,me);break;default:e(0)}q+=U,oe+=be}m.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=j.height)}}m.C=v,e(m.C<=m.i)}function Ca(m){var v;if(0<m.ua)return 0;for(v=0;v<m.Wb;++v){var j=m.Ya[v].G,_=m.Ya[v].H;if(0<j[1][_[1]+0].g||0<j[2][_[2]+0].g||0<j[3][_[3]+0].g)return 0}return 1}function os(m,v,j,_,L,I){if(m.Z!=0){var z=m.qd,q=m.rd;for(e(To[m.Z]!=null);v<j;++v)To[m.Z](z,q,_,L,_,L,I),z=_,q=L,L+=I;m.qd=z,m.rd=q}}function ls(m,v){var j=m.l.ma,_=j.Z==0||j.Z==1?m.l.j:m.C;if(_=m.C<_?_:m.C,e(v<=m.l.o),v>_){var L=m.l.width,I=j.ca,z=j.tb+L*_,q=m.V,U=m.Ba+m.c*_,$=m.gc;e(m.ab==1),e($[0].hc==3),Sm($[0],_,v,q,U,I,z),os(j,_,v,I,z,L)}m.C=m.Ma=v}function cs(m,v,j,_,L,I,z){var q=m.$/_,U=m.$%_,$=m.m,oe=m.s,be=j+m.$,we=be;L=j+_*L;var ge=j+_*I,Pe=280+oe.ua,Ne=m.Pb?q:16777216,le=0<oe.ua?oe.Wa:null,me=oe.wc,Me=be<ge?Un(oe,U,q):null;e(m.C<I),e(ge<=L);var Fe=!1;e:for(;;){for(;Fe||be<ge;){var De=0;if(q>=Ne){var $e=be-j;e((Ne=m).Pb),Ne.wd=Ne.m,Ne.xd=$e,0<Ne.s.ua&&J(Ne.s.Wa,Ne.s.vb),Ne=q+z7}if(U&me||(Me=Un(oe,U,q)),e(Me!=null),Me.Qb&&(v[be]=Me.qb,Fe=!0),!Fe)if(se($),Me.jc){De=$,$e=v;var Ve=be,rt=Me.pd[Y(De)&dr-1];e(Me.jc),256>rt.g?(Z(De,De.u+rt.g),$e[Ve]=rt.value,De=0):(Z(De,De.u+rt.g-256),e(256<=rt.value),De=rt.value),De==0&&(Fe=!0)}else De=Yr(Me.G[0],Me.H[0],$);if($.h)break;if(Fe||256>De){if(!Fe)if(Me.nd)v[be]=(Me.qb|De<<8)>>>0;else{if(se($),Fe=Yr(Me.G[1],Me.H[1],$),se($),$e=Yr(Me.G[2],Me.H[2],$),Ve=Yr(Me.G[3],Me.H[3],$),$.h)break;v[be]=(Ve<<24|Fe<<16|De<<8|$e)>>>0}if(Fe=!1,++be,++U>=_&&(U=0,++q,z!=null&&q<=I&&!(q%16)&&z(m,q),le!=null))for(;we<be;)De=v[we++],le.X[(506832829*De&4294967295)>>>le.Mb]=De}else if(280>De){if(De=as(De-256,$),$e=Yr(Me.G[4],Me.H[4],$),se($),$e=Us(_,$e=as($e,$)),$.h)break;if(be-j<$e||L-be<De)break e;for(Ve=0;Ve<De;++Ve)v[be+Ve]=v[be+Ve-$e];for(be+=De,U+=De;U>=_;)U-=_,++q,z!=null&&q<=I&&!(q%16)&&z(m,q);if(e(be<=L),U&me&&(Me=Un(oe,U,q)),le!=null)for(;we<be;)De=v[we++],le.X[(506832829*De&4294967295)>>>le.Mb]=De}else{if(!(De<Pe))break e;for(Fe=De-280,e(le!=null);we<be;)De=v[we++],le.X[(506832829*De&4294967295)>>>le.Mb]=De;De=be,e(!(Fe>>>($e=le).Xa)),v[De]=$e.X[Fe],Fe=!0}Fe||e($.h==W($))}if(m.Pb&&$.h&&be<L)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&J(m.s.vb,m.s.Wa);else{if($.h)break e;z!=null&&z(m,q>I?I:q),m.a=0,m.$=be-j}return 1}return m.a=3,0}function Hs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var v=m.Wa;v!=null&&(v.X=null),m.vb=null,e(m!=null)}function Li(){var m=new s1;return m==null?null:(m.a=0,m.xb=US,Gr("Predictor","VP8LPredictors"),Gr("Predictor","VP8LPredictors_C"),Gr("PredictorAdd","VP8LPredictorsAdd"),Gr("PredictorAdd","VP8LPredictorsAdd_C"),wm=Je,Xl=et,$r=Ge,Lr=Et,No=Ct,Ta=yr,ka=zt,O.VP8LMapColor32b=xu,O.VP8LMapColor8b=jm,m)}function Vs(m,v,j,_,L){var I=1,z=[m],q=[v],U=_.m,$=_.s,oe=null,be=0;e:for(;;){if(j)for(;I&&de(U,1);){var we=z,ge=q,Pe=_,Ne=1,le=Pe.m,me=Pe.gc[Pe.ab],Me=de(le,2);if(Pe.Oc&1<<Me)I=0;else{switch(Pe.Oc|=1<<Me,me.hc=Me,me.Ea=we[0],me.nc=ge[0],me.K=[null],++Pe.ab,e(4>=Pe.ab),Me){case 0:case 1:me.b=de(le,3)+2,Ne=Vs(ye(me.Ea,me.b),ye(me.nc,me.b),0,Pe,me.K),me.K=me.K[0];break;case 3:var Fe,De=de(le,8)+1,$e=16<De?0:4<De?1:2<De?2:3;if(we[0]=ye(me.Ea,$e),me.b=$e,Fe=Ne=Vs(De,1,0,Pe,me.K)){var Ve,rt=De,Ye=me,Bt=1<<(8>>Ye.b),Yt=s(Bt);if(Yt==null)Fe=0;else{var Ft=Ye.K[0],kt=Ye.w;for(Yt[0]=Ye.K[0][0],Ve=1;Ve<1*rt;++Ve)Yt[Ve]=Se(Ft[kt+Ve],Yt[Ve-1]);for(;Ve<4*Bt;++Ve)Yt[Ve]=0;Ye.K[0]=null,Ye.K[0]=Yt,Fe=1}}Ne=Fe;break;case 2:break;default:e(0)}I=Ne}}if(z=z[0],q=q[0],I&&de(U,1)&&!(I=1<=(be=de(U,4))&&11>=be)){_.a=3;break e}var nn;if(nn=I)t:{var Jt,bt,Vn,Kr=_,Gn=z,Qr=q,Xt=be,mi=j,gi=Kr.m,rr=Kr.s,hr=[null],Dr=1,zi=0,Ws=I7[Xt];n:for(;;){if(mi&&de(gi,1)){var ir=de(gi,3)+2,Ma=ye(Gn,ir),Zl=ye(Qr,ir),ju=Ma*Zl;if(!Vs(Ma,Zl,0,Kr,hr))break n;for(hr=hr[0],rr.xc=ir,Jt=0;Jt<ju;++Jt){var ko=hr[Jt]>>8&65535;hr[Jt]=ko,ko>=Dr&&(Dr=ko+1)}}if(gi.h)break n;for(bt=0;5>bt;++bt){var Cn=BS[bt];!bt&&0<Xt&&(Cn+=1<<Xt),zi<Cn&&(zi=Cn)}var m1=a(Dr*Ws,T),KS=Dr,QS=a(KS,B);if(QS==null)var Pm=null;else e(65536>=KS),Pm=QS;var Qh=s(zi);if(Pm==null||Qh==null||m1==null){Kr.a=1;break n}var Rm=m1;for(Jt=Vn=0;Jt<Dr;++Jt){var ps=Pm[Jt],Nu=ps.G,Cu=ps.H,ZS=0,Fm=1,JS=0;for(bt=0;5>bt;++bt){Cn=BS[bt],Nu[bt]=Rm,Cu[bt]=Vn,!bt&&0<Xt&&(Cn+=1<<Xt);i:{var Im,g1=Cn,zm=Kr,Zh=Qh,sL=Rm,aL=Vn,v1=0,Eo=zm.m,oL=de(Eo,1);if(i(Zh,0,0,g1),oL){var lL=de(Eo,1)+1,cL=de(Eo,1),e3=de(Eo,cL==0?1:8);Zh[e3]=1,lL==2&&(Zh[e3=de(Eo,8)]=1);var Bm=1}else{var t3=s(19),n3=de(Eo,4)+4;if(19<n3){zm.a=3;var qm=0;break i}for(Im=0;Im<n3;++Im)t3[R7[Im]]=de(Eo,3);var x1=void 0,Jh=void 0,r3=zm,uL=t3,Um=g1,i3=Zh,y1=0,Oo=r3.m,s3=8,a3=a(128,T);r:for(;D(a3,0,7,uL,19);){if(de(Oo,1)){var dL=2+2*de(Oo,3);if((x1=2+de(Oo,dL))>Um)break r}else x1=Um;for(Jh=0;Jh<Um&&x1--;){se(Oo);var o3=a3[0+(127&Y(Oo))];Z(Oo,Oo.u+o3.g);var _u=o3.value;if(16>_u)i3[Jh++]=_u,_u!=0&&(s3=_u);else{var hL=_u==16,l3=_u-16,fL=D7[l3],c3=de(Oo,M7[l3])+fL;if(Jh+c3>Um)break r;for(var pL=hL?s3:0;0<c3--;)i3[Jh++]=pL}}y1=1;break r}y1||(r3.a=3),Bm=y1}(Bm=Bm&&!Eo.h)&&(v1=D(sL,aL,8,Zh,g1)),Bm&&v1!=0?qm=v1:(zm.a=3,qm=0)}if(qm==0)break n;if(Fm&&P7[bt]==1&&(Fm=Rm[Vn].g==0),ZS+=Rm[Vn].g,Vn+=qm,3>=bt){var ef,b1=Qh[0];for(ef=1;ef<Cn;++ef)Qh[ef]>b1&&(b1=Qh[ef]);JS+=b1}}if(ps.nd=Fm,ps.Qb=0,Fm&&(ps.qb=(Nu[3][Cu[3]+0].value<<24|Nu[1][Cu[1]+0].value<<16|Nu[2][Cu[2]+0].value)>>>0,ZS==0&&256>Nu[0][Cu[0]+0].value&&(ps.Qb=1,ps.qb+=Nu[0][Cu[0]+0].value<<8)),ps.jc=!ps.Qb&&6>JS,ps.jc){var Hm,Da=ps;for(Hm=0;Hm<dr;++Hm){var Lo=Hm,Mo=Da.pd[Lo],Vm=Da.G[0][Da.H[0]+Lo];256<=Vm.value?(Mo.g=Vm.g+256,Mo.value=Vm.value):(Mo.g=0,Mo.value=0,Lo>>=$n(Vm,8,Mo),Lo>>=$n(Da.G[1][Da.H[1]+Lo],16,Mo),Lo>>=$n(Da.G[2][Da.H[2]+Lo],0,Mo),$n(Da.G[3][Da.H[3]+Lo],24,Mo))}}}rr.vc=hr,rr.Wb=Dr,rr.Ya=Pm,rr.yc=m1,nn=1;break t}nn=0}if(!(I=nn)){_.a=3;break e}if(0<be){if($.ua=1<<be,!he($.Wa,be)){_.a=1,I=0;break e}}else $.ua=0;var w1=_,u3=z,mL=q,S1=w1.s,j1=S1.xc;if(w1.c=u3,w1.i=mL,S1.md=ye(u3,j1),S1.wc=j1==0?-1:(1<<j1)-1,j){_.xb=Y7;break e}if((oe=s(z*q))==null){_.a=1,I=0;break e}I=(I=cs(_,oe,0,z,q,q,null))&&!U.h;break e}return I?(L!=null?L[0]=oe:(e(oe==null),e(j)),_.$=0,j||Hs($)):Hs($),I}function Ul(m,v){var j=m.c*m.i,_=j+v+16*v;return e(m.c<=v),m.V=s(_),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+v,1)}function Jc(m,v){var j=m.C,_=v-j,L=m.V,I=m.Ba+m.c*j;for(e(v<=m.l.o);0<_;){var z=16<_?16:_,q=m.l.ma,U=m.l.width,$=U*z,oe=q.ca,be=q.tb+U*j,we=m.Ta,ge=m.Ua;hi(m,z,L,I),Ln(we,ge,oe,be,$),os(q,j,j+z,oe,be,U),_-=z,L+=z*m.c,j+=z}e(j==v),m.C=m.Ma=v}function eu(){this.ub=this.yd=this.td=this.Rb=0}function tu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function tm(){this.Yb=function(){var m=[];return function v(j,_,L){for(var I=L[_],z=0;z<I&&(j.push(L.length>_+1?[]:0),!(L.length<_+1));z++)v(j[z],_+1,L)}(m,0,[3,11]),m}()}function Rx(){this.jb=s(3),this.Wc=o([4,8],tm),this.Xc=o([4,17],tm)}function Fx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ru(){this.ld=this.La=this.dd=this.tc=0}function nm(){this.Na=this.la=0}function Ix(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ch(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zx(){this.uc=this.M=this.Nb=0,this.wa=Array(new ru),this.Y=0,this.ya=Array(new Ch),this.aa=0,this.l=new iu}function rm(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Bx(){this.cb=this.a=0,this.sc="",this.m=new Oe,this.Od=new eu,this.Kc=new tu,this.ed=new Fx,this.Qa=new nu,this.Ic=this.$c=this.Aa=0,this.D=new zx,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Oe),this.ia=0,this.pb=a(4,Ix),this.Pa=new Rx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rm),this.Hd=0,this.rb=Array(new nm),this.sb=0,this.wa=Array(new ru),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ch),this.L=this.aa=0,this.gd=o([4,2],ru),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function iu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qx(){var m=new Bx;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,$h||($h=am)),m}function En(m,v,j){return m.a==0&&(m.a=v,m.sc=j,m.cb=0),0}function im(m,v,j){return 3<=j&&m[v+0]==157&&m[v+1]==1&&m[v+2]==42}function sm(m,v){if(m==null)return 0;if(m.a=0,m.sc="OK",v==null)return En(m,2,"null VP8Io passed to VP8GetHeaders()");var j=v.data,_=v.w,L=v.ha;if(4>L)return En(m,7,"Truncated header.");var I=j[_+0]|j[_+1]<<8|j[_+2]<<16,z=m.Od;if(z.Rb=!(1&I),z.td=I>>1&7,z.yd=I>>4&1,z.ub=I>>5,3<z.td)return En(m,3,"Incorrect keyframe parameters.");if(!z.yd)return En(m,4,"Frame not displayable.");_+=3,L-=3;var q=m.Kc;if(z.Rb){if(7>L)return En(m,7,"cannot parse picture header");if(!im(j,_,L))return En(m,3,"Bad code word");q.c=16383&(j[_+4]<<8|j[_+3]),q.Td=j[_+4]>>6,q.i=16383&(j[_+6]<<8|j[_+5]),q.Ud=j[_+6]>>6,_+=7,L-=7,m.za=q.c+15>>4,m.Ub=q.i+15>>4,v.width=q.c,v.height=q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((I=m.Pa).jb,0,255,I.jb.length),e((I=m.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,i(I.Zb,0,0,I.Zb.length),i(I.Lb,0,0,I.Lb)}if(z.ub>L)return En(m,7,"bad partition length");ee(I=m.m,j,_,z.ub),_+=z.ub,L-=z.ub,z.Rb&&(q.Ld=ce(I),q.Kd=ce(I)),q=m.Qa;var U,$=m.Pa;if(e(I!=null),e(q!=null),q.Cb=ce(I),q.Cb){if(q.Bb=ce(I),ce(I)){for(q.Fb=ce(I),U=0;4>U;++U)q.Zb[U]=ce(I)?te(I,7):0;for(U=0;4>U;++U)q.Lb[U]=ce(I)?te(I,6):0}if(q.Bb)for(U=0;3>U;++U)$.jb[U]=ce(I)?G(I,8):255}else q.Bb=0;if(I.Ka)return En(m,3,"cannot parse segment header");if((q=m.ed).zd=ce(I),q.Tb=G(I,6),q.wb=G(I,3),q.Pc=ce(I),q.Pc&&ce(I)){for($=0;4>$;++$)ce(I)&&(q.vd[$]=te(I,6));for($=0;4>$;++$)ce(I)&&(q.od[$]=te(I,6))}if(m.L=q.Tb==0?0:q.zd?1:2,I.Ka)return En(m,3,"cannot parse filter header");var oe=L;if(L=U=_,_=U+oe,q=oe,m.Xb=(1<<G(m.m,2))-1,oe<3*($=m.Xb))j=7;else{for(U+=3*$,q-=3*$,oe=0;oe<$;++oe){var be=j[L+0]|j[L+1]<<8|j[L+2]<<16;be>q&&(be=q),ee(m.Jc[+oe],j,U,be),U+=be,q-=be,L+=3}ee(m.Jc[+$],j,U,q),j=U<_?0:5}if(j!=0)return En(m,j,"cannot parse partitions");for(j=G(U=m.m,7),L=ce(U)?te(U,4):0,_=ce(U)?te(U,4):0,q=ce(U)?te(U,4):0,$=ce(U)?te(U,4):0,U=ce(U)?te(U,4):0,oe=m.Qa,be=0;4>be;++be){if(oe.Cb){var we=oe.Zb[be];oe.Fb||(we+=j)}else{if(0<be){m.pb[be]=m.pb[0];continue}we=j}var ge=m.pb[be];ge.Sc[0]=h1[fi(we+L,127)],ge.Sc[1]=f1[fi(we+0,127)],ge.Eb[0]=2*h1[fi(we+_,127)],ge.Eb[1]=101581*f1[fi(we+q,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=h1[fi(we+$,117)],ge.Qc[1]=f1[fi(we+U,127)],ge.lc=we+U}if(!z.Rb)return En(m,4,"Not a key frame.");for(ce(I),z=m.Pa,j=0;4>j;++j){for(L=0;8>L;++L)for(_=0;3>_;++_)for(q=0;11>q;++q)$=ve(I,V7[j][L][_][q])?G(I,8):U7[j][L][_][q],z.Wc[j][L].Yb[_][q]=$;for(L=0;17>L;++L)z.Xc[j][L]=z.Wc[j][G7[L]]}return m.kc=ce(I),m.kc&&(m.Bd=G(I,8)),m.cb=1}function am(m,v,j,_,L,I,z){var q=v[L].Yb[j];for(j=0;16>L;++L){if(!ve(m,q[j+0]))return L;for(;!ve(m,q[j+1]);)if(q=v[++L].Yb[0],j=0,L==16)return 16;var U=v[L+1].Yb;if(ve(m,q[j+2])){var $=m,oe=0;if(ve($,(we=q)[(be=j)+3]))if(ve($,we[be+6])){for(q=0,be=2*(oe=ve($,we[be+8]))+(we=ve($,we[be+9+oe])),oe=0,we=B7[be];we[q];++q)oe+=oe+ve($,we[q]);oe+=3+(8<<be)}else ve($,we[be+7])?(oe=7+2*ve($,165),oe+=ve($,145)):oe=5+ve($,159);else oe=ve($,we[be+4])?3+ve($,we[be+5]):2;q=U[2]}else oe=1,q=U[1];U=z+q7[L],0>($=m).b&&ie($);var be,we=$.b,ge=(be=$.Ca>>1)-($.I>>we)>>31;--$.b,$.Ca+=ge,$.Ca|=1,$.I-=(be+1&ge)<<we,I[U]=((oe^ge)-ge)*_[(0<L)+0]}return 16}function _h(m){var v=m.rb[m.sb-1];v.la=0,v.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Ux(m,v){if(m==null)return 0;if(v==null)return En(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!sm(m,v))return 0;if(e(m.cb),v.ac==null||v.ac(v)){v.ob&&(m.L=0);var j=Dm[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=v.v-j>>4,m.zb=v.j-j>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=v.o+15+j>>4,m.Hb=v.va+15+j>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var _=m.ed;for(j=0;4>j;++j){var L;if(m.Qa.Cb){var I=m.Qa.Lb[j];m.Qa.Fb||(I+=_.Tb)}else I=_.Tb;for(L=0;1>=L;++L){var z=m.gd[j][L],q=I;if(_.Pc&&(q+=_.vd[0],L&&(q+=_.od[0])),0<(q=0>q?0:63<q?63:q)){var U=q;0<_.wb&&(U=4<_.wb?U>>2:U>>1)>9-_.wb&&(U=9-_.wb),1>U&&(U=1),z.dd=U,z.tc=2*q+U,z.ld=40<=q?2:15<=q?1:0}else z.tc=0;z.La=L}}}j=0}else En(m,6,"Frame setup failed"),j=m.a;if(j=j==0){if(j){m.$c=0,0<m.Aa||(m.Ic=iL);e:{j=m.Ic,_=4*(U=m.za);var $=32*U,oe=U+1,be=0<m.L?U*(0<m.Aa?2:1):0,we=(m.Aa==2?2:1)*U;if((z=_+832+(L=3*(16*j+Dm[m.L])/2*$)+(I=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=z)j=0;else{if(z>m.Vb){if(m.Vb=0,m.Ec=s(z),m.Fc=0,m.Ec==null){j=En(m,1,"no memory during frame initialization.");break e}m.Vb=z}z=m.Ec,q=m.Fc,m.Ac=z,m.Bc=q,q+=_,m.Gd=a($,rm),m.Hd=0,m.rb=a(oe+1,nm),m.sb=1,m.wa=be?a(be,ru):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=U),e(!0),m.oc=z,m.pc=q,q+=832,m.ya=a(we,Ch),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=U),m.R=16*U,m.B=8*U,U=($=Dm[m.L])*m.R,$=$/2*m.B,m.sa=z,m.ta=q+U,m.qa=m.sa,m.ra=m.ta+16*j*m.R+$,m.Ha=m.qa,m.Ia=m.ra+8*j*m.B+$,m.$c=0,q+=L,m.mb=I?z:null,m.nb=I?q:null,e(q+I<=m.Fc+m.Vb),_h(m),i(m.Ac,m.Bc,0,_),j=1}}if(j){if(v.ka=0,v.y=m.sa,v.O=m.ta,v.f=m.qa,v.N=m.ra,v.ea=m.Ha,v.Vd=m.Ia,v.fa=m.R,v.Rc=m.B,v.F=null,v.J=0,!Cm){for(j=-255;255>=j;++j)Kn[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)Oa[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)Wh[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)Su[255+j]=0>j?0:255<j?255:j;Cm=1}yu=Gx,Ea=Hx,Gh=lm,Mr=Vx,Di=cm,On=om,bu=Lh,Nm=Gl,Yh=i1,Wl=Mh,$l=r1,Co=uu,Kl=Dh,wu=xm,Ql=vm,_o=Ys,Xh=Aa,Pi=n1,fs[0]=Gs,fs[1]=Yx,fs[2]=Kx,fs[3]=Qx,fs[4]=hm,fs[5]=lu,fs[6]=fm,fs[7]=kh,fs[8]=Jx,fs[9]=Zx,Ao[0]=um,Ao[1]=Wx,Ao[2]=_a,Ao[3]=au,Ao[4]=br,Ao[5]=$x,Ao[6]=dm,La[0]=bo,La[1]=Xx,La[2]=e1,La[3]=Eh,La[4]=Vl,La[5]=t1,La[6]=Oh,j=1}else j=0}j&&(j=function(ge,Pe){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ne,le=ge.Jc[ge.M&ge.Xb],me=ge.m,Me=ge;for(Ne=0;Ne<Me.za;++Ne){var Fe=me,De=Me,$e=De.Ac,Ve=De.Bc+4*Ne,rt=De.zc,Ye=De.ya[De.aa+Ne];if(De.Qa.Bb?Ye.$b=ve(Fe,De.Pa.jb[0])?2+ve(Fe,De.Pa.jb[2]):ve(Fe,De.Pa.jb[1]):Ye.$b=0,De.kc&&(Ye.Ad=ve(Fe,De.Bd)),Ye.Za=!ve(Fe,145)+0,Ye.Za){var Bt=Ye.Ob,Yt=0;for(De=0;4>De;++De){var Ft,kt=rt[0+De];for(Ft=0;4>Ft;++Ft){kt=H7[$e[Ve+Ft]][kt];for(var nn=qS[ve(Fe,kt[0])];0<nn;)nn=qS[2*nn+ve(Fe,kt[nn])];kt=-nn,$e[Ve+Ft]=kt}r(Bt,Yt,$e,Ve,4),Yt+=4,rt[0+De]=kt}}else kt=ve(Fe,156)?ve(Fe,128)?1:3:ve(Fe,163)?2:0,Ye.Ob[0]=kt,i($e,Ve,kt,4),i(rt,0,kt,4);Ye.Dd=ve(Fe,142)?ve(Fe,114)?ve(Fe,183)?1:3:2:0}if(Me.m.Ka)return En(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Me=le,Fe=(me=ge).rb[me.sb-1],$e=me.rb[me.sb+me.ja],Ne=me.ya[me.aa+me.ja],Ve=me.kc?Ne.Ad:0)Fe.la=$e.la=0,Ne.Za||(Fe.Na=$e.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var Jt,bt;if(Fe=$e,$e=Me,Ve=me.Pa.Xc,rt=me.ya[me.aa+me.ja],Ye=me.pb[rt.$b],De=rt.ad,Bt=0,Yt=me.rb[me.sb-1],kt=Ft=0,i(De,Bt,0,384),rt.Za)var Vn=0,Kr=Ve[3];else{nn=s(16);var Gn=Fe.Na+Yt.Na;if(Gn=$h($e,Ve[1],Gn,Ye.Eb,0,nn,0),Fe.Na=Yt.Na=(0<Gn)+0,1<Gn)yu(nn,0,De,Bt);else{var Qr=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)De[Bt+nn]=Qr}Vn=1,Kr=Ve[0]}var Xt=15&Fe.la,mi=15&Yt.la;for(nn=0;4>nn;++nn){var gi=1&mi;for(Qr=bt=0;4>Qr;++Qr)Xt=Xt>>1|(gi=(Gn=$h($e,Kr,Gn=gi+(1&Xt),Ye.Sc,Vn,De,Bt))>Vn)<<7,bt=bt<<2|(3<Gn?3:1<Gn?2:De[Bt+0]!=0),Bt+=16;Xt>>=4,mi=mi>>1|gi<<7,Ft=(Ft<<8|bt)>>>0}for(Kr=Xt,Vn=mi>>4,Jt=0;4>Jt;Jt+=2){for(bt=0,Xt=Fe.la>>4+Jt,mi=Yt.la>>4+Jt,nn=0;2>nn;++nn){for(gi=1&mi,Qr=0;2>Qr;++Qr)Gn=gi+(1&Xt),Xt=Xt>>1|(gi=0<(Gn=$h($e,Ve[2],Gn,Ye.Qc,0,De,Bt)))<<3,bt=bt<<2|(3<Gn?3:1<Gn?2:De[Bt+0]!=0),Bt+=16;Xt>>=2,mi=mi>>1|gi<<5}kt|=bt<<4*Jt,Kr|=Xt<<4<<Jt,Vn|=(240&mi)<<Jt}Fe.la=Kr,Yt.la=Vn,rt.Hc=Ft,rt.Gc=kt,rt.ia=43690&kt?0:Ye.ia,Ve=!(Ft|kt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Ne.$b][Ne.Za],me.wa[me.Y+me.ja].La|=!Ve),Me.Ka)return En(ge,7,"Premature end-of-file encountered.")}if(_h(ge),me=Pe,Me=1,Ne=(le=ge).D,Fe=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(Ne.M=le.M,Ne.uc=Fe,Bh(le,Ne),Me=1,Ne=(bt=le.D).Nb,Fe=(kt=Dm[le.L])*le.R,$e=kt/2*le.B,nn=16*Ne*le.R,Qr=8*Ne*le.B,Ve=le.sa,rt=le.ta-Fe+nn,Ye=le.qa,De=le.ra-$e+Qr,Bt=le.Ha,Yt=le.Ia-$e+Qr,mi=(Xt=bt.M)==0,Ft=Xt>=le.Va-1,le.Aa==2&&Bh(le,bt),bt.uc)for(gi=(Gn=le).D.M,e(Gn.D.uc),bt=Gn.yb;bt<Gn.Hb;++bt){Vn=bt,Kr=gi;var rr=(hr=(Cn=Gn).D).Nb;Jt=Cn.R;var hr=hr.wa[hr.Y+Vn],Dr=Cn.sa,zi=Cn.ta+16*rr*Jt+16*Vn,Ws=hr.dd,ir=hr.tc;if(ir!=0)if(e(3<=ir),Cn.L==1)0<Vn&&_o(Dr,zi,Jt,ir+4),hr.La&&Pi(Dr,zi,Jt,ir),0<Kr&&Ql(Dr,zi,Jt,ir+4),hr.La&&Xh(Dr,zi,Jt,ir);else{var Ma=Cn.B,Zl=Cn.qa,ju=Cn.ra+8*rr*Ma+8*Vn,ko=Cn.Ha,Cn=Cn.Ia+8*rr*Ma+8*Vn;rr=hr.ld,0<Vn&&(Nm(Dr,zi,Jt,ir+4,Ws,rr),Wl(Zl,ju,ko,Cn,Ma,ir+4,Ws,rr)),hr.La&&(Co(Dr,zi,Jt,ir,Ws,rr),wu(Zl,ju,ko,Cn,Ma,ir,Ws,rr)),0<Kr&&(bu(Dr,zi,Jt,ir+4,Ws,rr),Yh(Zl,ju,ko,Cn,Ma,ir+4,Ws,rr)),hr.La&&($l(Dr,zi,Jt,ir,Ws,rr),Kl(Zl,ju,ko,Cn,Ma,ir,Ws,rr))}}if(le.ia&&alert("todo:DitherRow"),me.put!=null){if(bt=16*Xt,Xt=16*(Xt+1),mi?(me.y=le.sa,me.O=le.ta+nn,me.f=le.qa,me.N=le.ra+Qr,me.ea=le.Ha,me.W=le.Ia+Qr):(bt-=kt,me.y=Ve,me.O=rt,me.f=Ye,me.N=De,me.ea=Bt,me.W=Yt),Ft||(Xt-=kt),Xt>me.o&&(Xt=me.o),me.F=null,me.J=null,le.Fa!=null&&0<le.Fa.length&&bt<Xt&&(me.J=Ih(le,me,bt,Xt-bt),me.F=le.mb,me.F==null&&me.F.length==0)){Me=En(le,3,"Could not decode alpha data.");break e}bt<me.j&&(kt=me.j-bt,bt=me.j,e(!(1&kt)),me.O+=le.R*kt,me.N+=le.B*(kt>>1),me.W+=le.B*(kt>>1),me.F!=null&&(me.J+=me.width*kt)),bt<Xt&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=bt-me.j,me.U=me.va-me.v,me.T=Xt-bt,Me=me.put(me))}Ne+1!=le.Ic||Ft||(r(le.sa,le.ta-Fe,Ve,rt+16*le.R,Fe),r(le.qa,le.ra-$e,Ye,De+8*le.B,$e),r(le.Ha,le.Ia-$e,Bt,Yt+8*le.B,$e))}if(!Me)return En(ge,6,"Output aborted.")}return 1}(m,v)),v.bc!=null&&v.bc(v),j&=1}return j?(m.cb=0,j):0}function us(m,v,j,_,L){L=m[v+j+32*_]+(L>>3),m[v+j+32*_]=-256&L?0>L?0:255:L}function su(m,v,j,_,L,I){us(m,v,0,j,_+L),us(m,v,1,j,_+I),us(m,v,2,j,_-I),us(m,v,3,j,_-L)}function Xr(m){return(20091*m>>16)+m}function Ah(m,v,j,_){var L,I=0,z=s(16);for(L=0;4>L;++L){var q=m[v+0]+m[v+8],U=m[v+0]-m[v+8],$=(35468*m[v+4]>>16)-Xr(m[v+12]),oe=Xr(m[v+4])+(35468*m[v+12]>>16);z[I+0]=q+oe,z[I+1]=U+$,z[I+2]=U-$,z[I+3]=q-oe,I+=4,v++}for(L=I=0;4>L;++L)q=(m=z[I+0]+4)+z[I+8],U=m-z[I+8],$=(35468*z[I+4]>>16)-Xr(z[I+12]),us(j,_,0,0,q+(oe=Xr(z[I+4])+(35468*z[I+12]>>16))),us(j,_,1,0,U+$),us(j,_,2,0,U-$),us(j,_,3,0,q-oe),I++,_+=32}function om(m,v,j,_){var L=m[v+0]+4,I=35468*m[v+4]>>16,z=Xr(m[v+4]),q=35468*m[v+1]>>16;su(j,_,0,L+z,m=Xr(m[v+1]),q),su(j,_,1,L+I,m,q),su(j,_,2,L-I,m,q),su(j,_,3,L-z,m,q)}function Hx(m,v,j,_,L){Ah(m,v,j,_),L&&Ah(m,v+16,j,_+4)}function lm(m,v,j,_){Ea(m,v+0,j,_,1),Ea(m,v+32,j,_+128,1)}function Vx(m,v,j,_){var L;for(m=m[v+0]+4,L=0;4>L;++L)for(v=0;4>v;++v)us(j,_,v,L,m)}function cm(m,v,j,_){m[v+0]&&Mr(m,v+0,j,_),m[v+16]&&Mr(m,v+16,j,_+4),m[v+32]&&Mr(m,v+32,j,_+128),m[v+48]&&Mr(m,v+48,j,_+128+4)}function Gx(m,v,j,_){var L,I=s(16);for(L=0;4>L;++L){var z=m[v+0+L]+m[v+12+L],q=m[v+4+L]+m[v+8+L],U=m[v+4+L]-m[v+8+L],$=m[v+0+L]-m[v+12+L];I[0+L]=z+q,I[8+L]=z-q,I[4+L]=$+U,I[12+L]=$-U}for(L=0;4>L;++L)z=(m=I[0+4*L]+3)+I[3+4*L],q=I[1+4*L]+I[2+4*L],U=I[1+4*L]-I[2+4*L],$=m-I[3+4*L],j[_+0]=z+q>>3,j[_+16]=$+U>>3,j[_+32]=z-q>>3,j[_+48]=$-U>>3,_+=64}function Th(m,v,j){var _,L=v-32,I=pi,z=255-m[L-1];for(_=0;_<j;++_){var q,U=I,$=z+m[v-1];for(q=0;q<j;++q)m[v+q]=U[$+m[L+q]];v+=32}}function Yx(m,v){Th(m,v,4)}function Xx(m,v){Th(m,v,8)}function Wx(m,v){Th(m,v,16)}function _a(m,v){var j;for(j=0;16>j;++j)r(m,v+32*j,m,v-32,16)}function au(m,v){var j;for(j=16;0<j;--j)i(m,v,m[v-1],16),v+=32}function ou(m,v,j){var _;for(_=0;16>_;++_)i(v,j+32*_,m,16)}function um(m,v){var j,_=16;for(j=0;16>j;++j)_+=m[v-1+32*j]+m[v+j-32];ou(_>>5,m,v)}function br(m,v){var j,_=8;for(j=0;16>j;++j)_+=m[v-1+32*j];ou(_>>4,m,v)}function $x(m,v){var j,_=8;for(j=0;16>j;++j)_+=m[v+j-32];ou(_>>4,m,v)}function dm(m,v){ou(128,m,v)}function pt(m,v,j){return m+2*v+j+2>>2}function Kx(m,v){var j,_=v-32;for(_=new Uint8Array([pt(m[_-1],m[_+0],m[_+1]),pt(m[_+0],m[_+1],m[_+2]),pt(m[_+1],m[_+2],m[_+3]),pt(m[_+2],m[_+3],m[_+4])]),j=0;4>j;++j)r(m,v+32*j,_,0,_.length)}function Qx(m,v){var j=m[v-1],_=m[v-1+32],L=m[v-1+64],I=m[v-1+96];je(m,v+0,16843009*pt(m[v-1-32],j,_)),je(m,v+32,16843009*pt(j,_,L)),je(m,v+64,16843009*pt(_,L,I)),je(m,v+96,16843009*pt(L,I,I))}function Gs(m,v){var j,_=4;for(j=0;4>j;++j)_+=m[v+j-32]+m[v-1+32*j];for(_>>=3,j=0;4>j;++j)i(m,v+32*j,_,4)}function hm(m,v){var j=m[v-1+0],_=m[v-1+32],L=m[v-1+64],I=m[v-1-32],z=m[v+0-32],q=m[v+1-32],U=m[v+2-32],$=m[v+3-32];m[v+0+96]=pt(_,L,m[v-1+96]),m[v+1+96]=m[v+0+64]=pt(j,_,L),m[v+2+96]=m[v+1+64]=m[v+0+32]=pt(I,j,_),m[v+3+96]=m[v+2+64]=m[v+1+32]=m[v+0+0]=pt(z,I,j),m[v+3+64]=m[v+2+32]=m[v+1+0]=pt(q,z,I),m[v+3+32]=m[v+2+0]=pt(U,q,z),m[v+3+0]=pt($,U,q)}function fm(m,v){var j=m[v+1-32],_=m[v+2-32],L=m[v+3-32],I=m[v+4-32],z=m[v+5-32],q=m[v+6-32],U=m[v+7-32];m[v+0+0]=pt(m[v+0-32],j,_),m[v+1+0]=m[v+0+32]=pt(j,_,L),m[v+2+0]=m[v+1+32]=m[v+0+64]=pt(_,L,I),m[v+3+0]=m[v+2+32]=m[v+1+64]=m[v+0+96]=pt(L,I,z),m[v+3+32]=m[v+2+64]=m[v+1+96]=pt(I,z,q),m[v+3+64]=m[v+2+96]=pt(z,q,U),m[v+3+96]=pt(q,U,U)}function lu(m,v){var j=m[v-1+0],_=m[v-1+32],L=m[v-1+64],I=m[v-1-32],z=m[v+0-32],q=m[v+1-32],U=m[v+2-32],$=m[v+3-32];m[v+0+0]=m[v+1+64]=I+z+1>>1,m[v+1+0]=m[v+2+64]=z+q+1>>1,m[v+2+0]=m[v+3+64]=q+U+1>>1,m[v+3+0]=U+$+1>>1,m[v+0+96]=pt(L,_,j),m[v+0+64]=pt(_,j,I),m[v+0+32]=m[v+1+96]=pt(j,I,z),m[v+1+32]=m[v+2+96]=pt(I,z,q),m[v+2+32]=m[v+3+96]=pt(z,q,U),m[v+3+32]=pt(q,U,$)}function kh(m,v){var j=m[v+0-32],_=m[v+1-32],L=m[v+2-32],I=m[v+3-32],z=m[v+4-32],q=m[v+5-32],U=m[v+6-32],$=m[v+7-32];m[v+0+0]=j+_+1>>1,m[v+1+0]=m[v+0+64]=_+L+1>>1,m[v+2+0]=m[v+1+64]=L+I+1>>1,m[v+3+0]=m[v+2+64]=I+z+1>>1,m[v+0+32]=pt(j,_,L),m[v+1+32]=m[v+0+96]=pt(_,L,I),m[v+2+32]=m[v+1+96]=pt(L,I,z),m[v+3+32]=m[v+2+96]=pt(I,z,q),m[v+3+64]=pt(z,q,U),m[v+3+96]=pt(q,U,$)}function Zx(m,v){var j=m[v-1+0],_=m[v-1+32],L=m[v-1+64],I=m[v-1+96];m[v+0+0]=j+_+1>>1,m[v+2+0]=m[v+0+32]=_+L+1>>1,m[v+2+32]=m[v+0+64]=L+I+1>>1,m[v+1+0]=pt(j,_,L),m[v+3+0]=m[v+1+32]=pt(_,L,I),m[v+3+32]=m[v+1+64]=pt(L,I,I),m[v+3+64]=m[v+2+64]=m[v+0+96]=m[v+1+96]=m[v+2+96]=m[v+3+96]=I}function Jx(m,v){var j=m[v-1+0],_=m[v-1+32],L=m[v-1+64],I=m[v-1+96],z=m[v-1-32],q=m[v+0-32],U=m[v+1-32],$=m[v+2-32];m[v+0+0]=m[v+2+32]=j+z+1>>1,m[v+0+32]=m[v+2+64]=_+j+1>>1,m[v+0+64]=m[v+2+96]=L+_+1>>1,m[v+0+96]=I+L+1>>1,m[v+3+0]=pt(q,U,$),m[v+2+0]=pt(z,q,U),m[v+1+0]=m[v+3+32]=pt(j,z,q),m[v+1+32]=m[v+3+64]=pt(_,j,z),m[v+1+64]=m[v+3+96]=pt(L,_,j),m[v+1+96]=pt(I,L,_)}function e1(m,v){var j;for(j=0;8>j;++j)r(m,v+32*j,m,v-32,8)}function Eh(m,v){var j;for(j=0;8>j;++j)i(m,v,m[v-1],8),v+=32}function Hl(m,v,j){var _;for(_=0;8>_;++_)i(v,j+32*_,m,8)}function bo(m,v){var j,_=8;for(j=0;8>j;++j)_+=m[v+j-32]+m[v-1+32*j];Hl(_>>4,m,v)}function t1(m,v){var j,_=4;for(j=0;8>j;++j)_+=m[v+j-32];Hl(_>>3,m,v)}function Vl(m,v){var j,_=4;for(j=0;8>j;++j)_+=m[v-1+32*j];Hl(_>>3,m,v)}function Oh(m,v){Hl(128,m,v)}function cu(m,v,j){var _=m[v-j],L=m[v+0],I=3*(L-_)+o1[1020+m[v-2*j]-m[v+j]],z=_m[112+(I+4>>3)];m[v-j]=pi[255+_+_m[112+(I+3>>3)]],m[v+0]=pi[255+L-z]}function pm(m,v,j,_){var L=m[v+0],I=m[v+j];return Fi[255+m[v-2*j]-m[v-j]]>_||Fi[255+I-L]>_}function mm(m,v,j,_){return 4*Fi[255+m[v-j]-m[v+0]]+Fi[255+m[v-2*j]-m[v+j]]<=_}function gm(m,v,j,_,L){var I=m[v-3*j],z=m[v-2*j],q=m[v-j],U=m[v+0],$=m[v+j],oe=m[v+2*j],be=m[v+3*j];return 4*Fi[255+q-U]+Fi[255+z-$]>_?0:Fi[255+m[v-4*j]-I]<=L&&Fi[255+I-z]<=L&&Fi[255+z-q]<=L&&Fi[255+be-oe]<=L&&Fi[255+oe-$]<=L&&Fi[255+$-U]<=L}function vm(m,v,j,_){var L=2*_+1;for(_=0;16>_;++_)mm(m,v+_,j,L)&&cu(m,v+_,j)}function Ys(m,v,j,_){var L=2*_+1;for(_=0;16>_;++_)mm(m,v+_*j,1,L)&&cu(m,v+_*j,1)}function Aa(m,v,j,_){var L;for(L=3;0<L;--L)vm(m,v+=4*j,j,_)}function n1(m,v,j,_){var L;for(L=3;0<L;--L)Ys(m,v+=4,j,_)}function wo(m,v,j,_,L,I,z,q){for(I=2*I+1;0<L--;){if(gm(m,v,j,I,z))if(pm(m,v,j,q))cu(m,v,j);else{var U=m,$=v,oe=j,be=U[$-2*oe],we=U[$-oe],ge=U[$+0],Pe=U[$+oe],Ne=U[$+2*oe],le=27*(Me=o1[1020+3*(ge-we)+o1[1020+be-Pe]])+63>>7,me=18*Me+63>>7,Me=9*Me+63>>7;U[$-3*oe]=pi[255+U[$-3*oe]+Me],U[$-2*oe]=pi[255+be+me],U[$-oe]=pi[255+we+le],U[$+0]=pi[255+ge-le],U[$+oe]=pi[255+Pe-me],U[$+2*oe]=pi[255+Ne-Me]}v+=_}}function ds(m,v,j,_,L,I,z,q){for(I=2*I+1;0<L--;){if(gm(m,v,j,I,z))if(pm(m,v,j,q))cu(m,v,j);else{var U=m,$=v,oe=j,be=U[$-oe],we=U[$+0],ge=U[$+oe],Pe=_m[112+((Ne=3*(we-be))+4>>3)],Ne=_m[112+(Ne+3>>3)],le=Pe+1>>1;U[$-2*oe]=pi[255+U[$-2*oe]+le],U[$-oe]=pi[255+be+Ne],U[$+0]=pi[255+we-Pe],U[$+oe]=pi[255+ge-le]}v+=_}}function Lh(m,v,j,_,L,I){wo(m,v,j,1,16,_,L,I)}function Gl(m,v,j,_,L,I){wo(m,v,1,j,16,_,L,I)}function r1(m,v,j,_,L,I){var z;for(z=3;0<z;--z)ds(m,v+=4*j,j,1,16,_,L,I)}function uu(m,v,j,_,L,I){var z;for(z=3;0<z;--z)ds(m,v+=4,1,j,16,_,L,I)}function i1(m,v,j,_,L,I,z,q){wo(m,v,L,1,8,I,z,q),wo(j,_,L,1,8,I,z,q)}function Mh(m,v,j,_,L,I,z,q){wo(m,v,1,L,8,I,z,q),wo(j,_,1,L,8,I,z,q)}function Dh(m,v,j,_,L,I,z,q){ds(m,v+4*L,L,1,8,I,z,q),ds(j,_+4*L,L,1,8,I,z,q)}function xm(m,v,j,_,L,I,z,q){ds(m,v+4,1,L,8,I,z,q),ds(j,_+4,1,L,8,I,z,q)}function du(){this.ba=new ss,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ph(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ym(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new T}function s1(){this.xb=this.a=0,this.l=new iu,this.ca=new ss,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ym,this.ab=0,this.gc=a(4,Rh),this.Oc=0}function hu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new iu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yl(m,v,j,_,L,I,z){for(m=m==null?0:m[v+0],v=0;v<z;++v)L[I+v]=m+j[_+v]&255,m=L[I+v]}function Fh(m,v,j,_,L,I,z){var q;if(m==null)Yl(null,null,j,_,L,I,z);else for(q=0;q<z;++q)L[I+q]=m[v+q]+j[_+q]&255}function So(m,v,j,_,L,I,z){if(m==null)Yl(null,null,j,_,L,I,z);else{var q,U=m[v+0],$=U,oe=U;for(q=0;q<z;++q)$=oe+(U=m[v+q])-$,oe=j[_+q]+(-256&$?0>$?0:255:$)&255,$=U,L[I+q]=oe}}function Ih(m,v,j,_){var L=v.width,I=v.o;if(e(m!=null&&v!=null),0>j||0>=_||j+_>I)return null;if(!m.Cc){if(m.ga==null){var z;if(m.ga=new hu,(z=m.ga==null)||(z=v.width*v.o,e(m.Gb.length==0),m.Gb=s(z),m.Uc=0,m.Gb==null?z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,z=1),z=!z),!z){z=m.ga;var q=m.Fa,U=m.P,$=m.qc,oe=m.mb,be=m.nb,we=U+1,ge=$-1,Pe=z.l;if(e(q!=null&&oe!=null&&v!=null),To[0]=null,To[1]=Yl,To[2]=Fh,To[3]=So,z.ca=oe,z.tb=be,z.c=v.width,z.i=v.height,e(0<z.c&&0<z.i),1>=$)v=0;else if(z.$a=q[U+0]>>0&3,z.Z=q[U+0]>>2&3,z.Lc=q[U+0]>>4&3,U=q[U+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||U)v=0;else if(Pe.put=Bs,Pe.ac=ur,Pe.bc=qs,Pe.ma=z,Pe.width=v.width,Pe.height=v.height,Pe.Da=v.Da,Pe.v=v.v,Pe.va=v.va,Pe.j=v.j,Pe.o=v.o,z.$a)e:{e(z.$a==1),v=Li();t:for(;;){if(v==null){v=0;break e}if(e(z!=null),z.mc=v,v.c=z.c,v.i=z.i,v.l=z.l,v.l.ma=z,v.l.width=z.c,v.l.height=z.i,v.a=0,V(v.m,q,we,ge),!Vs(z.c,z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ca(v.s)?(z.ic=1,q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(z.ic=0,v=Ul(v,z.c)),!v))break t;v=1;break e}z.mc=null,v=0}else v=ge>=z.c*z.i;z=!v}if(z)return null;m.ga.Lc!=1?m.Ga=0:_=I-j}e(m.ga!=null),e(j+_<=I);e:{if(v=(q=m.ga).c,I=q.l.o,q.$a==0){if(we=m.rc,ge=m.Vc,Pe=m.Fa,U=m.P+1+j*v,$=m.mb,oe=m.nb+j*v,e(U<=m.P+m.qc),q.Z!=0)for(e(To[q.Z]!=null),z=0;z<_;++z)To[q.Z](we,ge,Pe,U,$,oe,v),we=$,ge=oe,oe+=v,U+=v;else for(z=0;z<_;++z)r($,oe,Pe,U,v),we=$,ge=oe,oe+=v,U+=v;m.rc=we,m.Vc=ge}else{if(e(q.mc!=null),v=j+_,e((z=q.mc)!=null),e(v<=z.i),z.C>=v)v=1;else if(q.ic||xe(),q.ic){q=z.V,we=z.Ba,ge=z.c;var Ne=z.i,le=(Pe=1,U=z.$/ge,$=z.$%ge,oe=z.m,be=z.s,z.$),me=ge*Ne,Me=ge*v,Fe=be.wc,De=le<Me?Un(be,$,U):null;e(le<=me),e(v<=Ne),e(Ca(be));t:for(;;){for(;!oe.h&&le<Me;){if($&Fe||(De=Un(be,$,U)),e(De!=null),se(oe),256>(Ne=Yr(De.G[0],De.H[0],oe)))q[we+le]=Ne,++le,++$>=ge&&($=0,++U<=v&&!(U%16)&&ls(z,U));else{if(!(280>Ne)){Pe=0;break t}Ne=as(Ne-256,oe);var $e,Ve=Yr(De.G[4],De.H[4],oe);if(se(oe),!(le>=(Ve=Us(ge,Ve=as(Ve,oe)))&&me-le>=Ne)){Pe=0;break t}for($e=0;$e<Ne;++$e)q[we+le+$e]=q[we+le+$e-Ve];for(le+=Ne,$+=Ne;$>=ge;)$-=ge,++U<=v&&!(U%16)&&ls(z,U);le<Me&&$&Fe&&(De=Un(be,$,U))}e(oe.h==W(oe))}ls(z,U>v?v:U);break t}!Pe||oe.h&&le<me?(Pe=0,z.a=oe.h?5:3):z.$=le,v=Pe}else v=cs(z,z.V,z.Ba,z.c,z.i,v,Jc);if(!v){_=0;break e}}j+_>=I&&(m.Cc=1),_=1}if(!_)return null;if(m.Cc&&((_=m.ga)!=null&&(_.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*L}function S(m,v,j,_,L,I){for(;0<L--;){var z,q=m,U=v+(j?1:0),$=m,oe=v+(j?0:3);for(z=0;z<_;++z){var be=$[oe+4*z];be!=255&&(be*=32897,q[U+4*z+0]=q[U+4*z+0]*be>>23,q[U+4*z+1]=q[U+4*z+1]*be>>23,q[U+4*z+2]=q[U+4*z+2]*be>>23)}v+=I}}function M(m,v,j,_,L){for(;0<_--;){var I;for(I=0;I<j;++I){var z=m[v+2*I+0],q=15&($=m[v+2*I+1]),U=4369*q,$=(240&$|$>>4)*U>>16;m[v+2*I+0]=(240&z|z>>4)*U>>16&240|(15&z|z<<4)*U>>16>>4&15,m[v+2*I+1]=240&$|q}v+=L}}function Q(m,v,j,_,L,I,z,q){var U,$,oe=255;for($=0;$<L;++$){for(U=0;U<_;++U){var be=m[v+U];I[z+4*U]=be,oe&=be}v+=j,z+=q}return oe!=255}function ae(m,v,j,_,L){var I;for(I=0;I<L;++I)j[_+I]=m[v+I]>>8}function xe(){Ri=S,an=M,on=Q,Ln=ae}function Ae(m,v,j){O[m]=function(_,L,I,z,q,U,$,oe,be,we,ge,Pe,Ne,le,me,Me,Fe){var De,$e=Fe-1>>1,Ve=q[U+0]|$[oe+0]<<16,rt=be[we+0]|ge[Pe+0]<<16;e(_!=null);var Ye=3*Ve+rt+131074>>2;for(v(_[L+0],255&Ye,Ye>>16,Ne,le),I!=null&&(Ye=3*rt+Ve+131074>>2,v(I[z+0],255&Ye,Ye>>16,me,Me)),De=1;De<=$e;++De){var Bt=q[U+De]|$[oe+De]<<16,Yt=be[we+De]|ge[Pe+De]<<16,Ft=Ve+Bt+rt+Yt+524296,kt=Ft+2*(Bt+rt)>>3;Ye=kt+Ve>>1,Ve=(Ft=Ft+2*(Ve+Yt)>>3)+Bt>>1,v(_[L+2*De-1],255&Ye,Ye>>16,Ne,le+(2*De-1)*j),v(_[L+2*De-0],255&Ve,Ve>>16,Ne,le+(2*De-0)*j),I!=null&&(Ye=Ft+rt>>1,Ve=kt+Yt>>1,v(I[z+2*De-1],255&Ye,Ye>>16,me,Me+(2*De-1)*j),v(I[z+2*De+0],255&Ve,Ve>>16,me,Me+(2*De+0)*j)),Ve=Bt,rt=Yt}1&Fe||(Ye=3*Ve+rt+131074>>2,v(_[L+Fe-1],255&Ye,Ye>>16,Ne,le+(Fe-1)*j),I!=null&&(Ye=3*rt+Ve+131074>>2,v(I[z+Fe-1],255&Ye,Ye>>16,me,Me+(Fe-1)*j)))}}function ze(){Ii[Am]=X7,Ii[Tm]=HS,Ii[IS]=W7,Ii[km]=VS,Ii[Em]=GS,Ii[l1]=YS,Ii[zS]=$7,Ii[c1]=HS,Ii[u1]=VS,Ii[Om]=GS,Ii[d1]=YS}function We(m){return m&-16384?0>m?0:255:m>>K7}function tt(m,v){return We((19077*m>>8)+(26149*v>>8)-14234)}function xt(m,v,j){return We((19077*m>>8)-(6419*v>>8)-(13320*j>>8)+8708)}function gt(m,v){return We((19077*m>>8)+(33050*v>>8)-17685)}function Pt(m,v,j,_,L){_[L+0]=tt(m,j),_[L+1]=xt(m,v,j),_[L+2]=gt(m,v)}function xn(m,v,j,_,L){_[L+0]=gt(m,v),_[L+1]=xt(m,v,j),_[L+2]=tt(m,j)}function Nn(m,v,j,_,L){var I=xt(m,v,j);v=I<<3&224|gt(m,v)>>3,_[L+0]=248&tt(m,j)|I>>5,_[L+1]=v}function Hn(m,v,j,_,L){var I=240&gt(m,v)|15;_[L+0]=240&tt(m,j)|xt(m,v,j)>>4,_[L+1]=I}function wr(m,v,j,_,L){_[L+0]=255,Pt(m,v,j,_,L+1)}function nr(m,v,j,_,L){xn(m,v,j,_,L),_[L+3]=255}function hs(m,v,j,_,L){Pt(m,v,j,_,L),_[L+3]=255}function fi(m,v){return 0>m?0:m>v?v:m}function Xs(m,v,j){O[m]=function(_,L,I,z,q,U,$,oe,be){for(var we=oe+(-2&be)*j;oe!=we;)v(_[L+0],I[z+0],q[U+0],$,oe),v(_[L+1],I[z+0],q[U+0],$,oe+j),L+=2,++z,++U,oe+=2*j;1&be&&v(_[L+0],I[z+0],q[U+0],$,oe)}}function bm(m,v,j){return j==0?m==0?v==0?6:5:v==0?4:0:j}function zh(m,v,j,_,L){switch(m>>>30){case 3:Ea(v,j,_,L,0);break;case 2:On(v,j,_,L);break;case 1:Mr(v,j,_,L)}}function Bh(m,v){var j,_,L=v.M,I=v.Nb,z=m.oc,q=m.pc+40,U=m.oc,$=m.pc+584,oe=m.oc,be=m.pc+600;for(j=0;16>j;++j)z[q+32*j-1]=129;for(j=0;8>j;++j)U[$+32*j-1]=129,oe[be+32*j-1]=129;for(0<L?z[q-1-32]=U[$-1-32]=oe[be-1-32]=129:(i(z,q-32-1,127,21),i(U,$-32-1,127,9),i(oe,be-32-1,127,9)),_=0;_<m.za;++_){var we=v.ya[v.aa+_];if(0<_){for(j=-1;16>j;++j)r(z,q+32*j-4,z,q+32*j+12,4);for(j=-1;8>j;++j)r(U,$+32*j-4,U,$+32*j+4,4),r(oe,be+32*j-4,oe,be+32*j+4,4)}var ge=m.Gd,Pe=m.Hd+_,Ne=we.ad,le=we.Hc;if(0<L&&(r(z,q-32,ge[Pe].y,0,16),r(U,$-32,ge[Pe].f,0,8),r(oe,be-32,ge[Pe].ea,0,8)),we.Za){var me=z,Me=q-32+16;for(0<L&&(_>=m.za-1?i(me,Me,ge[Pe].y[15],4):r(me,Me,ge[Pe+1].y,0,4)),j=0;4>j;j++)me[Me+128+j]=me[Me+256+j]=me[Me+384+j]=me[Me+0+j];for(j=0;16>j;++j,le<<=2)me=z,Me=q+WS[j],fs[we.Ob[j]](me,Me),zh(le,Ne,16*+j,me,Me)}else if(me=bm(_,L,we.Ob[0]),Ao[me](z,q),le!=0)for(j=0;16>j;++j,le<<=2)zh(le,Ne,16*+j,z,q+WS[j]);for(j=we.Gc,me=bm(_,L,we.Dd),La[me](U,$),La[me](oe,be),le=Ne,me=U,Me=$,255&(we=j>>0)&&(170&we?Gh(le,256,me,Me):Di(le,256,me,Me)),we=oe,le=be,255&(j>>=8)&&(170&j?Gh(Ne,320,we,le):Di(Ne,320,we,le)),L<m.Ub-1&&(r(ge[Pe].y,0,z,q+480,16),r(ge[Pe].f,0,U,$+224,8),r(ge[Pe].ea,0,oe,be+224,8)),j=8*I*m.B,ge=m.sa,Pe=m.ta+16*_+16*I*m.R,Ne=m.qa,we=m.ra+8*_+j,le=m.Ha,me=m.Ia+8*_+j,j=0;16>j;++j)r(ge,Pe+j*m.R,z,q+32*j,16);for(j=0;8>j;++j)r(Ne,we+j*m.B,U,$+32*j,8),r(le,me+j*m.B,oe,be+32*j,8)}}function fu(m,v,j,_,L,I,z,q,U){var $=[0],oe=[0],be=0,we=U!=null?U.kd:0,ge=U??new Ph;if(m==null||12>j)return 7;ge.data=m,ge.w=v,ge.ha=j,v=[v],j=[j],ge.gb=[ge.gb];e:{var Pe=v,Ne=j,le=ge.gb;if(e(m!=null),e(Ne!=null),e(le!=null),le[0]=0,12<=Ne[0]&&!n(m,Pe[0],"RIFF")){if(n(m,Pe[0]+8,"WEBP")){le=3;break e}var me=Be(m,Pe[0]+4);if(12>me||4294967286<me){le=3;break e}if(we&&me>Ne[0]-8){le=7;break e}le[0]=me,Pe[0]+=12,Ne[0]-=12}le=0}if(le!=0)return le;for(me=0<ge.gb[0],j=j[0];;){e:{var Me=m;Ne=v,le=j;var Fe=$,De=oe,$e=Pe=[0];if((Ye=be=[be])[0]=0,8>le[0])le=7;else{if(!n(Me,Ne[0],"VP8X")){if(Be(Me,Ne[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Ve=Be(Me,Ne[0]+8),rt=1+ke(Me,Ne[0]+12);if(2147483648<=rt*(Me=1+ke(Me,Ne[0]+15))){le=3;break e}$e!=null&&($e[0]=Ve),Fe!=null&&(Fe[0]=rt),De!=null&&(De[0]=Me),Ne[0]+=18,le[0]-=18,Ye[0]=1}le=0}}if(be=be[0],Pe=Pe[0],le!=0)return le;if(Ne=!!(2&Pe),!me&&be)return 3;if(I!=null&&(I[0]=!!(16&Pe)),z!=null&&(z[0]=Ne),q!=null&&(q[0]=0),z=$[0],Pe=oe[0],be&&Ne&&U==null){le=0;break}if(4>j){le=7;break}if(me&&be||!me&&!be&&!n(m,v[0],"ALPH")){j=[j],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ve=m,le=v,me=j;var Ye=ge.gb;Fe=ge.na,De=ge.P,$e=ge.Sa,rt=22,e(Ve!=null),e(me!=null),Me=le[0];var Bt=me[0];for(e(Fe!=null),e($e!=null),Fe[0]=null,De[0]=null,$e[0]=0;;){if(le[0]=Me,me[0]=Bt,8>Bt){le=7;break e}var Yt=Be(Ve,Me+4);if(4294967286<Yt){le=3;break e}var Ft=8+Yt+1&-2;if(rt+=Ft,0<Ye&&rt>Ye){le=3;break e}if(!n(Ve,Me,"VP8 ")||!n(Ve,Me,"VP8L")){le=0;break e}if(Bt[0]<Ft){le=7;break e}n(Ve,Me,"ALPH")||(Fe[0]=Ve,De[0]=Me+8,$e[0]=Yt),Me+=Ft,Bt-=Ft}}if(j=j[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],le!=0)break}j=[j],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ye=m,le=v,me=j,Fe=ge.gb[0],De=ge.Ja,$e=ge.xa,Ve=le[0],Me=!n(Ye,Ve,"VP8 "),rt=!n(Ye,Ve,"VP8L"),e(Ye!=null),e(me!=null),e(De!=null),e($e!=null),8>me[0])le=7;else{if(Me||rt){if(Ye=Be(Ye,Ve+4),12<=Fe&&Ye>Fe-12){le=3;break e}if(we&&Ye>me[0]-8){le=7;break e}De[0]=Ye,le[0]+=8,me[0]-=8,$e[0]=rt}else $e[0]=5<=me[0]&&Ye[Ve+0]==47&&!(Ye[Ve+4]>>5),De[0]=me[0];le=0}if(j=j[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],v=v[0],le!=0)break;if(4294967286<ge.Ja)return 3;if(q==null||Ne||(q[0]=ge.xa?2:1),z=[z],Pe=[Pe],ge.xa){if(5>j){le=7;break}q=z,we=Pe,Ne=I,m==null||5>j?m=0:5<=j&&m[v+0]==47&&!(m[v+4]>>5)?(me=[0],Ye=[0],Fe=[0],V(De=new F,m,v,j),at(De,me,Ye,Fe)?(q!=null&&(q[0]=me[0]),we!=null&&(we[0]=Ye[0]),Ne!=null&&(Ne[0]=Fe[0]),m=1):m=0):m=0}else{if(10>j){le=7;break}q=Pe,m==null||10>j||!im(m,v+3,j-3)?m=0:(we=m[v+0]|m[v+1]<<8|m[v+2]<<16,Ne=16383&(m[v+7]<<8|m[v+6]),m=16383&(m[v+9]<<8|m[v+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=ge.Ja||!Ne||!m?m=0:(z&&(z[0]=Ne),q&&(q[0]=m),m=1))}if(!m||(z=z[0],Pe=Pe[0],be&&($[0]!=z||oe[0]!=Pe)))return 3;U!=null&&(U[0]=ge,U.offset=v-U.w,e(4294967286>v-U.w),e(U.offset==U.ha-j));break}return le==0||le==7&&be&&U==null?(I!=null&&(I[0]|=ge.na!=null&&0<ge.na.length),_!=null&&(_[0]=z),L!=null&&(L[0]=Pe),0):le}function qh(m,v,j){var _=v.width,L=v.height,I=0,z=0,q=_,U=L;if(v.Da=m!=null&&0<m.Da,v.Da&&(q=m.cd,U=m.bd,I=m.v,z=m.j,11>j||(I&=-2,z&=-2),0>I||0>z||0>=q||0>=U||I+q>_||z+U>L))return 0;if(v.v=I,v.j=z,v.va=I+q,v.o=z+U,v.U=q,v.T=U,v.da=m!=null&&0<m.da,v.da){if(!ne(q,U,j=[m.ib],I=[m.hb]))return 0;v.ib=j[0],v.hb=I[0]}return v.ob=m!=null&&m.ob,v.Kb=m==null||!m.Sd,v.da&&(v.ob=v.ib<3*_/4&&v.hb<3*L/4,v.Kb=0),1}function Uh(m){if(m==null)return 2;if(11>m.S){var v=m.f.RGBA;v.fb+=(m.height-1)*v.A,v.A=-v.A}else v=m.f.kb,m=m.height,v.O+=(m-1)*v.fa,v.fa=-v.fa,v.N+=(m-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(m-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(m-1)*v.lb,v.lb=-v.lb);return 0}function pu(m,v,j,_){if(_==null||0>=m||0>=v)return 2;if(j!=null){if(j.Da){var L=j.cd,I=j.bd,z=-2&j.v,q=-2&j.j;if(0>z||0>q||0>=L||0>=I||z+L>m||q+I>v)return 2;m=L,v=I}if(j.da){if(!ne(m,v,L=[j.ib],I=[j.hb]))return 2;m=L[0],v=I[0]}}_.width=m,_.height=v;e:{var U=_.width,$=_.height;if(m=_.S,0>=U||0>=$||!(m>=Am&&13>m))m=2;else{if(0>=_.Rd&&_.sd==null){z=I=L=v=0;var oe=(q=U*$S[m])*$;if(11>m||(I=($+1)/2*(v=(U+1)/2),m==12&&(z=(L=U)*$)),($=s(oe+2*I+z))==null){m=1;break e}_.sd=$,11>m?((U=_.f.RGBA).eb=$,U.fb=0,U.A=q,U.size=oe):((U=_.f.kb).y=$,U.O=0,U.fa=q,U.Fd=oe,U.f=$,U.N=0+oe,U.Ab=v,U.Cd=I,U.ea=$,U.W=0+oe+I,U.Db=v,U.Ed=I,m==12&&(U.F=$,U.J=0+oe+2*I),U.Tc=z,U.lb=L)}if(v=1,L=_.S,I=_.width,z=_.height,L>=Am&&13>L)if(11>L)m=_.f.RGBA,v&=(q=Math.abs(m.A))*(z-1)+I<=m.size,v&=q>=I*$S[L],v&=m.eb!=null;else{m=_.f.kb,q=(I+1)/2,oe=(z+1)/2,U=Math.abs(m.fa),$=Math.abs(m.Ab);var be=Math.abs(m.Db),we=Math.abs(m.lb),ge=we*(z-1)+I;v&=U*(z-1)+I<=m.Fd,v&=$*(oe-1)+q<=m.Cd,v=(v&=be*(oe-1)+q<=m.Ed)&U>=I&$>=q&be>=q,v&=m.y!=null,v&=m.f!=null,v&=m.ea!=null,L==12&&(v&=we>=I,v&=ge<=m.Tc,v&=m.F!=null)}else v=0;m=v?0:2}}return m!=0||j!=null&&j.fd&&(m=Uh(_)),m}var dr=64,mu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gu=24,vu=32,Hh=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(m){return m},O.Predictor2=function(m,v,j){return v[j+0]},O.Predictor3=function(m,v,j){return v[j+1]},O.Predictor4=function(m,v,j){return v[j-1]},O.Predictor5=function(m,v,j){return Ue(Ue(m,v[j+1]),v[j+0])},O.Predictor6=function(m,v,j){return Ue(m,v[j-1])},O.Predictor7=function(m,v,j){return Ue(m,v[j+0])},O.Predictor8=function(m,v,j){return Ue(v[j-1],v[j+0])},O.Predictor9=function(m,v,j){return Ue(v[j+0],v[j+1])},O.Predictor10=function(m,v,j){return Ue(Ue(m,v[j-1]),Ue(v[j+0],v[j+1]))},O.Predictor11=function(m,v,j){var _=v[j+0];return 0>=Ie(_>>24&255,m>>24&255,(v=v[j-1])>>24&255)+Ie(_>>16&255,m>>16&255,v>>16&255)+Ie(_>>8&255,m>>8&255,v>>8&255)+Ie(255&_,255&m,255&v)?_:m},O.Predictor12=function(m,v,j){var _=v[j+0];return(He((m>>24&255)+(_>>24&255)-((v=v[j-1])>>24&255))<<24|He((m>>16&255)+(_>>16&255)-(v>>16&255))<<16|He((m>>8&255)+(_>>8&255)-(v>>8&255))<<8|He((255&m)+(255&_)-(255&v)))>>>0},O.Predictor13=function(m,v,j){var _=v[j-1];return(Te((m=Ue(m,v[j+0]))>>24&255,_>>24&255)<<24|Te(m>>16&255,_>>16&255)<<16|Te(m>>8&255,_>>8&255)<<8|Te(m>>0&255,_>>0&255))>>>0};var a1=O.PredictorAdd0;O.PredictorAdd1=Xe,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Vh=O.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var wm,Mi=O.ColorIndexInverseTransform,xu=O.MapARGB,Sm=O.VP8LColorIndexInverseTransformAlpha,jm=O.MapAlpha,jo=O.VP8LPredictorsAdd=[];jo.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Xl,$r,Lr,No,Ta,ka,yu,Ea,On,Gh,Mr,Di,bu,Nm,Yh,Wl,$l,Co,Kl,wu,Ql,_o,Xh,Pi,Ri,an,on,Ln,Kn=s(511),Oa=s(2041),Wh=s(225),Su=s(767),Cm=0,o1=Oa,_m=Wh,pi=Su,Fi=Kn,Am=0,Tm=1,IS=2,km=3,Em=4,l1=5,zS=6,c1=7,u1=8,Om=9,d1=10,M7=[2,3,7],D7=[3,3,11],BS=[280,256,256,256,40],P7=[0,1,1,1,0],R7=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],F7=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],I7=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],z7=8,h1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],f1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$h=null,B7=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],q7=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],U7=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H7=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],V7=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],G7=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ao=[],fs=[],La=[],Y7=1,US=2,To=[],Ii=[];Ae("UpsampleRgbLinePair",Pt,3),Ae("UpsampleBgrLinePair",xn,3),Ae("UpsampleRgbaLinePair",hs,4),Ae("UpsampleBgraLinePair",nr,4),Ae("UpsampleArgbLinePair",wr,4),Ae("UpsampleRgba4444LinePair",Hn,2),Ae("UpsampleRgb565LinePair",Nn,2);var X7=O.UpsampleRgbLinePair,W7=O.UpsampleBgrLinePair,HS=O.UpsampleRgbaLinePair,VS=O.UpsampleBgraLinePair,GS=O.UpsampleArgbLinePair,YS=O.UpsampleRgba4444LinePair,$7=O.UpsampleRgb565LinePair,Lm=16,Mm=1<<Lm-1,Kh=-227,p1=482,K7=6,XS=0,Q7=s(256),Z7=s(256),J7=s(256),eL=s(256),tL=s(p1-Kh),nL=s(p1-Kh);Xs("YuvToRgbRow",Pt,3),Xs("YuvToBgrRow",xn,3),Xs("YuvToRgbaRow",hs,4),Xs("YuvToBgraRow",nr,4),Xs("YuvToArgbRow",wr,4),Xs("YuvToRgba4444Row",Hn,2),Xs("YuvToRgb565Row",Nn,2);var WS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dm=[0,2,8],rL=[8,7,6,4,4,2,2,2,1,1,1,1],iL=1;this.WebPDecodeRGBA=function(m,v,j,_,L){var I=Tm,z=new du,q=new ss;z.ba=q,q.S=I,q.width=[q.width],q.height=[q.height];var U=q.width,$=q.height,oe=new Na;if(oe==null||m==null)var be=2;else e(oe!=null),be=fu(m,v,j,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(be!=0?U=0:(U!=null&&(U[0]=oe.width[0]),$!=null&&($[0]=oe.height[0]),U=1),U){q.width=q.width[0],q.height=q.height[0],_!=null&&(_[0]=q.width),L!=null&&(L[0]=q.height);e:{if(_=new iu,(L=new Ph).data=m,L.w=v,L.ha=j,L.kd=1,v=[0],e(L!=null),((m=fu(L.data,L.w,L.ha,null,null,null,v,null,L))==0||m==7)&&v[0]&&(m=4),(v=m)==0){if(e(z!=null),_.data=L.data,_.w=L.w+L.offset,_.ha=L.ha-L.offset,_.put=Bs,_.ac=ur,_.bc=qs,_.ma=z,L.xa){if((m=Li())==null){z=1;break e}if(function(we,ge){var Pe=[0],Ne=[0],le=[0];t:for(;;){if(we==null)return 0;if(ge==null)return we.a=2,0;if(we.l=ge,we.a=0,V(we.m,ge.data,ge.w,ge.ha),!at(we.m,Pe,Ne,le)){we.a=3;break t}if(we.xb=US,ge.width=Pe[0],ge.height=Ne[0],!Vs(Pe[0],Ne[0],1,we,null))break t;return 1}return e(we.a!=0),0}(m,_)){if(_=(v=pu(_.width,_.height,z.Oa,z.ba))==0){t:{_=m;n:for(;;){if(_==null){_=0;break t}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((j=_.l)!=null),e((L=j.ma)!=null),_.xb!=0){if(_.ca=L.ba,_.tb=L.tb,e(_.ca!=null),!qh(L.Oa,j,km)){_.a=2;break n}if(!Ul(_,j.width)||j.da)break n;if((j.da||Dt(_.ca.S))&&xe(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&xe()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!he(_.s.vb,_.s.Wa.Xa)){_.a=1;break n}_.xb=0}if(!cs(_,_.V,_.Ba,_.c,_.i,j.o,Zc))break n;L.Dc=_.Ma,_=1;break t}e(_.a!=0),_=0}_=!_}_&&(v=m.a)}else v=m.a}else{if((m=new qx)==null){z=1;break e}if(m.Fa=L.na,m.P=L.P,m.qc=L.Sa,sm(m,_)){if((v=pu(_.width,_.height,z.Oa,z.ba))==0){if(m.Aa=0,j=z.Oa,e((L=m)!=null),j!=null){if(0<(U=0>(U=j.Md)?0:100<U?255:255*U/100)){for($=oe=0;4>$;++$)12>(be=L.pb[$]).lc&&(be.ia=U*rL[0>be.lc?0:be.lc]>>3),oe|=be.ia;oe&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=j.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Ux(m,_)||(v=m.a)}}else v=m.a}v==0&&z.Oa!=null&&z.Oa.fd&&(v=Uh(z.ba))}z=v}I=z!=0?null:11>I?q.f.RGBA.eb:q.f.kb.y}else I=null;return I};var $S=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,H){for(var K="",D=0;D<4;D++)K+=String.fromCharCode(O[H++]);return K}function d(O,H){return(O[H+0]<<0|O[H+1]<<8|O[H+2]<<16)>>>0}function h(O,H){return(O[H+0]<<0|O[H+1]<<8|O[H+2]<<16|O[H+3]<<24)>>>0}new c;var p=[0],f=[0],b=[],g=new c,w=t,x=function(O,H){var K={},D=0,T=!1,X=0,B=0;if(K.frames=[],!function(Y,W,Z,se){for(var ie=0;ie<se;ie++)if(Y[W+ie]!=Z.charCodeAt(ie))return!0;return!1}(O,H,"RIFF",4)){for(h(O,H+=4),H+=8;H<O.length;){var ee=u(O,H),G=h(O,H+=4);H+=4;var te=G+(1&G);switch(ee){case"VP8 ":case"VP8L":K.frames[D]===void 0&&(K.frames[D]={}),(de=K.frames[D]).src_off=T?B:H-8,de.src_size=X+G+8,D++,T&&(T=!1,X=0,B=0);break;case"VP8X":(de=K.header={}).feature_flags=O[H];var V=H+4;de.canvas_width=1+d(O,V),V+=3,de.canvas_height=1+d(O,V),V+=3;break;case"ALPH":T=!0,X=te+8,B=H-8;break;case"ANIM":(de=K.header).bgcolor=h(O,H),V=H+4,de.loop_count=(Oe=O)[(F=V)+0]<<0|Oe[F+1]<<8,V+=2;break;case"ANMF":var re,de;(de=K.frames[D]={}).offset_x=2*d(O,H),H+=3,de.offset_y=2*d(O,H),H+=3,de.width=1+d(O,H),H+=3,de.height=1+d(O,H),H+=3,de.duration=d(O,H),H+=3,re=O[H++],de.dispose=1&re,de.blend=re>>1&1}ee!="ANMF"&&(H+=te)}var Oe,F;return K}}(w,0);x.response=w,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,N=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],f=[y.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var k=N[0],E=g.WebPDecodeRGBA(w,k.src_off,k.src_size,f,p);k.rgba=E,k.imgwidth=f[0],k.imgheight=p[0];for(var R=0;R<f[0]*p[0]*4;R++)b[R]=E[R];return this.width=f,this.height=p,this.data=b,this}(function(t){var e=function(){return typeof Qb=="function"},n=function(p,f,b,g){var w=4,x=a;switch(g){case t.image_compression.FAST:w=1,x=s;break;case t.image_compression.MEDIUM:w=6,x=o;break;case t.image_compression.SLOW:w=9,x=c}p=r(p,f,b,x);var y=Qb(p,{level:w});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(p,f,b,g){for(var w,x,y,N=p.length/f,A=new Uint8Array(p.length+N),k=d(),E=0;E<N;E+=1){if(y=E*f,w=p.subarray(y,y+f),g)A.set(g(w,b,x),y+E);else{for(var R,O=k.length,H=[];R<O;R+=1)H[R]=k[R](w,b,x);var K=h(H.concat());A.set(H[K],y+E)}x=w}return A},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var b,g=[],w=p.length;g[0]=1;for(var x=0;x<w;x+=1)b=p[x-f]||0,g[x+1]=p[x]-b+256&255;return g},a=function(p,f,b){var g,w=[],x=p.length;w[0]=2;for(var y=0;y<x;y+=1)g=b&&b[y]||0,w[y+1]=p[y]-g+256&255;return w},o=function(p,f,b){var g,w,x=[],y=p.length;x[0]=3;for(var N=0;N<y;N+=1)g=p[N-f]||0,w=b&&b[N]||0,x[N+1]=p[N]+256-(g+w>>>1)&255;return x},c=function(p,f,b){var g,w,x,y,N=[],A=p.length;N[0]=4;for(var k=0;k<A;k+=1)g=p[k-f]||0,w=b&&b[k]||0,x=b&&b[k-f]||0,y=u(g,w,x),N[k+1]=p[k]-y+256&255;return N},u=function(p,f,b){if(p===f&&f===b)return p;var g=Math.abs(f-b),w=Math.abs(p-b),x=Math.abs(p+f-b-b);return g<=w&&g<=x?p:w<=x?f:b},d=function(){return[i,s,a,o,c]},h=function(p){var f=p.map(function(b){return b.reduce(function(g,w){return g+Math.abs(w)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,b,g){var w,x,y,N,A,k,E,R,O,H,K,D,T,X,B,ee=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new HY(p)).imgData,x=y.bits,w=y.colorSpace,A=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){O=(R=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,K=new Uint8Array(O*y.colors),H=new Uint8Array(O);var te,V=y.pixelBitlength-y.bits;for(X=0,B=0;X<O;X++){for(T=R[X],te=0;te<V;)K[B++]=T>>>te&255,te+=y.bits;H[X]=T>>>te&255}}if(y.bits===16){O=(R=new Uint32Array(y.decodePixels().buffer)).length,K=new Uint8Array(O*(32/y.pixelBitlength)*y.colors),H=new Uint8Array(O*(32/y.pixelBitlength)),D=y.colors>1,X=0,B=0;for(var re=0;X<O;)T=R[X++],K[B++]=T>>>0&255,D&&(K[B++]=T>>>16&255,T=R[X++],K[B++]=T>>>0&255),H[re++]=T>>>16&255;x=8}g!==t.image_compression.NONE&&e()?(p=n(K,y.width*y.colors,y.colors,g),E=n(H,y.width,1,g)):(p=K,E=H,ee=void 0)}if(y.colorType===3&&(w=this.color_spaces.INDEXED,k=y.palette,y.transparency.indexed)){var de=y.transparency.indexed,Oe=0;for(X=0,O=de.length;X<O;++X)Oe+=de[X];if((Oe/=255)===O-1&&de.indexOf(0)!==-1)N=[de.indexOf(0)];else if(Oe!==O){for(R=y.decodePixels(),H=new Uint8Array(R.length),X=0,O=R.length;X<O;X++)H[X]=de[R[X]];E=n(H,y.width,1)}}var F=function(Y){var W;switch(Y){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W}(g);return ee===this.decode.FLATE_DECODE&&(G="/Predictor "+F+" "),G+="/Colors "+A+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:b,data:p,index:f,filter:ee,decodeParameters:G,transparency:N,palette:k,sMask:E,predictor:F,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:w}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new VY(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},d=new Wy(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),vs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){rn.log("bit decode error:"+n)}},vs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},vs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},vs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},vs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},vs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},vs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},vs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new vs(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new Wy(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}}(ot.API),GN.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new GN(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new Wy(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var d=r[u],h=r[u+1],p=r[u+2],f=r[u+3];s[o++]=d,s[o++]=h,s[o++]=p,a[c++]=f}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ru=ot.API,Hg=Ru.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,f=t.length,b=0,g=o[0]||c,w=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=h&&Qt(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/d:0,w.push((o[r]||g)/c+p)),b=r;return w},qN=Ru.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ru.processArabic&&(t=Ru.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Hg.apply(this,arguments).reduce(function(s,a){return s+a},0)},UN=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},HN=function(t,e,n){n||(n={});var r,i,s,a,o,c,u,d=[],h=[d],p=n.textIndent||0,f=0,b=0,g=t.split(" "),w=Hg.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),y=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?y=y.concat(A.map(function(k,E){return(E&&k.length?`
`:"")+k})):y.push(A[0])}),g=y,c=qN.apply(this,[x,n])}for(s=0,a=g.length;s<a;s++){var N=0;if(r=g[s],c&&r[0]==`
`&&(r=r.substr(1),N=1),p+f+(b=(i=Hg.apply(this,[r,n])).reduce(function(A,k){return A+k},0))>e||N){if(b>e){for(o=UN.apply(this,[r,i,e-(p+f),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);b=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(A,k){return A+k},0)}else d=[r];h.push(d),p=b+c,f=w}else d.push(r),p+=f+b,f=w}return u=c?function(A,k){return(k?x:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(u)},Ru.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(HN.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var p,f,b,g,w=["{"];for(var x in h){if(p=h[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=s(x).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),g="-"):(b=s(p).slice(2),g=""),b=g+b.slice(0,-1)+r[b.slice(-1)];else{if(Qt(p)!=="object")throw new Error("Don't know what to do with value type "+Qt(p)+".");b=a(p)}w.push(f+b)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,b,g,w={},x=1,y=w,N=[],A="",k="",E=h.length-1,R=1;R<E;R+=1)(g=h[R])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(N.push([y,b]),y={},b=void 0):g=="}"?((f=N.pop())[0][f[1]]=y,b=void 0,y=f[0]):g=="-"?x=-1:b===void 0?n.hasOwnProperty(g)?(A+=n[g],b=parseInt(A,16)*x,x=1,A=""):A+=g:n.hasOwnProperty(g)?(k+=n[g],y[b]=parseInt(k,16)*x,x=1,b=void 0,k=""):k+=g;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,f=d.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Xf(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):Yb(()=>import("./index.es-CdPmpgrL.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,a,o,c,u){if(isNaN(r)||isNaN(i))throw rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(b){return b.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),r,i,s,a,c,u)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,d=0,h=0;function p(b,g){var w,x=!1;for(w=0;w<b.length;w+=1)b[w]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Qt(t)==="object"){for(i in t)if(s=t[i],p(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,g=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?g.push("/"+b+" /"+n[b].value):g.push("/"+b+" "+n[b].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=s.length;h<p;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(o=Object.keys(s).sort(function(f,b){return f-b})).length;h<p;h++)a=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var w=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vu(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vu(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+Vu(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var b=u();d({data:p,addLength1:!0,objectId:b}),c("endobj");var g=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var w=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Vu(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Vu(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,u=s.y,d=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,b=h.fonts,g=f,w="",x=0,y="",N=b[g].encoding;if(b[g].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:h};for(y=o,g=f,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)b[g].metadata.hasOwnProperty("cmap")&&(a=b[g].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),a||y[x].charCodeAt(0)<256&&b[g].metadata.hasOwnProperty("Unicode")?w+=y[x]:w+="";var A="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?A=p(w,g).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(A=n(w,b[g])),h.isHex=!0,{text:A,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},c,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,c,u,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,N=0;this.__bidiEngine__={};var A=function(D){var T=D.charCodeAt(),X=T>>8,B=g[X];return B!==void 0?h[256*B+(255&T)]:X===252||X===253?"AL":x.test(X)?"L":X===8?"R":"N"},k=function(D){for(var T,X=0;X<D.length;X++){if((T=A(D.charAt(X)))==="L")return!1;if(T==="R")return!0}return!1},E=function(D,T,X,B){var ee,G,te,V,re=T[B];switch(re){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(re="AN");break;case"AL":y=!0,re="R";break;case"WS":re="N";break;case"CS":B<1||B+1>=T.length||(ee=X[B-1])!=="EN"&&ee!=="AN"||(G=T[B+1])!=="EN"&&G!=="AN"?re="N":y&&(G="AN"),re=G===ee?G:"N";break;case"ES":re=(ee=B>0?X[B-1]:"B")==="EN"&&B+1<T.length&&T[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&X[B-1]==="EN"){re="EN";break}if(y){re="N";break}for(te=B+1,V=T.length;te<V&&T[te]==="ET";)te++;re=te<V&&T[te]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(V=T.length,te=B+1;te<V&&T[te]==="NSM";)te++;if(te<V){var de=D[B],Oe=de>=1425&&de<=2303||de===64286;if(ee=T[te],Oe&&(ee==="R"||ee==="AL")){re="R";break}}}re=B<1||(ee=T[B-1])==="B"?"N":X[B-1];break;case"B":y=!1,i=!0,re=N;break;case"S":s=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":re="N"}return re},R=function(D,T,X){var B=D.split("");return X&&O(B,X,{hiLevel:N}),B.reverse(),T&&T.reverse(),B.join("")},O=function(D,T,X){var B,ee,G,te,V,re=-1,de=D.length,Oe=0,F=[],Y=N?f:p,W=[];for(y=!1,i=!1,s=!1,ee=0;ee<de;ee++)W[ee]=A(D[ee]);for(G=0;G<de;G++){if(V=Oe,F[G]=E(D,W,F,G),B=240&(Oe=Y[V][b[F[G]]]),Oe&=15,T[G]=te=Y[Oe][5],B>0)if(B===16){for(ee=re;ee<G;ee++)T[ee]=1;re=-1}else re=-1;if(Y[Oe][6])re===-1&&(re=G);else if(re>-1){for(ee=re;ee<G;ee++)T[ee]=te;re=-1}W[G]==="B"&&(T[G]=0),X.hiLevel|=te}s&&function(Z,se,ie){for(var ce=0;ce<ie;ce++)if(Z[ce]==="S"){se[ce]=N;for(var ve=ce-1;ve>=0&&Z[ve]==="WS";ve--)se[ve]=N}}(W,T,de)},H=function(D,T,X,B,ee){if(!(ee.hiLevel<D)){if(D===1&&N===1&&!i)return T.reverse(),void(X&&X.reverse());for(var G,te,V,re,de=T.length,Oe=0;Oe<de;){if(B[Oe]>=D){for(V=Oe+1;V<de&&B[V]>=D;)V++;for(re=Oe,te=V-1;re<te;re++,te--)G=T[re],T[re]=T[te],T[te]=G,X&&(G=X[re],X[re]=X[te],X[te]=G);Oe=V}Oe++}}},K=function(D,T,X){var B=D.split(""),ee={hiLevel:N};return X||(X=[]),O(B,X,ee),function(G,te,V){if(V.hiLevel!==0&&d)for(var re,de=0;de<G.length;de++)te[de]===1&&(re=w.indexOf(G[de]))>=0&&(G[de]=w[re+1])}(B,X,ee),H(2,B,T,X,ee),H(1,B,T,X,ee),B.join("")};return this.__bidiEngine__.doBidiReorder=function(D,T,X){if(function(ee,G){if(G)for(var te=0;te<ee.length;te++)G[te]=te;o===void 0&&(o=k(ee)),u===void 0&&(u=k(ee))}(D,T),a||!c||u)if(a&&c&&o^u)N=o?1:0,D=R(D,T,X);else if(!a&&c&&u)N=o?1:0,D=K(D,T,X),D=R(D,T);else if(!a||o||c||u){if(a&&!c&&o^u)D=R(D,T),o?(N=0,D=K(D,T,X)):(N=1,D=K(D,T,X),D=R(D,T));else if(a&&o&&!c&&u)N=1,D=K(D,T,X),D=R(D,T);else if(!a&&!c&&o^u){var B=d;o?(N=1,D=K(D,T,X),N=0,d=!1,D=K(D,T,X),d=B):(N=0,D=K(D,T,X),D=R(D,T),N=1,d=!1,D=K(D,T,X),d=B,D=R(D,T))}}else N=0,D=K(D,T,X);else N=o?1:0,D=K(D,T,X);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,c=D.isOutputVisual,o=D.isInputRtl,u=D.isOutputRtl,d=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ll(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new sX(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new GY(this.contents),this.head=new XY(this),this.name=new ZY(this),this.cmap=new qO(this),this.toUnicode={},this.hhea=new WY(this),this.maxp=new JY(this),this.hmtx=new eX(this),this.post=new KY(this),this.os2=new $Y(this),this.loca=new iX(this),this.glyf=new tX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Is,Ll=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),GY=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,c,u,d,h,p,f,b,g;for(g in f=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),a=Math.floor(h/c),d=16*f-h,(i=new Ll).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(a),i.writeShort(d),s=16*f,u=i.pos+s,o=null,b=[],n)for(p=n[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),b=b.concat(p),g==="head"&&(o=u),u+=p.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=UO.call(n);n.length%4;)n.push(0);for(s=new Ll(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),YY={}.hasOwnProperty,Sa=function(t,e){for(var n in e)YY.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Is=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var XY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ll).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),YN=function(){function t(e,n){var r,i,s,a,o,c,u,d,h,p,f,b,g,w,x,y,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var A,k;for(k=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)k.push(e.readUInt16());return k}(),e.pos+=2,g=function(){var A,k;for(k=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)k.push(e.readUInt16());return k}(),u=function(){var A,k;for(k=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)k.push(e.readUInt16());return k}(),d=function(){var A,k;for(k=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)k.push(e.readUInt16());return k}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,k;for(k=[],c=A=0;0<=i?A<i:A>i;c=0<=i?++A:--A)k.push(e.readUInt16());return k}(),c=x=0,N=s.length;x<N;c=++x)for(w=s[c],r=y=b=g[c];b<=w?y<=w:y>=w;r=b<=w?++y:--y)d[c]===0?a=r+u[c]:(a=o[d[c]/2+(r-b)-(p-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=h}return t.encode=function(e,n){var r,i,s,a,o,c,u,d,h,p,f,b,g,w,x,y,N,A,k,E,R,O,H,K,D,T,X,B,ee,G,te,V,re,de,Oe,F,Y,W,Z,se,ie,ce,ve,je,Ce,ke;switch(B=new Ll,a=Object.keys(e).sort(function(Be,he){return Be-he}),n){case"macroman":for(g=0,w=function(){var Be=[];for(b=0;b<256;++b)Be.push(0);return Be}(),y={0:0},s={},ee=0,re=a.length;ee<re;ee++)y[ve=e[i=a[ee]]]==null&&(y[ve]=++g),s[i]={old:e[i],new:y[e[i]]},w[i]=y[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(w),{charMap:s,subtable:B.data,maxGlyphID:g+1};case"unicode":for(T=[],h=[],N=0,y={},r={},x=u=null,G=0,de=a.length;G<de;G++)y[k=e[i=a[G]]]==null&&(y[k]=++N),r[i]={old:k,new:y[k]},o=y[k]-i,x!=null&&o===u||(x&&h.push(x),T.push(i),u=o),x=i;for(x&&h.push(x),h.push(65535),T.push(65535),K=2*(H=T.length),O=2*Math.pow(Math.log(H)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,R=2*H-O,c=[],E=[],f=[],b=te=0,Oe=T.length;te<Oe;b=++te){if(D=T[b],d=h[b],D===65535){c.push(0),E.push(0);break}if(D-(X=r[D].new)>=32768)for(c.push(0),E.push(2*(f.length+H-b)),i=V=D;D<=d?V<=d:V>=d;i=D<=d?++V:--V)f.push(r[i].new);else c.push(X-D),E.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*H+2*f.length),B.writeUInt16(0),B.writeUInt16(K),B.writeUInt16(O),B.writeUInt16(p),B.writeUInt16(R),ie=0,F=h.length;ie<F;ie++)i=h[ie],B.writeUInt16(i);for(B.writeUInt16(0),ce=0,Y=T.length;ce<Y;ce++)i=T[ce],B.writeUInt16(i);for(je=0,W=c.length;je<W;je++)o=c[je],B.writeUInt16(o);for(Ce=0,Z=E.length;Ce<Z;Ce++)A=E[Ce],B.writeUInt16(A);for(ke=0,se=f.length;ke<se;ke++)g=f[ke],B.writeUInt16(g);return{charMap:r,subtable:B.data,maxGlyphID:N+1}}},t}(),qO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new YN(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=YN.encode(n,r),(s=new Ll).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),WY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),$Y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),KY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)u.push(n.readUInt32());return u}).call(this)}},e}(),QY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ZY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,c,u,d,h,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},a=h=0,p=i.length;h<p;a=++h)s=i[a],n.pos=s.offset,d=n.readString(s.length),o=new QY(d,s),u[f=s.nameID]==null&&(u[f]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),JY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),eX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,p,f;for(f=[],d=0,h=(p=this.metrics).length;d<h;d++)a=p[d],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),UO=[].slice,tX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,c,u,d,h,p;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(c=new Ll(r.read(s))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=o===-1?new rX(c,d,p,u,h):new nX(c,o,d,p,u,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,c,u;for(o=[],a=[],c=0,u=r.length;c<u;c++)s=n[r[c]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),nX=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),rX=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ll(UO.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),iX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Sa(e,Is),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(s+=u)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),sX=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,c,u,d,h,p,f,b,g,w,x;for(i in r=qO.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},x=r.charMap)f[(c=x[i]).old]=c.new;for(b in p=r.maxGlyphID,a)b in f||(f[b]=p++);return d=function(y){var N,A;for(N in A={},y)A[y[N]]=N;return A}(f),h=Object.keys(d).sort(function(y,N){return y-N}),g=function(){var y,N,A;for(A=[],y=0,N=h.length;y<N;y++)o=h[y],A.push(d[o]);return A}(),s=this.font.glyf.encode(a,g,f),u=this.font.loca.encode(s.offsets,g),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const aX="Arial",oX=40,lX="#000000",cX=20,XN=[{id:"basic",name:"Basic Colors",colors:["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff"]},{id:"pastel",name:"Pastel",colors:["#FFB6C1","#FFD700","#FFDAB9","#98FB98","#ADD8E6","#DDA0DD","#AFEEEE"]}],HO=C.createContext(void 0),uX={canvas:null,activeTool:"select",activeObject:null,history:[],historyIndex:-1,showMockup:!0,currentMockup:null,zoom:1,isPanning:!1,selectedFont:aX,selectedFontSize:oX,selectedColor:lX,isDragging:!1,isSaving:!1,colorPalettes:XN,activeColorPalette:XN[0],layers:[],snapToGrid:!1,gridSize:cX,showGuides:!0,showGrid:!1},dX=({children:t})=>{const[e,n]=C.useState(uX),r=C.useRef(null),i=C.useRef(null),s=()=>{r.current&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{var P;const he=(P=r.current)==null?void 0:P.toJSON();if(!he)return;const J=JSON.stringify(he);n(ne=>{const ye=ne.historyIndex<ne.history.length-1?ne.history.slice(0,ne.historyIndex+1):ne.history;return{...ne,history:[...ye,J],historyIndex:ye.length}})},500))},a=(he,J,P)=>{r.current&&r.current.dispose();const ne=new Vb(he,{width:J,height:P,backgroundColor:"#ffffff",preserveObjectStacking:!0,selection:!0});ne.on("object:modified",()=>{s(),o()}),ne.on("object:added",()=>{s(),o()}),ne.on("object:removed",()=>{s(),o()}),ne.on("selection:created",ye=>{n(Se=>({...Se,activeObject:ne.getActiveObject()}))}),ne.on("selection:updated",ye=>{n(Se=>({...Se,activeObject:ne.getActiveObject()}))}),ne.on("selection:cleared",()=>{n(ye=>({...ye,activeObject:null}))}),r.current=ne,n(ye=>({...ye,canvas:ne,history:[JSON.stringify(ne.toJSON())],historyIndex:0})),s()},o=()=>{if(!r.current)return;const he=r.current.getObjects();n(J=>({...J,layers:he}))},c=he=>{n(J=>({...J,activeTool:he})),he!=="freeform"&&r.current&&(r.current.isDrawingMode=!1),he==="freeform"&&r.current&&(r.current.isDrawingMode=!0,r.current.freeDrawingBrush&&(r.current.freeDrawingBrush.color=e.selectedColor,r.current.freeDrawingBrush.width=5))},u=(he="Add Text")=>{if(!r.current)return;const J=new ca(he,{left:r.current.width/2,top:r.current.height/2,fontFamily:e.selectedFont,fontSize:e.selectedFontSize,fill:e.selectedColor,originX:"center",originY:"center",editable:!0});r.current.add(J),r.current.setActiveObject(J),r.current.renderAll()},d=(he,J)=>{r.current&&wi.fromURL(he,P=>{const ne=r.current.width,ye=r.current.height,Se=ne*.8,Ee=ye*.8;if(P.width>Se||P.height>Ee){const Le=Math.min(Se/P.width,Ee/P.height);P.scale(Le)}P.set({left:ne/2,top:ye/2,originX:"center",originY:"center"}),r.current.add(P),r.current.setActiveObject(P),r.current.renderAll(),J&&J()})},h=he=>{if(!r.current)return;let J;const P=r.current.width,ne=r.current.height;switch(he){case"rectangle":J=new Cs({left:P/2,top:ne/2,width:100,height:100,fill:e.selectedColor,originX:"center",originY:"center"});break;case"circle":J=new na({left:P/2,top:ne/2,radius:50,fill:e.selectedColor,originX:"center",originY:"center"});break;case"triangle":J=new dl({left:P/2,top:ne/2,width:100,height:100,fill:e.selectedColor,originX:"center",originY:"center"});break;default:return}r.current.add(J),r.current.setActiveObject(J),r.current.renderAll()},p=()=>{if(!r.current)return;const he=r.current.width,J=r.current.height,P=new Zo([he/2-50,J/2,he/2+50,J/2],{stroke:e.selectedColor,strokeWidth:5,originX:"center",originY:"center"});r.current.add(P),r.current.setActiveObject(P),r.current.renderAll()},f=()=>{if(!r.current)return;const he=r.current.getActiveObject();if(he&&he.type==="activeSelection"){const J=he.toGroup();r.current.setActiveObject(J),r.current.renderAll(),s()}},b=()=>{if(!r.current)return;const he=r.current.getActiveObject();if(he&&he.type==="group"){const J=he.getObjects();he.destroy(),r.current.remove(he),J.forEach(P=>{r.current.add(P)}),r.current.renderAll(),s()}},g=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(he.type==="activeSelection"?(he.getObjects().forEach(P=>{r.current.remove(P)}),r.current.discardActiveObject()):r.current.remove(he),r.current.renderAll(),s())},w=he=>{if(!r.current)return;const J=r.current,P={x:J.width/2,y:J.height/2};J.zoomToPoint(new _e(P.x,P.y),he),n(ne=>({...ne,zoom:he}))},x=()=>{w(Math.min(e.zoom+.1,5))},y=()=>{w(Math.max(e.zoom-.1,.1))},N=()=>{w(1)},A=()=>{!r.current||e.historyIndex<=0||n(he=>{const J=he.historyIndex-1;return r.current.loadFromJSON(he.history[J],()=>{r.current.renderAll(),o()}),{...he,historyIndex:J,activeObject:null}})},k=()=>{!r.current||e.historyIndex>=e.history.length-1||n(he=>{const J=he.historyIndex+1;return r.current.loadFromJSON(he.history[J],()=>{r.current.renderAll(),o()}),{...he,historyIndex:J,activeObject:null}})},E=he=>{n(J=>({...J,showMockup:he}))},R=he=>{n(J=>({...J,currentMockup:he}))},O=he=>{if(n(J=>({...J,selectedFont:he})),r.current){const J=r.current.getActiveObject();J&&(J.type==="text"||J.type==="i-text")&&(J.set("fontFamily",he),r.current.renderAll(),s())}},H=he=>{if(n(J=>({...J,selectedFontSize:he})),r.current){const J=r.current.getActiveObject();J&&(J.type==="text"||J.type==="i-text")&&(J.set("fontSize",he),r.current.renderAll(),s())}},K=he=>{if(n(J=>({...J,selectedColor:he})),r.current){const J=r.current.getActiveObject();J&&(J.type==="text"||J.type==="i-text"?J.set("fill",he):J.type==="path"?J.set("stroke",he):J.set("fill",he),r.current.renderAll(),s()),r.current.isDrawingMode&&r.current.freeDrawingBrush&&(r.current.freeDrawingBrush.color=he)}},D=he=>{n(J=>({...J,isPanning:he})),r.current&&(he?(r.current.defaultCursor="grab",r.current.selection=!1,r.current.getObjects().forEach(J=>{J.selectable=!1})):(r.current.defaultCursor="default",r.current.selection=!0,r.current.getObjects().forEach(J=>{J.selectable=!0})),r.current.renderAll())},T=he=>{n(J=>({...J,isDragging:he})),r.current&&e.isPanning&&(r.current.defaultCursor=he?"grabbing":"grab",r.current.renderAll())},X=()=>{if(r.current){n(he=>({...he,isSaving:!0}));try{const he=r.current.toJSON();localStorage.setItem("tshirtDesign",JSON.stringify(he)),setTimeout(()=>{n(J=>({...J,isSaving:!1}))},1e3)}catch(he){console.error("Error saving design:",he),n(J=>({...J,isSaving:!1}))}}},B=he=>{if(r.current)try{r.current.loadFromJSON(he,()=>{r.current.renderAll(),s(),o()})}catch(J){console.error("Error loading design:",J)}},ee=()=>{r.current&&(r.current.clear(),r.current.setBackgroundColor("#ffffff",()=>{r.current.renderAll(),s(),o()}))},G=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(r.current.bringForward(he),r.current.renderAll(),s(),o())},te=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(r.current.bringToFront(he),r.current.renderAll(),s(),o())},V=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(r.current.sendBackwards(he),r.current.renderAll(),s(),o())},re=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(r.current.sendToBack(he),r.current.renderAll(),s(),o())},de=he=>{if(!r.current)return;const J=r.current,P=JSON.stringify(J.toJSON());J.toBlob(ne=>{if(!ne){console.error("Error creating PNG blob");return}const ye=new ot({orientation:"portrait",unit:"px",format:[J.width,J.height]}),Se=J.toDataURL("image/png");ye.addImage(Se,"PNG",0,0,J.width,J.height);const Ee=ye.output("blob");he({pngBlob:ne,pdfBlob:Ee,designJson:P})},"png",{quality:1,multiplier:3})},Oe=he=>{if(!r.current)return;const J=r.current.getActiveObject();if(!J||J.type!=="activeSelection")return;const P=J.getBoundingRect();J.getObjects().forEach(ne=>{const ye=ne.getBoundingRect();switch(he){case"left":ne.set("left",P.left);break;case"center":ne.set("left",P.left+P.width/2-ye.width/2);break;case"right":ne.set("left",P.left+P.width-ye.width);break;case"top":ne.set("top",P.top);break;case"middle":ne.set("top",P.top+P.height/2-ye.height/2);break;case"bottom":ne.set("top",P.top+P.height-ye.height);break}ne.setCoords()}),r.current.renderAll(),s()},F=he=>{if(!r.current)return;const J=r.current.getActiveObject();if(!J||J.type!=="activeSelection")return;const P=J.getObjects();if(P.length<3)return;const ne=P.slice().sort((Xe,Je)=>{const ut=Xe.getBoundingRect(),et=Je.getBoundingRect();return he==="horizontal"?ut.left-et.left:ut.top-et.top}),ye=ne[0],Se=ne[ne.length-1],Ee=ye.getBoundingRect(),Le=Se.getBoundingRect();let Ue;he==="horizontal"?Ue=Le.left+Le.width-Ee.left:Ue=Le.top+Le.height-Ee.top;let He=0;ne.forEach(Xe=>{const Je=Xe.getBoundingRect();He+=he==="horizontal"?Je.width:Je.height});const Te=(Ue-He)/(ne.length-1);let Ie=he==="horizontal"?Ee.left:Ee.top;ne.forEach((Xe,Je)=>{if(Je===0)return;const et=ne[Je-1].getBoundingRect();if(Xe.getBoundingRect(),he==="horizontal"){const nt=Ie+et.width+Te;Xe.set("left",nt),Ie=nt}else{const nt=Ie+et.height+Te;Xe.set("top",nt),Ie=nt}Xe.setCoords()}),r.current.renderAll(),s()},Y=()=>{if(!r.current)return;const he=r.current.getActiveObject();he&&(he.set("selectable",!1),he.set("evented",!1),r.current.discardActiveObject(),r.current.renderAll(),s())},W=()=>{if(!r.current)return;r.current.getObjects().forEach(J=>{J.set("selectable",!0),J.set("evented",!0)}),r.current.renderAll(),s()},Z=()=>{n(he=>({...he,snapToGrid:!he.snapToGrid}))},se=he=>{n(J=>({...J,gridSize:he}))},ie=()=>{n(he=>({...he,showGuides:!he.showGuides}))},ce=()=>{n(he=>({...he,showGrid:!he.showGrid}))},ve=()=>{r.current&&c("eyedropper")},je=he=>{n(J=>({...J,colorPalettes:[...J.colorPalettes,he]}))},Ce=he=>{n(J=>({...J,activeColorPalette:he}))},ke=(he,J)=>{r.current&&(r.current.setWidth(he),r.current.setHeight(J),r.current.renderAll())};C.useEffect(()=>{r.current&&(e.snapToGrid?r.current.on("object:moving",function(he){he.target&&he.target.set({left:Math.round(he.target.left/e.gridSize)*e.gridSize,top:Math.round(he.target.top/e.gridSize)*e.gridSize})}):r.current.off("object:moving"))},[e.snapToGrid,e.gridSize]),C.useEffect(()=>{const he=localStorage.getItem("tshirtDesign");if(he&&r.current)try{r.current.loadFromJSON(he,()=>{r.current.renderAll(),s(),o()})}catch(J){console.error("Error loading saved design:",J)}},[]);const Be={state:e,initCanvas:a,setActiveTool:c,addText:u,addImage:d,addShape:h,addLine:p,groupSelectedObjects:f,ungroupSelectedObjects:b,deleteSelected:g,setZoom:w,zoomIn:x,zoomOut:y,resetZoom:N,undo:A,redo:k,setShowMockup:E,setCurrentMockup:R,setSelectedFont:O,setSelectedFontSize:H,setSelectedColor:K,togglePanning:D,setIsDragging:T,saveDesign:X,loadDesign:B,clearCanvas:ee,bringForward:G,bringToFront:te,sendBackward:V,sendToBack:re,exportDesign:de,alignObjects:Oe,distributeObjects:F,lockSelectedObject:Y,unlockSelectedObject:W,toggleSnapToGrid:Z,setGridSize:se,toggleShowGuides:ie,toggleShowGrid:ce,pickColor:ve,addColorPalette:je,setActiveColorPalette:Ce,updateCanvasSize:ke};return l.jsx(HO.Provider,{value:Be,children:t})},nh=()=>{const t=C.useContext(HO);if(t===void 0)throw new Error("useTShirtDesigner must be used within a TShirtDesignerProvider");return t},hX=({onExport:t})=>{const{state:e,setActiveTool:n,addText:r,addShape:i,addLine:s,zoomIn:a,zoomOut:o,resetZoom:c,undo:u,redo:d,saveDesign:h,clearCanvas:p,groupSelectedObjects:f,ungroupSelectedObjects:b,deleteSelected:g,toggleSnapToGrid:w,toggleShowGrid:x,pickColor:y,lockSelectedObject:N,unlockSelectedObject:A,setShowMockup:k}=nh(),E=({icon:R,onClick:O,active:H=!1,disabled:K=!1,tooltip:D})=>l.jsx("button",{onClick:O,disabled:K,className:_t("flex items-center justify-center w-10 h-10 rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50",H?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-700 text-gray-200 hover:bg-gray-600",K&&"opacity-50 cursor-not-allowed hover:bg-gray-700"),title:D,children:R});return l.jsxs("div",{className:"flex flex-col h-full p-2 gap-2",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx(E,{icon:l.jsx(Y9,{size:20}),onClick:()=>{nh().togglePanning(!e.isPanning)},active:e.isPanning,tooltip:"Pan Canvas"})}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(E,{icon:l.jsx(iF,{size:20}),onClick:u,disabled:e.historyIndex<=0,tooltip:"Undo"}),l.jsx(E,{icon:l.jsx(Z9,{size:20}),onClick:d,disabled:e.historyIndex>=e.history.length-1,tooltip:"Redo"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(E,{icon:l.jsx(Dw,{size:20}),onClick:()=>{n("text"),r()},active:e.activeTool==="text",tooltip:"Add Text"}),l.jsx(E,{icon:l.jsx(Jv,{size:20}),onClick:()=>n("image"),active:e.activeTool==="image",tooltip:"Add Image"}),l.jsx(E,{icon:l.jsx(pb,{size:20}),onClick:()=>{n("rectangle"),i("rectangle")},active:e.activeTool==="rectangle",tooltip:"Add Rectangle"}),l.jsx(E,{icon:l.jsx(yT,{size:20}),onClick:()=>{n("circle"),i("circle")},active:e.activeTool==="circle",tooltip:"Add Circle"}),l.jsx(E,{icon:l.jsx(CT,{size:20}),onClick:()=>{n("triangle"),i("triangle")},active:e.activeTool==="triangle",tooltip:"Add Triangle"}),l.jsx(E,{icon:l.jsx(ex,{size:20}),onClick:()=>{n("line"),s()},active:e.activeTool==="line",tooltip:"Add Line"}),l.jsx(E,{icon:l.jsx($9,{size:20}),onClick:()=>n("freeform"),active:e.activeTool==="freeform",tooltip:"Freeform Drawing"}),l.jsx(E,{icon:l.jsx(K9,{size:20}),onClick:y,active:e.activeTool==="eyedropper",tooltip:"Color Picker"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(E,{icon:l.jsx(F9,{size:20}),onClick:f,disabled:!e.activeObject||e.activeObject.type!=="activeSelection",tooltip:"Group Objects"}),l.jsx(E,{icon:l.jsx(sF,{size:20}),onClick:b,disabled:!e.activeObject||e.activeObject.type!=="group",tooltip:"Ungroup Objects"}),l.jsx(E,{icon:l.jsx(Zd,{size:20}),onClick:N,disabled:!e.activeObject,tooltip:"Lock Object"}),l.jsx(E,{icon:l.jsx(jT,{size:20}),onClick:A,tooltip:"Unlock All Objects"}),l.jsx(E,{icon:l.jsx(rx,{size:20}),onClick:g,disabled:!e.activeObject,tooltip:"Delete Selected"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(E,{icon:l.jsx(dF,{size:20}),onClick:a,disabled:e.zoom>=5,tooltip:"Zoom In"}),l.jsx(E,{icon:l.jsx(hF,{size:20}),onClick:o,disabled:e.zoom<=.1,tooltip:"Zoom Out"}),l.jsx(E,{icon:l.jsx(nx,{size:20}),onClick:c,tooltip:"Reset Zoom"}),l.jsx(E,{icon:l.jsx(wT,{size:20}),onClick:()=>{x(),e.showGrid||w()},active:e.showGrid,tooltip:"Toggle Grid"}),l.jsx(E,{icon:e.showMockup?l.jsx(Pc,{size:20}):l.jsx(Qd,{size:20}),onClick:()=>k(!e.showMockup),active:e.showMockup,tooltip:e.showMockup?"Hide Mockup":"Show Mockup"})]}),l.jsx("div",{className:"border-t border-gray-600 my-1"}),l.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[l.jsx(E,{icon:l.jsx(Ow,{size:20}),onClick:h,tooltip:"Save Design"}),l.jsx(E,{icon:l.jsx(bT,{size:20}),onClick:t,tooltip:"Export Design"})]})]})},fX=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function rh(t,e,n){const r=pX(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&WN(r,"path",s),WN(r,"relativePath",s),r}function pX(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=fX.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function WN(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const mX=[".DS_Store","Thumbs.db"];function gX(t){return $c(this,void 0,void 0,function*(){return Nv(t)&&vX(t.dataTransfer)?wX(t.dataTransfer,t.type):xX(t)?yX(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?bX(t):[]})}function vX(t){return Nv(t)}function xX(t){return Nv(t)&&Nv(t.target)}function Nv(t){return typeof t=="object"&&t!==null}function yX(t){return i5(t.target.files).map(e=>rh(e))}function bX(t){return $c(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>rh(n))})}function wX(t,e){return $c(this,void 0,void 0,function*(){if(t.items){const n=i5(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(SX));return $N(VO(r))}return $N(i5(t.files).map(n=>rh(n)))})}function $N(t){return t.filter(e=>mX.indexOf(e.name)===-1)}function i5(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function SX(t){if(typeof t.webkitGetAsEntry!="function")return KN(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?GO(e):KN(t,e)}function VO(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?VO(n):[n]],[])}function KN(t,e){return $c(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,rh(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return rh(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function jX(t){return $c(this,void 0,void 0,function*(){return t.isDirectory?GO(t):NX(t)})}function GO(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(a=>$c(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(jX));i.push(o),s()}else try{const o=yield Promise.all(i);n(o)}catch(o){r(o)}}),a=>{r(a)})}s()})}function NX(t){return $c(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=rh(r,t.fullPath);e(i)},r=>{n(r)})})})}var $y=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):i===o})}return!0};function QN(t){return AX(t)||_X(t)||XO(t)||CX()}function CX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AX(t){if(Array.isArray(t))return s5(t)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){YO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Np(t,e){return EX(t)||kX(t,e)||XO(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(t,e){if(t){if(typeof t=="string")return s5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s5(t,e)}}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function EX(t){if(Array.isArray(t))return t}var OX=typeof $y=="function"?$y:$y.default,LX="file-invalid-type",MX="file-too-large",DX="file-too-small",PX="too-many-files",RX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:LX,message:"File type must be ".concat(r)}},eC=function(e){return{code:MX,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},tC=function(e){return{code:DX,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},FX={code:PX,message:"Too many files"};function WO(t,e){var n=t.type==="application/x-moz-file"||OX(t,e);return[n,n?null:RX(e)]}function $O(t,e,n){if(lc(t.size))if(lc(e)&&lc(n)){if(t.size>n)return[!1,eC(n)];if(t.size<e)return[!1,tC(e)]}else{if(lc(e)&&t.size<e)return[!1,tC(e)];if(lc(n)&&t.size>n)return[!1,eC(n)]}return[!0,null]}function lc(t){return t!=null}function IX(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,a=t.maxFiles,o=t.validator;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(c){var u=WO(c,n),d=Np(u,1),h=d[0],p=$O(c,r,i),f=Np(p,1),b=f[0],g=o?o(c):null;return h&&b&&!g})}function Cv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Vg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function nC(t){t.preventDefault()}function zX(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function BX(t){return t.indexOf("Edge/")!==-1}function qX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zX(t)||BX(t)}function Ks(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return e.some(function(o){return!Cv(r)&&o&&o.apply(void 0,[r].concat(s)),Cv(r)})}}function UX(){return"showOpenFilePicker"in window}function HX(t){if(lc(t)){var e=Object.entries(t).filter(function(n){var r=Np(n,2),i=r[0],s=r[1],a=!0;return KO(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(QO))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var i=Np(r,2),s=i[0],a=i[1];return JN(JN({},n),{},YO({},s,a))},{});return[{description:"Files",accept:e}]}return t}function VX(t){if(lc(t))return Object.entries(t).reduce(function(e,n){var r=Np(n,2),i=r[0],s=r[1];return[].concat(QN(e),[i],QN(s))},[]).filter(function(e){return KO(e)||QO(e)}).join(",")}function GX(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function YX(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function KO(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function QO(t){return/^.*\.[\w]+$/.test(t)}var XX=["children"],WX=["open"],$X=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],KX=["refKey","onChange","onClick"];function QX(t){return eW(t)||JX(t)||ZO(t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eW(t){if(Array.isArray(t))return a5(t)}function Ky(t,e){return rW(t)||nW(t,e)||ZO(t,e)||tW()}function tW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZO(t,e){if(t){if(typeof t=="string")return a5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a5(t,e)}}function a5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function rW(t){if(Array.isArray(t))return t}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){o5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _v(t,e){if(t==null)return{};var n=iW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MS=C.forwardRef(function(t,e){var n=t.children,r=_v(t,XX),i=e7(r),s=i.open,a=_v(i,WX);return C.useImperativeHandle(e,function(){return{open:s}},[s]),ht.createElement(C.Fragment,null,n(wn(wn({},a),{},{open:s})))});MS.displayName="Dropzone";var JO={disabled:!1,getFilesFromEvent:gX,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};MS.defaultProps=JO;MS.propTypes={children:it.func,accept:it.objectOf(it.arrayOf(it.string)),multiple:it.bool,preventDropOnDocument:it.bool,noClick:it.bool,noKeyboard:it.bool,noDrag:it.bool,noDragEventsBubbling:it.bool,minSize:it.number,maxSize:it.number,maxFiles:it.number,disabled:it.bool,getFilesFromEvent:it.func,onFileDialogCancel:it.func,onFileDialogOpen:it.func,useFsAccessApi:it.bool,autoFocus:it.bool,onDragEnter:it.func,onDragLeave:it.func,onDragOver:it.func,onDrop:it.func,onDropAccepted:it.func,onDropRejected:it.func,onError:it.func,validator:it.func};var l5={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function e7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=wn(wn({},JO),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,o=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,f=e.onDropAccepted,b=e.onDropRejected,g=e.onFileDialogCancel,w=e.onFileDialogOpen,x=e.useFsAccessApi,y=e.autoFocus,N=e.preventDropOnDocument,A=e.noClick,k=e.noKeyboard,E=e.noDrag,R=e.noDragEventsBubbling,O=e.onError,H=e.validator,K=C.useMemo(function(){return VX(n)},[n]),D=C.useMemo(function(){return HX(n)},[n]),T=C.useMemo(function(){return typeof w=="function"?w:iC},[w]),X=C.useMemo(function(){return typeof g=="function"?g:iC},[g]),B=C.useRef(null),ee=C.useRef(null),G=C.useReducer(sW,l5),te=Ky(G,2),V=te[0],re=te[1],de=V.isFocused,Oe=V.isFileDialogActive,F=C.useRef(typeof window<"u"&&window.isSecureContext&&x&&UX()),Y=function(){!F.current&&Oe&&setTimeout(function(){if(ee.current){var Ie=ee.current.files;Ie.length||(re({type:"closeDialog"}),X())}},300)};C.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[ee,Oe,X,F]);var W=C.useRef([]),Z=function(Ie){B.current&&B.current.contains(Ie.target)||(Ie.preventDefault(),W.current=[])};C.useEffect(function(){return N&&(document.addEventListener("dragover",nC,!1),document.addEventListener("drop",Z,!1)),function(){N&&(document.removeEventListener("dragover",nC),document.removeEventListener("drop",Z))}},[B,N]),C.useEffect(function(){return!r&&y&&B.current&&B.current.focus(),function(){}},[B,y,r]);var se=C.useCallback(function(Te){O?O(Te):console.error(Te)},[O]),ie=C.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ee(Te),W.current=[].concat(QX(W.current),[Te.target]),Vg(Te)&&Promise.resolve(i(Te)).then(function(Ie){if(!(Cv(Te)&&!R)){var Xe=Ie.length,Je=Xe>0&&IX({files:Ie,accept:K,minSize:a,maxSize:s,multiple:o,maxFiles:c,validator:H}),ut=Xe>0&&!Je;re({isDragAccept:Je,isDragReject:ut,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Te)}}).catch(function(Ie){return se(Ie)})},[i,u,se,R,K,a,s,o,c,H]),ce=C.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ee(Te);var Ie=Vg(Te);if(Ie&&Te.dataTransfer)try{Te.dataTransfer.dropEffect="copy"}catch{}return Ie&&h&&h(Te),!1},[h,R]),ve=C.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ee(Te);var Ie=W.current.filter(function(Je){return B.current&&B.current.contains(Je)}),Xe=Ie.indexOf(Te.target);Xe!==-1&&Ie.splice(Xe,1),W.current=Ie,!(Ie.length>0)&&(re({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Vg(Te)&&d&&d(Te))},[B,d,R]),je=C.useCallback(function(Te,Ie){var Xe=[],Je=[];Te.forEach(function(ut){var et=WO(ut,K),nt=Ky(et,2),Ge=nt[0],Et=nt[1],Ct=$O(ut,a,s),yr=Ky(Ct,2),zt=yr[0],Zt=yr[1],Gr=H?H(ut):null;if(Ge&&zt&&!Gr)Xe.push(ut);else{var Dt=[Et,Zt];Gr&&(Dt=Dt.concat(Gr)),Je.push({file:ut,errors:Dt.filter(function(ja){return ja})})}}),(!o&&Xe.length>1||o&&c>=1&&Xe.length>c)&&(Xe.forEach(function(ut){Je.push({file:ut,errors:[FX]})}),Xe.splice(0)),re({acceptedFiles:Xe,fileRejections:Je,isDragReject:Je.length>0,type:"setFiles"}),p&&p(Xe,Je,Ie),Je.length>0&&b&&b(Je,Ie),Xe.length>0&&f&&f(Xe,Ie)},[re,o,K,a,s,c,p,f,b,H]),Ce=C.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ee(Te),W.current=[],Vg(Te)&&Promise.resolve(i(Te)).then(function(Ie){Cv(Te)&&!R||je(Ie,Te)}).catch(function(Ie){return se(Ie)}),re({type:"reset"})},[i,je,se,R]),ke=C.useCallback(function(){if(F.current){re({type:"openDialog"}),T();var Te={multiple:o,types:D};window.showOpenFilePicker(Te).then(function(Ie){return i(Ie)}).then(function(Ie){je(Ie,null),re({type:"closeDialog"})}).catch(function(Ie){GX(Ie)?(X(Ie),re({type:"closeDialog"})):YX(Ie)?(F.current=!1,ee.current?(ee.current.value=null,ee.current.click()):se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):se(Ie)});return}ee.current&&(re({type:"openDialog"}),T(),ee.current.value=null,ee.current.click())},[re,T,X,x,je,se,D,o]),Be=C.useCallback(function(Te){!B.current||!B.current.isEqualNode(Te.target)||(Te.key===" "||Te.key==="Enter"||Te.keyCode===32||Te.keyCode===13)&&(Te.preventDefault(),ke())},[B,ke]),he=C.useCallback(function(){re({type:"focus"})},[]),J=C.useCallback(function(){re({type:"blur"})},[]),P=C.useCallback(function(){A||(qX()?setTimeout(ke,0):ke())},[A,ke]),ne=function(Ie){return r?null:Ie},ye=function(Ie){return k?null:ne(Ie)},Se=function(Ie){return E?null:ne(Ie)},Ee=function(Ie){R&&Ie.stopPropagation()},Le=C.useMemo(function(){return function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=Te.refKey,Xe=Ie===void 0?"ref":Ie,Je=Te.role,ut=Te.onKeyDown,et=Te.onFocus,nt=Te.onBlur,Ge=Te.onClick,Et=Te.onDragEnter,Ct=Te.onDragOver,yr=Te.onDragLeave,zt=Te.onDrop,Zt=_v(Te,$X);return wn(wn(o5({onKeyDown:ye(Ks(ut,Be)),onFocus:ye(Ks(et,he)),onBlur:ye(Ks(nt,J)),onClick:ne(Ks(Ge,P)),onDragEnter:Se(Ks(Et,ie)),onDragOver:Se(Ks(Ct,ce)),onDragLeave:Se(Ks(yr,ve)),onDrop:Se(Ks(zt,Ce)),role:typeof Je=="string"&&Je!==""?Je:"presentation"},Xe,B),!r&&!k?{tabIndex:0}:{}),Zt)}},[B,Be,he,J,P,ie,ce,ve,Ce,k,E,r]),Ue=C.useCallback(function(Te){Te.stopPropagation()},[]),He=C.useMemo(function(){return function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=Te.refKey,Xe=Ie===void 0?"ref":Ie,Je=Te.onChange,ut=Te.onClick,et=_v(Te,KX),nt=o5({accept:K,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ne(Ks(Je,Ce)),onClick:ne(Ks(ut,Ue)),tabIndex:-1},Xe,ee);return wn(wn({},nt),et)}},[ee,n,o,Ce,r]);return wn(wn({},V),{},{isFocused:de&&!r,getRootProps:Le,getInputProps:He,rootRef:B,inputRef:ee,open:ne(ke)})}function sW(t,e){switch(e.type){case"focus":return wn(wn({},t),{},{isFocused:!0});case"blur":return wn(wn({},t),{},{isFocused:!1});case"openDialog":return wn(wn({},l5),{},{isFileDialogActive:!0});case"closeDialog":return wn(wn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return wn(wn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return wn(wn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return wn({},l5);default:return t}}function iC(){}function Mx(){return(Mx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function t7(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function c5(t){var e=C.useRef(t),n=C.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Cp=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Wf=function(t){return"touches"in t},u5=function(t){return t&&t.ownerDocument.defaultView||self},sC=function(t,e,n){var r=t.getBoundingClientRect(),i=Wf(e)?function(s,a){for(var o=0;o<s.length;o++)if(s[o].identifier===a)return s[o];return s[0]}(e.touches,n):e;return{left:Cp((i.pageX-(r.left+u5(t).pageXOffset))/r.width),top:Cp((i.pageY-(r.top+u5(t).pageYOffset))/r.height)}},aC=function(t){!Wf(t)&&t.preventDefault()},n7=ht.memo(function(t){var e=t.onMove,n=t.onKey,r=t7(t,["onMove","onKey"]),i=C.useRef(null),s=c5(e),a=c5(n),o=C.useRef(null),c=C.useRef(!1),u=C.useMemo(function(){var f=function(w){aC(w),(Wf(w)?w.touches.length>0:w.buttons>0)&&i.current?s(sC(i.current,w,o.current)):g(!1)},b=function(){return g(!1)};function g(w){var x=c.current,y=u5(i.current),N=w?y.addEventListener:y.removeEventListener;N(x?"touchmove":"mousemove",f),N(x?"touchend":"mouseup",b)}return[function(w){var x=w.nativeEvent,y=i.current;if(y&&(aC(x),!function(A,k){return k&&!Wf(A)}(x,c.current)&&y)){if(Wf(x)){c.current=!0;var N=x.changedTouches||[];N.length&&(o.current=N[0].identifier)}y.focus(),s(sC(y,x,o.current)),g(!0)}},function(w){var x=w.which||w.keyCode;x<37||x>40||(w.preventDefault(),a({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[a,s]),d=u[0],h=u[1],p=u[2];return C.useEffect(function(){return p},[p]),ht.createElement("div",Mx({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),DS=function(t){return t.filter(Boolean).join(" ")},r7=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=DS(["react-colorful__pointer",t.className]);return ht.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},ht.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},vr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},aW=function(t){return dW(d5(t))},d5=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?vr(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?vr(parseInt(t.substring(6,8),16)/255,2):1}},oW=function(t){return uW(cW(t))},lW=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:vr(t.h),s:vr(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:vr(i/2),a:vr(r,2)}},h5=function(t){var e=lW(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},cW=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),a=r*(1-n),o=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),u=s%6;return{r:vr(255*[r,o,a,a,c,r][u]),g:vr(255*[c,r,r,o,a,a][u]),b:vr(255*[a,a,c,r,r,o][u]),a:vr(i,2)}},Gg=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},uW=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i<1?Gg(vr(255*i)):"";return"#"+Gg(e)+Gg(n)+Gg(r)+s},dW=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),a=s-Math.min(e,n,r),o=a?s===e?(n-r)/a:s===n?2+(r-e)/a:4+(e-n)/a:0;return{h:vr(60*(o<0?o+6:o)),s:vr(s?a/s*100:0),v:vr(s/255*100),a:i}},hW=ht.memo(function(t){var e=t.hue,n=t.onChange,r=DS(["react-colorful__hue",t.className]);return ht.createElement("div",{className:r},ht.createElement(n7,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Cp(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":vr(e),"aria-valuemax":"360","aria-valuemin":"0"},ht.createElement(r7,{className:"react-colorful__hue-pointer",left:e/360,color:h5({h:e,s:100,v:100,a:1})})))}),fW=ht.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:h5({h:e.h,s:100,v:100,a:1})};return ht.createElement("div",{className:"react-colorful__saturation",style:r},ht.createElement(n7,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Cp(e.s+100*i.left,0,100),v:Cp(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+vr(e.s)+"%, Brightness "+vr(e.v)+"%"},ht.createElement(r7,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:h5(e)})))}),i7=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},pW=function(t,e){return t.toLowerCase()===e.toLowerCase()||i7(d5(t),d5(e))};function mW(t,e,n){var r=c5(n),i=C.useState(function(){return t.toHsva(e)}),s=i[0],a=i[1],o=C.useRef({color:e,hsva:s});C.useEffect(function(){if(!t.equal(e,o.current.color)){var u=t.toHsva(e);o.current={hsva:u,color:e},a(u)}},[e,t]),C.useEffect(function(){var u;i7(s,o.current.hsva)||t.equal(u=t.fromHsva(s),o.current.color)||(o.current={hsva:s,color:u},r(u))},[s,t,r]);var c=C.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[s,c]}var gW=typeof window<"u"?C.useLayoutEffect:C.useEffect,vW=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},oC=new Map,xW=function(t){gW(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!oC.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,oC.set(e,n);var r=vW();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},yW=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,a=t7(t,["className","colorModel","color","onChange"]),o=C.useRef(null);xW(o);var c=mW(n,i,s),u=c[0],d=c[1],h=DS(["react-colorful",e]);return ht.createElement("div",Mx({},a,{ref:o,className:h}),ht.createElement(fW,{hsva:u,onChange:d}),ht.createElement(hW,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},bW={defaultColor:"000",toHsva:aW,fromHsva:function(t){return oW({h:t.h,s:t.s,v:t.v,a:1})},equal:pW},s7=function(t){return ht.createElement(yW,Mx({},t,{colorModel:bW}))};const wW=()=>{const{state:t,addImage:e,setSelectedColor:n,setSelectedFont:r,setSelectedFontSize:i}=nh(),[s,a]=C.useState("images"),[o,c]=C.useState("#ff0000"),u=C.useCallback(g=>{g.forEach(w=>{const x=new FileReader;x.onload=()=>{const y=x.result;e(y)},x.readAsDataURL(w)})},[e]),{getRootProps:d,getInputProps:h,isDragActive:p}=e7({onDrop:u,accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"]}}),f=["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"],b=[8,9,10,11,12,14,16,18,20,22,24,28,32,36,40,48,56,64,72,96];return l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-gray-300",children:[l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${s==="images"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>a("images"),children:"Images"}),l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${s==="colors"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>a("colors"),children:"Colors"}),l.jsx("button",{className:`flex-1 py-2 text-sm font-medium ${s==="fonts"?"bg-gray-200 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>a("fonts"),children:"Fonts"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s==="images"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{...d(),className:`border-2 border-dashed p-4 rounded-lg text-center cursor-pointer transition-colors ${p?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("input",{...h()}),l.jsx(aF,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p?"Drop the image here":"Drag & drop an image, or click to select"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, SVG up to 5MB"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sample Images"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:["https://via.placeholder.com/150","https://via.placeholder.com/150/0000FF","https://via.placeholder.com/150/FF0000","https://via.placeholder.com/150/FFFF00"].map((g,w)=>l.jsx("div",{className:"border rounded-md p-1 cursor-pointer hover:border-blue-500",onClick:()=>e(g),children:l.jsx("img",{src:g,alt:`Sample ${w+1}`,className:"w-full h-auto rounded"})},w))})]})]}),s==="colors"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Color"}),l.jsx(s7,{color:o,onChange:g=>{c(g),n(g)},className:"w-full"}),l.jsxs("div",{className:"mt-2 flex items-center",children:[l.jsx("div",{className:"w-8 h-8 mr-2 rounded-md border border-gray-300",style:{backgroundColor:o}}),l.jsx("input",{type:"text",value:o,onChange:g=>{c(g.target.value),n(g.target.value)},className:"flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),t.colorPalettes.map(g=>l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:g.name}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:g.colors.map((w,x)=>l.jsx("div",{className:"w-full aspect-square rounded-md border border-gray-300 cursor-pointer hover:scale-105 transition-transform",style:{backgroundColor:w},onClick:()=>n(w),title:w},x))})]},g.id))]}),s==="fonts"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),l.jsx("select",{value:t.selectedFont,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1.5",children:f.map(g=>l.jsx("option",{value:g,style:{fontFamily:g},children:g},g))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),l.jsx("select",{value:t.selectedFontSize,onChange:g=>i(parseInt(g.target.value)),className:"w-full border border-gray-300 rounded-md px-2 py-1.5",children:b.map(g=>l.jsxs("option",{value:g,children:[g,"px"]},g))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview"}),l.jsx("div",{className:"w-full p-4 border border-gray-300 rounded-md",style:{fontFamily:t.selectedFont,fontSize:`${Math.min(t.selectedFontSize,36)}px`,color:t.selectedColor},children:"Sample Text"})]})]})]})]})},SW=()=>{const{state:t,bringForward:e,bringToFront:n,sendBackward:r,sendToBack:i,deleteSelected:s,lockSelectedObject:a,unlockSelectedObject:o}=nh(),c=p=>p?p.type==="i-text"||p.type==="text"?"text":p.type==="image"?"image":p.type==="rect"?"rectangle":p.type==="circle"?"circle":p.type==="triangle"?"triangle":p.type==="line"?"line":p.type==="path"?"drawing":p.type==="group"?"group":p.type:"",u=p=>{switch(c(p)){case"text":return l.jsx(Dw,{size:16});case"rectangle":return l.jsx(pb,{size:16});case"circle":return l.jsx(yT,{size:16});case"triangle":return l.jsx(CT,{size:16});case"image":return l.jsx(Jv,{size:16});case"line":return l.jsx(ex,{size:16});default:return l.jsx(pb,{size:16})}},d=p=>{if(!p)return"";const f=c(p);if(f==="text"){const b=p.text||"Text";return b.length>15?`${b.substring(0,15)}...`:b}return f.charAt(0).toUpperCase()+f.slice(1)},h=p=>p?p.selectable===!1||p.evented===!1:!1;return l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsx("h2",{className:"text-sm font-medium text-gray-700",children:"Layers"})}),l.jsxs("div",{className:"p-2 border-b border-gray-300 flex flex-wrap gap-1",children:[l.jsx("button",{onClick:n,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Bring to Front",children:l.jsx(L9,{size:16})}),l.jsx("button",{onClick:e,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Bring Forward",children:l.jsx(A9,{size:16})}),l.jsx("button",{onClick:r,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Send Backward",children:l.jsx(C9,{size:16})}),l.jsx("button",{onClick:i,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Send to Back",children:l.jsx(O9,{size:16})}),l.jsx("div",{className:"border-r border-gray-300 h-6 mx-1"}),l.jsx("button",{onClick:a,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-gray-700 hover:bg-gray-200":"text-gray-400 cursor-not-allowed"}`,title:"Lock",children:l.jsx(Zd,{size:16})}),l.jsx("button",{onClick:o,className:"p-1 rounded text-gray-700 hover:bg-gray-200",title:"Unlock All",children:l.jsx(jT,{size:16})}),l.jsx("div",{className:"border-r border-gray-300 h-6 mx-1"}),l.jsx("button",{onClick:s,disabled:!t.activeObject,className:`p-1 rounded ${t.activeObject?"text-red-600 hover:bg-red-100":"text-gray-400 cursor-not-allowed"}`,title:"Delete",children:l.jsx(rx,{size:16})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:t.layers.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No layers yet. Add elements to your design."}):l.jsx("ul",{className:"divide-y divide-gray-200",children:t.layers.slice().reverse().map((p,f)=>{const b=t.activeObject===p,g=h(p);return l.jsxs("li",{className:`p-2 flex items-center hover:bg-gray-100 ${b?"bg-blue-50":""}`,onClick:()=>{t.canvas&&!g&&(t.canvas.setActiveObject(p),t.canvas.renderAll())},children:[l.jsx("div",{className:"mr-2 text-gray-500",children:u(p)}),l.jsx("div",{className:"flex-1 overflow-hidden text-sm",children:d(p)}),l.jsx("div",{className:"flex items-center space-x-1",children:g?l.jsx(Zd,{size:16,className:"text-gray-500"}):null})]},f)})})})]})},jW=()=>{const{state:t,setSelectedColor:e,setSelectedFont:n,setSelectedFontSize:r}=nh(),[i,s]=C.useState(!1),o=(()=>{if(!t.activeObject)return null;const h=t.activeObject,p=h.type==="text"||h.type==="i-text";return{type:h.type,fill:h.fill||"#000000",width:Math.round(h.width||0),height:Math.round(h.height||0),left:Math.round(h.left||0),top:Math.round(h.top||0),angle:Math.round(h.angle||0),text:p?h.text:"",fontFamily:p?h.fontFamily:"",fontSize:p?h.fontSize:0,isBold:p?h.fontWeight==="bold":!1,isItalic:p?h.fontStyle==="italic":!1,isUnderline:p?h.underline:!1,textAlign:p?h.textAlign:"left"}})(),c=(o==null?void 0:o.type)==="text"||(o==null?void 0:o.type)==="i-text",u=(h,p)=>{if(!t.canvas||!t.activeObject)return;const f=t.activeObject;switch(h){case"fill":f.set("fill",p),e(p);break;case"width":f.type!=="text"&&f.type!=="i-text"&&(f.set("width",parseFloat(p)),f.set("scaleX",1));break;case"height":f.type!=="text"&&f.type!=="i-text"&&(f.set("height",parseFloat(p)),f.set("scaleY",1));break;case"left":f.set("left",parseFloat(p));break;case"top":f.set("top",parseFloat(p));break;case"angle":f.set("angle",parseFloat(p));break;case"fontFamily":c&&(f.set("fontFamily",p),n(p));break;case"fontSize":c&&(f.set("fontSize",parseFloat(p)),r(parseFloat(p)));break;case"fontWeight":c&&f.set("fontWeight",p?"bold":"normal");break;case"fontStyle":c&&f.set("fontStyle",p?"italic":"normal");break;case"underline":c&&f.set("underline",p);break;case"textAlign":c&&f.set("textAlign",p);break}t.canvas.renderAll()},d=h=>h==="i-text"?"Text":h.charAt(0).toUpperCase()+h.slice(1);return o?l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsxs("h2",{className:"text-sm font-medium text-gray-700",children:[d(o.type)," Properties"]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Fill Color"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-md border border-gray-300 cursor-pointer",style:{backgroundColor:o.fill},onClick:()=>s(!i)}),l.jsx("input",{type:"text",value:o.fill,onChange:h=>u("fill",h.target.value),className:"ml-2 flex-1 border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),i&&l.jsx("div",{className:"mt-2",children:l.jsx(s7,{color:o.fill,onChange:h=>u("fill",h),className:"w-full"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"X Position"}),l.jsx("input",{type:"number",value:o.left,onChange:h=>u("left",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Y Position"}),l.jsx("input",{type:"number",value:o.top,onChange:h=>u("top",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),o.type!=="text"&&o.type!=="i-text"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Width"}),l.jsx("input",{type:"number",value:o.width,onChange:h=>u("width",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Height"}),l.jsx("input",{type:"number",value:o.height,onChange:h=>u("height",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Rotation"}),l.jsx("input",{type:"number",value:o.angle,onChange:h=>u("angle",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]})]}),c&&l.jsxs("div",{className:"space-y-4 pt-2 border-t border-gray-200",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Text Content"}),l.jsx("textarea",{value:o.text,onChange:h=>{t.canvas&&t.activeObject&&(t.activeObject.text=h.target.value,t.canvas.renderAll())},className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm",rows:2})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Font Family"}),l.jsx("select",{value:o.fontFamily,onChange:h=>u("fontFamily",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm",children:["Arial","Verdana","Helvetica","Times New Roman","Courier New"].map(h=>l.jsx("option",{value:h,children:h},h))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Font Size"}),l.jsx("input",{type:"number",value:o.fontSize,onChange:h=>u("fontSize",h.target.value),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm"})]}),l.jsxs("div",{className:"flex border border-gray-300 rounded-md divide-x divide-gray-300",children:[l.jsx("button",{className:`flex-1 py-1 ${o.isBold?"bg-gray-200":"bg-white"}`,onClick:()=>u("fontWeight",!o.isBold),title:"Bold",children:l.jsx(T9,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.isItalic?"bg-gray-200":"bg-white"}`,onClick:()=>u("fontStyle",!o.isItalic),title:"Italic",children:l.jsx(B9,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.isUnderline?"bg-gray-200":"bg-white"}`,onClick:()=>u("underline",!o.isUnderline),title:"Underline",children:l.jsx(rF,{size:16,className:"mx-auto"})})]}),l.jsxs("div",{className:"flex border border-gray-300 rounded-md divide-x divide-gray-300",children:[l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="left"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","left"),title:"Align Left",children:l.jsx(j9,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="center"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","center"),title:"Align Center",children:l.jsx(w9,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="right"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","right"),title:"Align Right",children:l.jsx(N9,{size:16,className:"mx-auto"})}),l.jsx("button",{className:`flex-1 py-1 ${o.textAlign==="justify"?"bg-gray-200":"bg-white"}`,onClick:()=>u("textAlign","justify"),title:"Justify",children:l.jsx(S9,{size:16,className:"mx-auto"})})]})]})]})})]}):l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b border-gray-300 bg-gray-100",children:l.jsx("h2",{className:"text-sm font-medium text-gray-700",children:"Properties"})}),l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-sm p-4 text-center",children:"Select an object to view and edit its properties."})]})},NW=({width:t,height:e,gridSize:n,zoom:r})=>{const i=C.useRef(null);return C.useEffect(()=>{if(!i.current)return;const s=i.current,a=s.getContext("2d");if(!a)return;s.width=t,s.height=e,a.clearRect(0,0,t,e);const o=n*r;a.strokeStyle="rgba(200, 200, 200, 0.4)",a.lineWidth=.5;for(let c=0;c<=t;c+=o)a.beginPath(),a.moveTo(c,0),a.lineTo(c,e),a.stroke();for(let c=0;c<=e;c+=o)a.beginPath(),a.moveTo(0,c),a.lineTo(t,c),a.stroke();a.strokeStyle="rgba(150, 150, 150, 0.6)",a.lineWidth=.8;for(let c=0;c<=t;c+=o*5)a.beginPath(),a.moveTo(c,0),a.lineTo(c,e),a.stroke();for(let c=0;c<=e;c+=o*5)a.beginPath(),a.moveTo(0,c),a.lineTo(t,c),a.stroke()},[t,e,n,r]),l.jsx("canvas",{ref:i,className:"absolute inset-0 pointer-events-none z-10",style:{width:t,height:e}})},a7=C.createContext(void 0),CW=({children:t})=>{const[e,n]=C.useState([]);C.useEffect(()=>{console.log(" PurchaseContext: Provider initialized");const u=localStorage.getItem("tshirt_cart");if(u)try{const d=JSON.parse(u);n(d),console.log(" PurchaseContext: Cart loaded from localStorage:",d.length,"items")}catch(d){console.error(" PurchaseContext: Error loading cart:",d),localStorage.removeItem("tshirt_cart")}},[]),C.useEffect(()=>{localStorage.setItem("tshirt_cart",JSON.stringify(e))},[e]);const r=u=>{console.log(" PurchaseContext: Adding to cart:",u.productName),n(d=>d.find(p=>p.id===u.id)?d.map(p=>p.id===u.id?{...p,quantity:p.quantity+u.quantity}:p):[...d,u])},i=u=>{console.log(" PurchaseContext: Removing from cart:",u),n(d=>d.filter(h=>h.id!==u))},s=()=>{console.log(" PurchaseContext: Clearing cart"),n([]),localStorage.removeItem("tshirt_cart")},a=()=>e.reduce((u,d)=>u+d.price*d.quantity,0),c={currentCart:e,addToCart:r,removeFromCart:i,clearCart:s,getTotalAmount:a,processPurchase:async u=>{console.log(" PurchaseContext: Processing purchase for:",u.email);const d={id:`purchase_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:u.id,items:[...e],totalAmount:a(),status:"completed",createdAt:new Date().toISOString(),userEmail:u.email,userName:u.name||u.email},h=JSON.parse(localStorage.getItem("all_purchases")||"[]");return h.push(d),localStorage.setItem("all_purchases",JSON.stringify(h)),console.log(" PurchaseContext: Purchase processed:",d.id),s(),d}};return C.useEffect(()=>(document.body.setAttribute("data-purchase-provider","true"),()=>{document.body.removeAttribute("data-purchase-provider")}),[]),l.jsx(a7.Provider,{value:c,children:t})},_W=()=>{const t=C.useContext(a7);if(t===void 0)throw new Error("usePurchase must be used within a PurchaseProvider");return t},o7=C.createContext(void 0),AW=({children:t})=>{const[e,n]=C.useState({user:null,isLoading:!1,error:null});C.useEffect(()=>{const u=localStorage.getItem("current_user");if(u)try{const d=JSON.parse(u);console.log(" AuthContext: Loading saved user:",d.email),n(h=>({...h,user:d}))}catch(d){console.error(" AuthContext: Error loading saved user:",d),localStorage.removeItem("current_user")}},[]);const r=async(u,d,h=!1)=>{n(p=>({...p,isLoading:!0,error:null})),console.log(" AuthContext: Login attempt:",u);try{await new Promise(f=>setTimeout(f,1e3));let p;if(u==="admin@tshirtapp.com"&&d==="admin123")p={id:"admin_001",email:"admin@tshirtapp.com",firstName:"Admin",lastName:"User",name:"Admin User",role:"admin"};else if(u==="user@test.com"&&d==="user123")p={id:"user_001",email:"user@test.com",firstName:"Test",lastName:"User",name:"Test User",role:"user"};else throw new Error("Invalid email or password");h?localStorage.setItem("current_user",JSON.stringify(p)):sessionStorage.setItem("current_user",JSON.stringify(p)),n(f=>({...f,user:p,isLoading:!1})),console.log(" AuthContext: Login successful:",p.email)}catch(p){throw console.error(" AuthContext: Login error:",p),n(f=>({...f,isLoading:!1,error:p.message||"Login failed"})),p}},i=async u=>{n(d=>({...d,isLoading:!0,error:null}));try{await new Promise(h=>setTimeout(h,1500));const d={id:`user_${Date.now()}`,email:u.email,firstName:u.firstName,lastName:u.lastName,name:`${u.firstName} ${u.lastName}`,phone:u.phone,role:"user"};localStorage.setItem("current_user",JSON.stringify(d)),n(h=>({...h,user:d,isLoading:!1})),console.log(" AuthContext: Registration successful:",d.email)}catch(d){throw n(h=>({...h,isLoading:!1,error:d.message||"Registration failed"})),d}},s=async u=>{n(d=>({...d,isLoading:!0,error:null}));try{await new Promise(d=>setTimeout(d,1e3)),console.log(`Password reset link sent to: ${u}`),n(d=>({...d,isLoading:!1}))}catch(d){throw n(h=>({...h,isLoading:!1,error:d.message||"Failed to send reset email"})),d}},a=()=>{localStorage.removeItem("current_user"),sessionStorage.removeItem("current_user"),n(u=>({...u,user:null})),console.log(" AuthContext: User logged out")},o=()=>{n(u=>({...u,error:null}))},c={user:e.user,state:e,login:r,register:i,forgotPassword:s,logout:a,clearError:o};return l.jsx(o7.Provider,{value:c,children:t})},Bl=()=>{const t=C.useContext(o7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},TW=({onSwitchToRegister:t,onSwitchToForgotPassword:e,onClose:n})=>{const{user:r,login:i}=Bl(),[s,a]=C.useState({email:"",password:"",rememberMe:!1}),[o,c]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState("");ht.useEffect(()=>{r&&n&&(console.log(" User already logged in, closing modal"),n())},[r,n]);const f=async g=>{g.preventDefault(),console.log(" Login form submitted"),p(""),d(!0);try{if(s.email==="admin@tshirtapp.com"&&s.password==="admin123"){const w={id:"admin_001",email:"admin@tshirtapp.com",firstName:"Admin",lastName:"User",name:"Admin User",role:"admin"};localStorage.setItem("current_user",JSON.stringify(w)),console.log(" Admin login successful"),window.location.reload();return}if(s.email==="user@test.com"&&s.password==="user123"){const w={id:"user_001",email:"user@test.com",firstName:"Test",lastName:"User",name:"Test User",role:"user"};localStorage.setItem("current_user",JSON.stringify(w)),console.log(" User login successful"),window.location.reload();return}throw new Error("Invalid email or password")}catch(w){console.error(" Login error:",w),p(w.message||"Login failed")}finally{d(!1)}},b=g=>{const{name:w,value:x,type:y,checked:N}=g.target;a(A=>({...A,[w]:y==="checkbox"?N:x})),h&&p("")};return l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back! "}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your anime store account"})]}),h&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",role:"alert",children:l.jsx("p",{className:"text-red-600 text-sm",children:h})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",noValidate:!0,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Wc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"login-email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:b,className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email","aria-describedby":h?"login-error":void 0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"login-password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:b,className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password","aria-describedby":"password-toggle"}),l.jsx("button",{type:"button",id:"password-toggle",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":o?"Hide password":"Show password",children:o?l.jsx(Qd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Pc,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"login-rememberMe",name:"rememberMe",type:"checkbox",checked:s.rememberMe,onChange:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"login-rememberMe",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("button",{type:"button",onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?l.jsx(Xc,{className:"w-5 h-5 animate-spin"}):"Sign In"}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Create one here"})]})}),!1]})]})},kW=({onSwitchToLogin:t,onClose:e})=>{const{state:n,register:r,clearError:i}=Bl(),[s,a]=C.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[o,c]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState(!1),f=async g=>{if(g.preventDefault(),i(),s.password===s.confirmPassword)try{await r(s),p(!0)}catch{}},b=g=>{const{name:w,value:x}=g.target;a(y=>({...y,[w]:x}))};return h?l.jsxs("div",{className:"w-full max-w-md mx-auto text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(ta,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email! "}),l.jsxs("p",{className:"text-gray-600",children:["We've sent a verification link to ",l.jsx("strong",{children:s.email})]})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:l.jsx("p",{className:"text-blue-800 text-sm",children:"Please check your email and click the verification link to activate your account. Don't forget to check your spam folder!"})}),l.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Login"})]}):l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account "}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Join our anime store community!"})]}),n.error&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:n.error})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Kp,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"First name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:b,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Last name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Wc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(tx,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"phone",name:"phone",type:"tel",value:s.phone,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:s.password,onChange:b,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Create a strong password"}),l.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?l.jsx(Qd,{className:"h-5 w-5 text-gray-400"}):l.jsx(Pc,{className:"h-5 w-5 text-gray-400"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, number, and special character"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,value:s.confirmPassword,onChange:b,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirm your password"}),l.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsx(Qd,{className:"h-5 w-5 text-gray-400"}):l.jsx(Pc,{className:"h-5 w-5 text-gray-400"})})]}),s.confirmPassword&&s.password!==s.confirmPassword&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match"})]}),l.jsx("button",{type:"submit",disabled:n.isLoading||s.password!==s.confirmPassword,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:n.isLoading?l.jsx(Xc,{className:"w-5 h-5 animate-spin"}):"Create Account"}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]})]})},EW=({onSwitchToLogin:t,onClose:e})=>{const{forgotPassword:n}=Bl(),[r,i]=C.useState(""),[s,a]=C.useState(!1),[o,c]=C.useState(!1),[u,d]=C.useState(""),h=async p=>{p.preventDefault(),d(""),a(!0);try{await n(r),c(!0)}catch(f){d(f.message)}finally{a(!1)}};return o?l.jsxs("div",{className:"w-full max-w-md mx-auto text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(ta,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email! "}),l.jsxs("p",{className:"text-gray-600",children:["If an account with ",l.jsx("strong",{children:r})," exists, we've sent a password reset link."]})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:l.jsx("p",{className:"text-blue-800 text-sm",children:"The reset link will expire in 10 minutes for security. Don't forget to check your spam folder!"})}),l.jsxs("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(db,{className:"w-4 h-4"}),"Back to Login"]})]}):l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Password "}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email to receive a reset link"})]}),u&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:u})}),l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Wc,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r,onChange:p=>i(p.target.value),className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email address"})]})]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?l.jsx(Xc,{className:"w-5 h-5 animate-spin"}):"Send Reset Link"}),l.jsx("div",{className:"text-center",children:l.jsxs("button",{type:"button",onClick:t,className:"text-sm text-blue-600 hover:text-blue-500 flex items-center justify-center gap-1",children:[l.jsx(db,{className:"w-4 h-4"}),"Back to Login"]})})]})]})},f5=({isOpen:t,onClose:e,onSuccess:n,defaultMode:r="login"})=>{const[i,s]=C.useState(r),[a,o]=C.useState(!1);C.useEffect(()=>{o(!!t)},[t]);const c=h=>{h.target===h.currentTarget&&u()},u=()=>{console.log(" AuthModal closing"),s("login"),e()},d=()=>{console.log(" Auth success, calling onSuccess callback"),n&&n(),u()};return!t&&!a?null:l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:c,children:l.jsxs("div",{className:`bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto transform transition-transform duration-300 ${t?"scale-100":"scale-95"}`,onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center rounded-t-xl z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("h1",{className:"text-lg font-semibold text-gray-900",children:[i==="login"&&"Sign In",i==="register"&&"Create Account",i==="forgot-password"&&"Reset Password"]})]}),l.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:l.jsx(vo,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6",children:[i==="login"&&l.jsx(TW,{onSwitchToRegister:()=>s("register"),onSwitchToForgotPassword:()=>s("forgot-password"),onClose:d}),i==="register"&&l.jsx(kW,{onSwitchToLogin:()=>s("login"),onClose:d}),i==="forgot-password"&&l.jsx(EW,{onSwitchToLogin:()=>s("login"),onClose:u})]})]})})},OW=({isOpen:t,onClose:e,productData:n})=>{const{user:r}=Bl(),{addToCart:i,processPurchase:s}=_W(),[a,o]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState(!1),[p,f]=C.useState(1);if(!t)return null;const b=async()=>{if(!r){console.log(" No user logged in, showing auth modal"),o(!0);return}console.log(" User is logged in:",r.email),u(!0);try{n&&i({id:`${n.id}_${Date.now()}`,productId:n.id,productName:n.name,design:n.design,price:n.price,quantity:p,size:n.size,color:n.color}),await s(r),h(!0)}catch(w){console.error("Purchase failed:",w),alert("Purchase failed. Please try again.")}finally{u(!1)}},g=n?n.price*p:0;return d?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-green-500 text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Purchase Successful!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. You will receive a confirmation email shortly."}),l.jsx("button",{onClick:()=>{h(!1),e()},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Continue Shopping"})]})})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Complete Purchase"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n&&l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[l.jsx("h4",{className:"font-semibold text-lg",children:n.name}),l.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[n.size&&l.jsxs("p",{children:["Size: ",n.size]}),n.color&&l.jsxs("p",{children:["Color: ",n.color]}),l.jsxs("p",{children:["Price: $",n.price]})]}),l.jsxs("div",{className:"mt-4 flex items-center",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-4",children:"Quantity:"}),l.jsx("input",{type:"number",min:"1",max:"10",value:p,onChange:w=>f(parseInt(w.target.value)||1),className:"border rounded px-3 py-1 w-20"})]}),l.jsxs("div",{className:"mt-4 text-lg font-bold",children:["Total: $",g.toFixed(2)]})]})}),!r&&l.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-yellow-800 font-medium",children:" Please log in or create an account to complete your purchase."})}),r&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("p",{className:"text-green-800 font-medium",children:[" Logged in as: ",r.email]})}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:e,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:b,disabled:c,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg",children:c?"Processing...":r?"Buy Now":"Login to Buy"})]})]})}),a&&l.jsx(f5,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),console.log(" Login successful, will retry purchase"),setTimeout(b,500)}})]})},LW=({productData:t,className:e="",children:n})=>{const[r,i]=C.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>i(!0),className:`bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors ${e}`,children:n||`Buy Now - $${t.price}`}),l.jsx(OW,{isOpen:r,onClose:()=>i(!1),productData:t})]})},MW=({width:t=1152,height:e=1440,showToolbar:n=!0,showSidebar:r=!0,showLayerPanel:i=!0,showPropertyPanel:s=!0,mockupUrl:a,onExport:o,className:c})=>{const u=C.useRef(null),d=C.useRef(null),h=C.useRef(null),[p,f]=C.useState(t),[b,g]=C.useState(e),[w,x]=C.useState(!1),[y,N]=C.useState(null),[A,k]=C.useState(!1),[E,R]=C.useState(29.99),[O,H]=C.useState("M"),[K,D]=C.useState("White"),{state:T,initCanvas:X,setIsDragging:B,setSelectedColor:ee,setActiveTool:G,exportDesign:te}=nh();C.useEffect(()=>{u.current&&!T.canvas&&X(u.current,p,b)},[u,X,p,b,T.canvas]),C.useEffect(()=>{const de=()=>{if(h.current&&T.canvas){const Oe=h.current.clientWidth,F=h.current.clientHeight,Y=t/e,W=Oe/F;let Z,se;W>Y?(se=F,Z=se*Y):(Z=Oe,se=Z/Y),f(Z),g(se),T.canvas.setWidth(Z),T.canvas.setHeight(se),T.canvas.renderAll()}};return window.addEventListener("resize",de),de(),()=>{window.removeEventListener("resize",de)}},[T.canvas,t,e]),C.useEffect(()=>{if(!T.canvas)return;const de=Z=>{T.isPanning&&(x(!0),N({x:Z.clientX,y:Z.clientY}),B(!0))},Oe=Z=>{if(!w||!y)return;const se=Z.clientX-y.x,ie=Z.clientY-y.y;if(T.canvas){const ce=T.canvas.viewportTransform;ce&&(ce[4]+=se,ce[5]+=ie,T.canvas.requestRenderAll())}N({x:Z.clientX,y:Z.clientY})},F=()=>{w&&(x(!1),N(null),B(!1))},Y=Z=>{if(T.activeTool!=="eyedropper"||!T.canvas)return;const se=T.canvas.getPointer(Z),ce=T.canvas.getContext().getImageData(se.x,se.y,1,1).data,ve=`#${((1<<24)+(ce[0]<<16)+(ce[1]<<8)+ce[2]).toString(16).slice(1)}`;ee(ve),G("select"),k(!1)},W=T.canvas.getElement();return W.addEventListener("mousedown",de),document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",F),T.activeTool==="eyedropper"&&!A?(W.addEventListener("mousedown",Y),k(!0)):T.activeTool!=="eyedropper"&&A&&(W.removeEventListener("mousedown",Y),k(!1)),()=>{W.removeEventListener("mousedown",de),document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",F),A&&W.removeEventListener("mousedown",Y)}},[T.canvas,T.isPanning,w,y,B,T.activeTool,A,ee,G]);const V=()=>{o&&te(o)},re=()=>T.canvas?T.canvas.toDataURL("image/png"):null;return l.jsxs("div",{className:`t-shirt-designer-container ${c||""} w-full h-full flex flex-col`,children:[n&&l.jsx("div",{className:"toolbar-container md:w-16 w-full h-16 md:h-full bg-gray-800 text-white z-10 md:fixed md:left-0 md:top-0",children:l.jsx(hX,{onExport:V})}),l.jsxs("div",{className:"flex flex-1 flex-col md:flex-row overflow-hidden md:ml-16",children:[r&&l.jsx("div",{className:"sidebar-container w-full md:w-64 h-auto md:h-full bg-gray-100 border-r border-gray-300 overflow-y-auto",children:l.jsx(wW,{})}),l.jsxs("div",{ref:d,className:"flex-1 relative flex flex-col items-center justify-center bg-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"w-full bg-white border-b border-gray-300 p-4 flex flex-col md:flex-row items-center justify-between gap-4 z-20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Size:"}),l.jsxs("select",{value:O,onChange:de=>H(de.target.value),className:"border border-gray-300 rounded px-3 py-1",children:[l.jsx("option",{value:"XS",children:"XS"}),l.jsx("option",{value:"S",children:"S"}),l.jsx("option",{value:"M",children:"M"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"XL",children:"XL"}),l.jsx("option",{value:"XXL",children:"XXL"})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Color:"}),l.jsxs("select",{value:K,onChange:de=>D(de.target.value),className:"border border-gray-300 rounded px-3 py-1",children:[l.jsx("option",{value:"White",children:"White"}),l.jsx("option",{value:"Black",children:"Black"}),l.jsx("option",{value:"Gray",children:"Gray"}),l.jsx("option",{value:"Navy",children:"Navy"}),l.jsx("option",{value:"Red",children:"Red"})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("label",{className:"block text-gray-600 mb-1",children:"Price:"}),l.jsx("input",{type:"number",step:"0.01",min:"1",max:"999",value:E,onChange:de=>R(parseFloat(de.target.value)||29.99),className:"border border-gray-300 rounded px-3 py-1 w-20"})]})]}),l.jsxs(LW,{productData:{id:`custom_design_${Date.now()}`,name:"Custom T-Shirt Design",price:E,design:T.canvas?T.canvas.toJSON():null,size:O,color:K,preview:re()},className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-200",children:[" Buy This Design - $",E.toFixed(2)]})]}),a&&T.showMockup&&l.jsx("img",{src:a,alt:"T-Shirt Mockup",className:"absolute inset-0 pointer-events-none object-contain h-full w-full z-0",style:{opacity:.9}}),T.showGrid&&l.jsx(NW,{width:p,height:b,gridSize:T.gridSize,zoom:T.zoom}),l.jsx("div",{ref:h,className:"canvas-wrapper relative overflow-hidden",style:{width:`${p}px`,height:`${b}px`,boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",backgroundColor:"transparent",transform:`scale(${T.zoom})`,transition:"transform 0.2s ease"},children:l.jsx("canvas",{ref:u})})]}),(i||s)&&l.jsxs("div",{className:"right-panels-container w-full md:w-64 h-auto md:h-full bg-gray-100 border-l border-gray-300 overflow-y-auto",children:[i&&l.jsx(SW,{}),s&&l.jsx(jW,{})]})]})]})},DW=t=>l.jsx(dX,{children:l.jsx(MW,{...t})});var l7={exports:{}};(function(t,e){(function(n,r){r()})(tf,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){c(p.response,d,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof tf=="object"&&tf.global===tf?tf:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,d,h){var p=a.URL||a.webkitURL,f=document.createElement("a");d=d||u.name||"download",f.download=d,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?s(f):i(f.href)?r(u,d,h):s(f,f.target="_blank")):(f.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,h){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),d);else if(i(u))r(u,d,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){s(p)})}}:function(u,d,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,h);var f=u.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&b||o)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var N=w.result;N=g?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=N:location=N,p=null},w.readAsDataURL(u)}else{var x=a.URL||a.webkitURL,y=x.createObjectURL(u);p?p.location=y:location.href=y,p=null,setTimeout(function(){x.revokeObjectURL(y)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})})(l7);var Yg=l7.exports;const PW=()=>{const[t,e]=C.useState(null),n=o=>{e(o),Yg.saveAs(o.pngBlob,"tshirt-design.png"),Yg.saveAs(o.pdfBlob,"tshirt-design.pdf"),localStorage.setItem("tshirtDesignJson",o.designJson)},r="/tshirt-front.png",i="/tshirt-back.png",[s,a]=C.useState("front");return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsxs(ov,{children:[l.jsx("title",{children:"T-Shirt Designer Demo | Anime Print on Demand"}),l.jsx("meta",{name:"description",content:"Design your own anime t-shirt with our interactive designer. Create custom designs, add text, images, and shapes, and export your design for printing."})]}),l.jsxs("div",{className:"py-4 px-6 bg-white border-b border-gray-200",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"T-Shirt Designer"}),l.jsx("p",{className:"text-gray-600",children:"Create your custom anime-inspired designs"}),l.jsxs("div",{className:"mt-2 flex space-x-4",children:[l.jsx("button",{onClick:()=>a("front"),className:`px-4 py-1 rounded-md ${s==="front"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Front Side"}),l.jsx("button",{onClick:()=>a("back"),className:`px-4 py-1 rounded-md ${s==="back"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Back Side"})]})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:l.jsx("div",{className:"h-[calc(100vh-220px)] max-h-[750px]",children:l.jsx(DW,{mockupUrl:s==="front"?r:i,onExport:n,height:750})})}),t&&l.jsxs("div",{className:"fixed bottom-4 right-4 p-4 bg-green-100 border border-green-400 rounded-md shadow-lg max-w-md",children:[l.jsx("h3",{className:"font-medium text-green-800",children:"Design Exported Successfully!"}),l.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your design has been exported to PNG and PDF formats."}),l.jsxs("div",{className:"mt-3 flex space-x-3",children:[l.jsx(Wt,{size:"sm",onClick:()=>Yg.saveAs(t.pngBlob,"tshirt-design.png"),variant:"outline",className:"bg-white",children:"Download PNG"}),l.jsx(Wt,{size:"sm",onClick:()=>Yg.saveAs(t.pdfBlob,"tshirt-design.pdf"),variant:"outline",className:"bg-white",children:"Download PDF"})]})]})]})},ih={"T-Shirts":{sizes:["XS","S","M","L","XL","XXL"],measurements:{XS:{chest:"34-36",length:"26",shoulder:"16"},S:{chest:"36-38",length:"27",shoulder:"17"},M:{chest:"38-40",length:"28",shoulder:"18"},L:{chest:"40-42",length:"29",shoulder:"19"},XL:{chest:"42-44",length:"30",shoulder:"20"},XXL:{chest:"44-46",length:"31",shoulder:"21"}}},Hoodies:{sizes:["XS","S","M","L","XL","XXL"],measurements:{XS:{chest:"36-38",length:"25",shoulder:"17"},S:{chest:"38-40",length:"26",shoulder:"18"},M:{chest:"40-42",length:"27",shoulder:"19"},L:{chest:"42-44",length:"28",shoulder:"20"},XL:{chest:"44-46",length:"29",shoulder:"21"},XXL:{chest:"46-48",length:"30",shoulder:"22"}}}},Dx=(()=>{const t=window.location.protocol,e=window.location.hostname;return`${t}//${e}:5000`})();console.log(" API_BASE configured as:",Dx);const p5=t=>{if(!t)return"";if(console.log(" Resolving image URL:",t),t.startsWith("http://")||t.startsWith("https://"))return console.log(" Complete URL detected:",t),t;const e="http://localhost:5000";if(t.startsWith("/uploads/")){const r=e+t;return console.log(" Resolved uploads URL:",r),r}if(t.startsWith("/")){const r=e+t;return console.log(" Resolved relative URL:",r),r}const n=`${e}/uploads/${t}`;return console.log(" Resolved filename URL:",n),n},RW=async t=>{const e=new URLSearchParams;t!=null&&t.category&&e.append("category",t.category),(t==null?void 0:t.featured)!==void 0&&e.append("featured",t.featured.toString()),(t==null?void 0:t.inStock)!==void 0&&e.append("inStock",t.inStock.toString());const n=`${Dx}/api/products${e.toString()?`?${e.toString()}`:""}`;console.log(" Products: Fetching from:",n);try{const r=await fetch(n);if(console.log(" Products: Response status:",r.status),!r.ok){const a=await r.text();throw console.error(" Products: API Error Response:",a),new Error(`HTTP ${r.status}: ${a}`)}const i=await r.json();console.log(" Products: API Response:",i);const s=i.data||i;return console.log(" Products: Final products array:",s),Array.isArray(s)?s:[]}catch(r){throw console.error(" Products: Fetch Error:",r),r}},FW=async()=>{const t=`${Dx}/api/products/categories`;console.log(" Products: Fetching categories from:",t);try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);const n=await e.json(),r=n.data||n;return Array.isArray(r)?r:[]}catch(e){return console.error(" Products: Categories Error:",e),["T-Shirts","Phone Covers","Hoodies","Bottles","Plates"]}},em=({src:t,alt:e,className:n="",fallbackSrc:r="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop",...i})=>{const[s,a]=C.useState(p5(t)),[o,c]=C.useState(!1),[u,d]=C.useState(!0);C.useEffect(()=>{a(p5(t)),c(!1),d(!0)},[t]);const h=()=>{console.log(" Image failed to load:",s),o||(c(!0),a(r))},p=()=>{console.log(" Image loaded successfully:",s),d(!1)};return l.jsxs("div",{className:`relative ${n}`,children:[u&&l.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),l.jsx("img",{src:s,alt:e,className:`${n} ${u?"opacity-0":"opacity-100"} transition-opacity duration-300`,onError:h,onLoad:p,...i})]})},IW=({isOpen:t,onClose:e,category:n})=>{if(!t||!ih[n])return null;const r=ih[n];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl w-full",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(tv,{className:"w-6 h-6 mr-2 text-blue-600"}),"Size Chart - ",n]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(vo,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg",children:[l.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[l.jsx(I9,{className:"w-5 h-5 mr-2"}),"How to Measure"]}),l.jsxs("div",{className:"text-blue-800 text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Chest:"})," Measure around the fullest part of your chest, keeping the tape horizontal."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Length:"})," Measure from the highest point of the shoulder to the bottom hem."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Shoulder:"})," Measure from one shoulder point to the other across the back."]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300 rounded-lg overflow-hidden shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Size"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Chest (inches)"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Length (inches)"}),l.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Shoulder (inches)"})]})}),l.jsx("tbody",{children:r.sizes.map(i=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"border border-gray-300 px-4 py-3 font-medium",children:i}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:r.measurements[i].chest}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:r.measurements[i].length}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:r.measurements[i].shoulder})]},i))})]})}),l.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:" Size Guide Tips"}),l.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"All measurements are in inches and represent garment measurements"}),l.jsx("li",{children:"For a relaxed fit, choose one size larger than your body measurement"}),l.jsx("li",{children:"If you're between sizes, we recommend going with the larger size"}),l.jsx("li",{children:"Our products are pre-shrunk, but may shrink slightly after washing"}),l.jsx("li",{children:"Contact us if you need help choosing the right size!"})]})]})]})]})})},zW=({category:t,selectedSize:e,onSizeSelect:n,onShowSizeChart:r})=>{const i=ih[t];return i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Select Size:"}),l.jsxs("button",{onClick:r,className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[l.jsx(tv,{className:"w-4 h-4"}),"Size Chart"]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.sizes.map(s=>l.jsx("button",{onClick:()=>n(s),className:`p-3 border-2 rounded-lg font-medium transition-all transform hover:scale-105 ${e===s?"border-blue-500 bg-blue-50 text-blue-700 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:s},s))}),e&&l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-green-800 text-sm",children:[" Size ",l.jsx("strong",{children:e})," selected",l.jsxs("span",{className:"block text-xs mt-1",children:["Chest: ",i.measurements[e].chest,'" | Length: ',i.measurements[e].length,'"']})]})})]}):null},BW=({product:t,onBack:e,onAddToCart:n,onBuyNow:r,favorites:i,toggleFavorite:s,relatedProducts:a,openProductDetail:o})=>{const[c,u]=C.useState(0),[d,h]=C.useState(1),[p,f]=C.useState(),[b,g]=C.useState(!1),w=ih[t.category];let x=[];if(t.images)try{const ee=typeof t.images=="string"?JSON.parse(t.images):t.images;Array.isArray(ee)&&ee.length>0?x=ee:x=[t.imageUrl]}catch{x=[t.imageUrl]}else x=[t.imageUrl];console.log(" Product images for detail page:",x);const y=()=>{u(ee=>(ee+1)%x.length)},N=()=>{u(ee=>(ee-1+x.length)%x.length)};let A=[];if(t.tags)try{A=JSON.parse(t.tags)}catch{A=[t.tags]}const k=i.has(t.id),E=parseFloat(t.price),R=t.id||1,O=10+R%21,H=(E/(1-O/100)).toFixed(2),K=(4+R%15/10).toFixed(1),D=100+R*7%900,T=()=>{if(w&&!p){alert("Please select a size before adding to cart");return}for(let ee=0;ee<d;ee++)n(t.id,p)},X=()=>{if(w&&!p){alert("Please select a size before purchasing");return}r(t.id,p)},B=({relatedProduct:ee})=>{const G=parseFloat(ee.price),V=10+(ee.id||1)%21,re=(G/(1-V/100)).toFixed(2);return l.jsxs("div",{onClick:()=>o(ee),className:"group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:scale-105 cursor-pointer overflow-hidden border border-gray-100",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:p5(ee.imageUrl),alt:ee.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:de=>{de.target.src="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=500&h=300&fit=crop"}}),ee.featured&&l.jsx("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:" BESTSELLER"}),l.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[V,"% OFF"]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wide",children:ee.category}),l.jsx("h4",{className:"font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:ee.name}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",ee.price]}),l.jsxs("span",{className:"text-sm text-gray-400 line-through ml-2",children:["",re]})]})]})]})};return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("button",{onClick:e,className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors mb-6",children:[l.jsx(db,{className:"w-5 h-5 mr-2"}),"Back to Products"]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-12",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(em,{src:x[c],alt:t.name,className:"w-full h-[500px] object-cover rounded-xl"}),x.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full p-3 shadow-lg transition-all",children:l.jsx(Aw,{className:"w-6 h-6"})}),l.jsx("button",{onClick:y,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full p-3 shadow-lg transition-all",children:l.jsx(Tw,{className:"w-6 h-6"})})]}),x.length>1&&l.jsxs("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm",children:[c+1," / ",x.length]}),l.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[t.featured&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[l.jsx(Rc,{className:"w-4 h-4 mr-1 fill-current"}),"BESTSELLER"]}),l.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[O,"% OFF"]})]})]}),x.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:x.map((ee,G)=>l.jsx("button",{onClick:()=>u(G),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${G===c?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:l.jsx("img",{src:ee,alt:`View ${G+1}`,className:"w-full h-full object-cover"})},G))})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"text-sm text-blue-600 font-semibold uppercase tracking-wide",children:t.category}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 pr-4",children:t.name}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>s(t.id),className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(oo,{className:`w-6 h-6 ${k?"fill-red-500 text-red-500":"text-gray-400"}`})}),l.jsx("button",{className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(fb,{className:"w-6 h-6 text-gray-400"})})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center bg-green-500 text-white px-4 py-2 rounded-lg",children:[l.jsx("span",{className:"font-bold text-lg",children:K}),l.jsx(Rc,{className:"w-5 h-5 ml-1 fill-current"})]}),l.jsxs("span",{className:"text-gray-600 text-lg",children:["(",D," reviews)"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["",t.price]}),l.jsxs("span",{className:"text-3xl text-gray-400 line-through",children:["",H]})]}),l.jsxs("div",{className:"text-green-600 text-xl font-semibold",children:["You save ",(parseFloat(H)-parseFloat(t.price)).toFixed(2),"(",O,"% off)"]})]}),l.jsxs("div",{className:`flex items-center gap-2 ${t.inStock?"text-green-600":"text-red-600"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${t.inStock?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"font-medium text-lg",children:t.inStock?"In Stock - Ready to Ship":"Out of Stock"})]}),w&&t.inStock&&l.jsx(zW,{category:t.category,selectedSize:p,onSizeSelect:f,onShowSizeChart:()=>g(!0)}),t.inStock&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-lg font-medium",children:"Quantity:"}),l.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[l.jsx("button",{onClick:()=>h(Math.max(1,d-1)),className:"p-3 hover:bg-gray-100 rounded-l-lg",children:l.jsx(ex,{className:"w-4 h-4"})}),l.jsx("span",{className:"px-6 py-3 text-lg font-semibold border-x border-gray-300",children:d}),l.jsx("button",{onClick:()=>h(d+1),className:"p-3 hover:bg-gray-100 rounded-r-lg",children:l.jsx(Ew,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:T,disabled:!t.inStock,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(lo,{className:"w-6 h-6 mr-3"}),"ADD TO CART"]}),l.jsxs("button",{onClick:X,disabled:!t.inStock,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(_T,{className:"w-6 h-6 mr-3"}),"BUY NOW"]})]}),t.inStock&&l.jsxs("div",{className:"bg-green-50 p-6 rounded-xl space-y-3",children:[l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx(fp,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"Free delivery by tomorrow"})]}),l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx(nx,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"Easy 30-day returns"})]}),l.jsxs("div",{className:"flex items-center text-green-800",children:[l.jsx($p,{className:"w-6 h-6 mr-3"}),l.jsx("span",{className:"font-medium text-lg",children:"2 year warranty included"})]})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold",children:"Product Description"}),l.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:t.description}),A.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((ee,G)=>l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-full text-sm border border-blue-200",children:["#",ee]},G))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-bold",children:"Product Features"}),l.jsxs("ul",{className:"space-y-3 text-gray-600",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"High-quality materials"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"Authentic anime design"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"Comfortable fit"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"Machine washable"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"Perfect for anime fans"]}),w&&l.jsxs("li",{className:"flex items-center",children:[l.jsx(ta,{className:"w-5 h-5 text-green-500 mr-3"}),"Multiple sizes available"]})]})]})]})})]}),a.length>0&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You Might Also Like"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Check out these similar amazing products"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.slice(0,4).map(ee=>l.jsx(B,{relatedProduct:ee},ee.id))}),a.length>4&&l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"View All Products"})})]})]}),l.jsx(IW,{isOpen:b,onClose:()=>g(!1),category:t.category})]})},lC=({isOpen:t,onClose:e,cartItems:n,updateQuantity:r,removeFromCart:i,onCheckout:s})=>{if(!t)return null;const a=n.reduce((o,c)=>o+parseFloat(c.product.price)*c.quantity,0);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl w-full",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Shopping Cart"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(vo,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6",children:n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(lo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),l.jsx("p",{className:"text-gray-600",children:"Add some amazing anime products to get started!"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4 mb-6",children:n.map((o,c)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[l.jsx(em,{src:o.product.imageUrl,alt:o.product.name,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:o.product.name}),l.jsx("p",{className:"text-sm text-gray-600",children:o.product.category}),o.size&&l.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Size: ",o.size]}),l.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",o.product.price]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>r(o.product.id,Math.max(1,o.quantity-1),o.size),className:"p-1 hover:bg-gray-100 rounded",children:l.jsx(ex,{className:"w-4 h-4"})}),l.jsx("span",{className:"w-8 text-center font-semibold",children:o.quantity}),l.jsx("button",{onClick:()=>r(o.product.id,o.quantity+1,o.size),className:"p-1 hover:bg-gray-100 rounded",children:l.jsx(Ew,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:()=>i(o.product.id,o.size),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(rx,{className:"w-4 h-4"})})]},`${o.product.id}-${o.size||"no-size"}-${c}`))}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["",a.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping:"}),l.jsx("span",{className:"text-green-600",children:"FREE"})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["",a.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50",children:"Continue Shopping"}),l.jsxs("button",{onClick:s,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 flex items-center justify-center gap-2",children:["Proceed to Checkout",l.jsx(Dn,{className:"w-4 h-4"})]})]})]})]})})]})})},cC=({isOpen:t,onClose:e,favoriteItems:n,removeFromFavorites:r,addToCart:i})=>t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl w-full",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Your Favorites"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx(vo,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6",children:n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(oo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No favorites yet"}),l.jsx("p",{className:"text-gray-600",children:"Start adding products to your wishlist!"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>l.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx(em,{src:s.imageUrl,alt:s.name,className:"w-full h-40 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>r(s.id),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:l.jsx(oo,{className:"w-4 h-4 fill-red-500 text-red-500"})})]}),l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:s.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.category}),l.jsxs("p",{className:"text-lg font-bold text-blue-600 mb-4",children:["",s.price]}),l.jsxs("button",{onClick:()=>i(s.id),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[l.jsx(lo,{className:"w-4 h-4"}),"Add to Cart"]})]},s.id))})})]})}):null,uC=({cartItems:t,onBack:e,onPaymentSuccess:n})=>{const{user:r}=Bl(),i=()=>r!=null&&r.name?r.name:r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName} ${r.lastName}`:"",[s,a]=C.useState({name:i(),email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:"",city:"",state:"",pincode:""}),[o,c]=C.useState("razorpay"),[u,d]=C.useState(!1),h=t.reduce((b,g)=>b+parseFloat(g.product.price)*g.quantity,0),p=b=>{const{name:g,value:w}=b.target;a(x=>({...x,[g]:w}))},f=async()=>{d(!0);try{o==="razorpay"?(await new Promise(w=>setTimeout(w,2e3)),alert(" Payment Successful! Order confirmed.")):(await new Promise(w=>setTimeout(w,1e3)),alert(" Order placed! Pay on delivery."));const b={id:`purchase_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:(r==null?void 0:r.id)||"guest",userEmail:(r==null?void 0:r.email)||s.email,userName:(r==null?void 0:r.name)||s.name,items:t.map(w=>({id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,productId:w.product.id.toString(),productName:w.product.name,price:parseFloat(w.product.price),quantity:w.quantity,size:w.size||null})),totalAmount:h,status:"completed",createdAt:new Date().toISOString()},g=JSON.parse(localStorage.getItem("all_purchases")||"[]");g.push(b),localStorage.setItem("all_purchases",JSON.stringify(g)),console.log(" Purchase saved to localStorage:",b),n()}catch{alert(" Payment failed. Please try again.")}finally{d(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2",children:" Back to Cart"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Checkout"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm h-fit",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:" Order Summary"}),l.jsx("div",{className:"space-y-4 mb-6",children:t.map((b,g)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(em,{src:b.product.imageUrl,alt:b.product.name,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold",children:b.product.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",b.quantity]}),b.size&&l.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Size: ",b.size]})]}),l.jsxs("p",{className:"font-bold",children:["",(parseFloat(b.product.price)*b.quantity).toFixed(2)]})]},`${b.product.id}-${b.size||"no-size"}-${g}`))}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["",h.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Shipping:"}),l.jsx("span",{children:"FREE"})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["",h.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:" Delivery Details"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Kp,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(Wc,{className:"w-4 h-4 inline mr-2"}),"Email"]}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(tx,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),l.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l.jsx(kw,{className:"w-4 h-4 inline mr-2"}),"Address"]}),l.jsx("textarea",{name:"address",value:s.address,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),l.jsx("input",{type:"text",name:"city",value:s.city,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),l.jsx("input",{type:"text",name:"state",value:s.state,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),l.jsx("input",{type:"text",name:"pincode",value:s.pincode,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Payment Method"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"razorpay",checked:o==="razorpay",onChange:b=>c(b.target.value),className:"mr-3"}),l.jsx(D9,{className:"w-5 h-5 mr-3 text-blue-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Credit/Debit Card, UPI, Net Banking"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Secure payment via Razorpay"})]})]}),l.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx("input",{type:"radio",name:"payment",value:"cod",checked:o==="cod",onChange:b=>c(b.target.value),className:"mr-3"}),l.jsx(fp,{className:"w-5 h-5 mr-3 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pay when you receive the order"})]})]})]})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-2",children:[l.jsx($p,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Secure Checkout"})]}),l.jsx("div",{className:"text-sm text-green-700",children:"Your payment information is encrypted and secure. We never store your card details."})]}),l.jsx("button",{onClick:f,disabled:u,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg font-semibold",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ta,{className:"w-5 h-5"}),"Place Order - ",h.toFixed(2)]})})]})]})]})})};function qW(){const{user:t}=Bl(),[e,n]=C.useState("All"),[r,i]=C.useState(""),[s,a]=C.useState("grid"),[o,c]=C.useState(!1),[u,d]=C.useState(new Set),[h,p]=C.useState(new Set),[f,b]=C.useState("newest"),[g,w]=C.useState("products"),[x,y]=C.useState(null),[N,A]=C.useState([]),[k,E]=C.useState([]),[R,O]=C.useState(!1),[H,K]=C.useState(!1),[D,T]=C.useState(!1),[X,B]=C.useState(!1),[ee,G]=C.useState("login");C.useEffect(()=>{const ye=new URLSearchParams(window.location.search).get("category");ye&&n(ye)},[]);const{data:te=[],isLoading:V,error:re}=ab({queryKey:["products"],queryFn:()=>RW({category:e!=="All"?e:void 0,featured:o}),retry:3,retryDelay:1e3}),{data:de=[],isLoading:Oe,error:F}=ab({queryKey:["categories"],queryFn:FW,retry:3,retryDelay:1e3}),Y=["All",...de],W=ne=>{console.log(" toggleFavorite called for product:",ne),d(ye=>{const Se=new Set(ye);if(Se.has(ne))Se.delete(ne),E(Ee=>Ee.filter(Le=>Le.id!==ne)),console.log(" Removed from favorites:",ne);else{Se.add(ne);const Ee=te.find(Le=>Le.id===ne);Ee&&(E(Le=>[...Le,Ee]),console.log(" Added to favorites:",ne))}return Se})},Z=(ne,ye)=>{console.log(" addToCart called for product:",ne,"size:",ye);const Se=te.find(Le=>Le.id===ne);if(!Se)return;if(ih[Se.category]&&!ye){alert("Please select a size before adding to cart");return}A(Le=>Le.find(He=>He.product.id===ne&&(ye?He.size===ye:!He.size))?Le.map(He=>He.product.id===ne&&(ye?He.size===ye:!He.size)?{...He,quantity:He.quantity+1}:He):[...Le,{product:Se,quantity:1,size:ye}]),p(Le=>new Set(Le).add(ne)),console.log(` Added ${Se.name}${ye?` (Size: ${ye})`:""} to cart!`)},se=(ne,ye,Se)=>{A(Ee=>Ee.map(Le=>Le.product.id===ne&&(Se?Le.size===Se:!Le.size)?{...Le,quantity:ye}:Le))},ie=(ne,ye)=>{A(Ee=>Ee.filter(Le=>!(Le.product.id===ne&&(ye?Le.size===ye:!Le.size)))),N.filter(Ee=>Ee.product.id===ne&&!(ye?Ee.size===ye:!Ee.size)).length===0&&p(Ee=>{const Le=new Set(Ee);return Le.delete(ne),Le})},ce=(ne,ye)=>{if(console.log(" buyNow called for product:",ne,"size:",ye),!t){console.log(" User not logged in, showing auth modal"),G("checkout"),B(!0),Z(ne,ye);return}Z(ne,ye),T(!0),console.log(` Proceeding to checkout for product ${ne}${ye?` (Size: ${ye})`:""}!`)},ve=()=>{if(console.log(" handleCheckout called"),!t){console.log(" User not logged in, showing auth modal"),G("checkout"),B(!0);return}O(!1),T(!0),console.log(" Proceeding to checkout!")},je=()=>{console.log(" Authentication successful"),B(!1),ee==="checkout"&&T(!0)},Ce=()=>{A([]),p(new Set),T(!1),alert(" Order placed successfully! Check your email for confirmation.")},ke=ne=>{console.log(" Opening product detail page for:",ne.id),y(ne),w("product-detail"),window.scrollTo(0,0)},Be=()=>{w("products"),y(null),window.scrollTo(0,0)},he=ne=>te.filter(ye=>ye.category===ne.category&&ye.id!==ne.id).slice(0,8),J=ht.useMemo(()=>{let ne=te.filter(ye=>{const Se=e==="All"||ye.category===e,Ee=!o||ye.featured;if(!r)return Se&&Ee;const Le=r.toLowerCase(),Ue=ye.name.toLowerCase().includes(Le),He=ye.description.toLowerCase().includes(Le);let Te=!1;if(ye.tags)try{const Ie=JSON.parse(ye.tags);Te=Array.isArray(Ie)&&Ie.some(Xe=>Xe.toLowerCase().includes(Le))}catch{Te=ye.tags.toLowerCase().includes(Le)}return Se&&Ee&&(Ue||He||Te)});switch(f){case"price-low":return ne.sort((ye,Se)=>parseFloat(ye.price)-parseFloat(Se.price));case"price-high":return ne.sort((ye,Se)=>parseFloat(Se.price)-parseFloat(ye.price));case"name":return ne.sort((ye,Se)=>ye.name.localeCompare(Se.name));case"newest":default:return ne.sort((ye,Se)=>new Date(Se.createdAt).getTime()-new Date(ye.createdAt).getTime())}},[te,r,f,e,o]);if(re)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",style:{paddingTop:"5rem"},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(dp,{className:"w-8 h-8 text-red-500 mr-3"}),l.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Connection Error"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-700",children:"Cannot connect to the API server."}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Debug Information:"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Current URL:"})," ",window.location.href]}),l.jsxs("p",{children:[l.jsx("strong",{children:"API Base:"})," ",Dx||"Same origin"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Port:"})," ",window.location.port||"Default"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Error:"})," ",re.message]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2 text-blue-800",children:"Solutions:"}),l.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Make sure your backend is running: ",l.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"npx tsx server/index.ts"})]}),l.jsxs("li",{children:["Visit the correct URL: ",l.jsx("strong",{children:"http://localhost:5000/products"})," (not 5173)"]}),l.jsxs("li",{children:["Test API directly: ",l.jsx("a",{href:"http://localhost:5000/api/products",target:"_blank",className:"underline",children:"http://localhost:5000/api/products"})]}),l.jsx("li",{children:"Check browser console (F12) for more errors"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>window.location.href="http://localhost:5000/products",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex-1",children:"Go to Correct URL"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Retry"})]})]})]})});const P=({product:ne,isListView:ye=!1})=>{let Se=[];if(ne.tags)try{Se=JSON.parse(ne.tags)}catch{Se=[ne.tags]}let Ee=ne.imageUrl;if(ne.images)try{const Et=typeof ne.images=="string"?JSON.parse(ne.images):ne.images;Array.isArray(Et)&&Et.length>0&&(Ee=Et[0])}catch(Et){console.warn("Error parsing product images:",Et)}const Le=u.has(ne.id),Ue=h.has(ne.id),He=ih[ne.category],Te=parseFloat(ne.price),Ie=ne.id||1,Xe=10+Ie%21,Je=(Te/(1-Xe/100)).toFixed(2),ut=(4+Ie%15/10).toFixed(1),et=100+Ie*7%900,nt=()=>{He?ke(ne):Z(ne.id)},Ge=()=>{He?ke(ne):ce(ne.id)};return l.jsxs("div",{className:`group bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 overflow-hidden border border-gray-100 ${ye?"flex":""} relative cursor-pointer`,children:[l.jsxs("div",{className:`relative overflow-hidden ${ye?"w-48 flex-shrink-0":"h-56"}`,onClick:()=>ke(ne),children:[l.jsx(em,{src:Ee,alt:ne.name,className:"w-full h-full object-cover group-hover:scale-125 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300",children:[ne.featured&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center shadow-lg",children:[l.jsx(Rc,{className:"w-3 h-3 mr-1 fill-current"}),"BESTSELLER"]}),l.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg animate-pulse",children:[Xe,"% OFF"]}),He&&l.jsxs("div",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg",children:[l.jsx(tv,{className:"w-3 h-3 mr-1"}),"SIZES"]})]}),l.jsx("button",{onClick:Et=>{Et.stopPropagation(),console.log(" Favorite button clicked for product:",ne.id),W(ne.id)},className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-all duration-200 transform hover:scale-125 z-10 opacity-90 group-hover:opacity-100",children:l.jsx(oo,{className:`w-4 h-4 ${Le?"fill-red-500 text-red-500 animate-pulse":"text-gray-400"} transition-colors`})}),!ne.inStock&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:"OUT OF STOCK"})}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:l.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-2 text-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-800",children:He?"Click to select size":"Click to view details"})})})]}),l.jsxs("div",{className:`p-4 ${ye?"flex-1":""} relative`,children:[l.jsxs("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wide",children:[ne.category,He&&l.jsx("span",{className:"text-blue-600 ml-2",children:" Multiple Sizes"})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors cursor-pointer",onClick:()=>ke(ne),children:ne.name}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsxs("div",{className:"flex items-center bg-green-500 text-white px-2 py-1 rounded text-xs",children:[l.jsx("span",{className:"font-bold",children:ut}),l.jsx(Rc,{className:"w-3 h-3 ml-1 fill-current"})]}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",et," reviews)"]})]}),l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",ne.price]}),l.jsxs("span",{className:"text-lg text-gray-400 line-through ml-2",children:["",Je]}),l.jsxs("span",{className:"text-green-600 text-sm font-semibold ml-2",children:[Xe,"% off"]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:ne.description}),Se.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:Se.slice(0,3).map((Et,Ct)=>l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-full text-xs border border-blue-200",children:["#",Et]},Ct))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Et=>{Et.stopPropagation(),console.log(" Add to cart clicked for product:",ne.id),nt()},disabled:!ne.inStock,className:`flex-1 ${Ue?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} px-3 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 text-sm`,children:Ue?l.jsxs(l.Fragment,{children:[l.jsx(Lw,{className:"w-4 h-4 mr-1"}),"ADDED"]}):l.jsxs(l.Fragment,{children:[l.jsx(lo,{className:"w-4 h-4 mr-1"}),He?"SELECT SIZE":"ADD TO CART"]})}),l.jsxs("button",{onClick:Et=>{Et.stopPropagation(),console.log(" Buy now clicked for product:",ne.id),Ge()},disabled:!ne.inStock,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-3 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 text-sm",children:[l.jsx(_T,{className:"w-4 h-4 mr-1"}),He?"QUICK BUY":"BUY NOW"]})]}),ne.inStock&&l.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-600",children:[l.jsx(fp,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Free delivery by tomorrow"})]})]})]})};if(g==="product-detail"&&x){const ne=he(x);return l.jsxs(l.Fragment,{children:[l.jsx(BW,{product:x,onBack:Be,onAddToCart:Z,onBuyNow:ce,favorites:u,toggleFavorite:W,relatedProducts:ne,openProductDetail:ke}),l.jsx(lC,{isOpen:R,onClose:()=>O(!1),cartItems:N,updateQuantity:se,removeFromCart:ie,onCheckout:ve}),l.jsx(cC,{isOpen:H,onClose:()=>K(!1),favoriteItems:k,removeFromFavorites:W,addToCart:Z}),l.jsx(f5,{isOpen:X,onClose:()=>B(!1),onSuccess:je,defaultMode:"login"}),D&&l.jsx("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:l.jsx(uC,{cartItems:N,onBack:()=>{T(!1),O(!0)},onPaymentSuccess:Ce})})]})}return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{}),l.jsx("h1",{className:"text-4xl font-bold",children:" Our Amazing Products"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:()=>O(!0),className:"relative p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all transform hover:scale-110",children:[l.jsx(lo,{className:"w-6 h-6"}),N.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:N.reduce((ne,ye)=>ne+ye.quantity,0)})]}),l.jsxs("button",{onClick:()=>K(!0),className:"relative p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all transform hover:scale-110",children:[l.jsx(oo,{className:"w-6 h-6"}),k.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:k.length})]})]})]}),l.jsx("p",{className:"text-lg text-blue-100 max-w-2xl mx-auto",children:"Discover incredible anime-themed products from T-shirts to accessories - bring your favorite anime to life! "}),l.jsxs("div",{className:"flex justify-center gap-8 mt-6 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($p,{className:"w-4 h-4 mr-2"}),"100% Authentic"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(fp,{className:"w-4 h-4 mr-2"}),"Free Shipping"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(nx,{className:"w-4 h-4 mr-2"}),"Easy Returns"]})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search for anime products...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r,onChange:ne=>i(ne.target.value)})]}),l.jsxs("select",{value:f,onChange:ne=>b(ne.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"newest",children:"Sort: Newest First"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"}),l.jsx("option",{value:"name",children:"Name: A to Z"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(ne=>l.jsxs("button",{onClick:()=>n(ne),className:`px-4 py-2 rounded-full text-sm font-medium transition-all transform hover:scale-105 ${e===ne?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[ne==="T-Shirts"&&" ",ne==="Phone Covers"&&" ",ne==="Hoodies"&&" ",ne==="Bottles"&&" ",ne==="Plates"&&" ",ne==="All"&&" ",ne]},ne))}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:ne=>c(ne.target.checked),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700 font-medium",children:" Featured Only"})]}),l.jsxs("div",{className:"flex border-2 border-gray-300 rounded-lg",children:[l.jsx("button",{onClick:()=>a("grid"),className:`p-2 transition-all ${s==="grid"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-600"}`,children:l.jsx(wT,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>a("list"),className:`p-2 transition-all ${s==="list"?"bg-blue-600 text-white":"text-gray-400 hover:text-gray-600"}`,children:l.jsx(U9,{className:"w-4 h-4"})})]})]})]})}),V&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Xc,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("span",{className:"text-xl text-gray-600",children:"Loading awesome anime products..."})]})}),!V&&te.length>0&&l.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[l.jsxs("p",{className:"text-gray-600",children:[l.jsx("span",{className:"font-semibold",children:J.length})," of ",l.jsx("span",{className:"font-semibold",children:te.length})," products",e!=="All"&&` in "${e}"`,r&&` matching "${r}"`]}),h.size>0&&l.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-medium animate-pulse",children:[" ",N.reduce((ne,ye)=>ne+ye.quantity,0)," items in cart |  ",k.length," favorites"]})]}),!V&&l.jsx(l.Fragment,{children:J.length>0?l.jsx("div",{className:s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:J.map(ne=>l.jsx(P,{product:ne,isListView:s==="list"},ne.id))}):te.length>0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(hb,{className:"w-16 h-16 mx-auto"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No anime products found"}),l.jsx("p",{className:"text-gray-600",children:"Try different search terms or browse different categories"})]}):l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(dp,{className:"w-16 h-16 mx-auto"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products available"}),l.jsx("p",{className:"text-gray-600",children:"The product catalog is empty. Check if your backend is properly initialized."})]})}),l.jsx("div",{className:"mt-12 bg-blue-50 rounded-xl p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-2 flex items-center justify-center",children:[l.jsx(tv,{className:"w-6 h-6 mr-2"}),"Need Help with Sizing?"]}),l.jsx("p",{className:"text-blue-800 mb-4",children:"We offer detailed size charts for all our clothing items to ensure the perfect fit!"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-700",children:[l.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:" T-Shirts & Tops"}),l.jsx("p",{children:"Available in XS to XXL with detailed chest, length, and shoulder measurements"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[l.jsx("h4",{className:"font-semibold mb-2",children:" Hoodies & Sweatshirts"}),l.jsx("p",{children:"Comfortable fits with size guide for perfect anime-style fashion"})]})]})]})})]}),l.jsx(lC,{isOpen:R,onClose:()=>O(!1),cartItems:N,updateQuantity:se,removeFromCart:ie,onCheckout:ve}),l.jsx(cC,{isOpen:H,onClose:()=>K(!1),favoriteItems:k,removeFromFavorites:W,addToCart:Z}),l.jsx(f5,{isOpen:X,onClose:()=>B(!1),onSuccess:je,defaultMode:"login"}),D&&l.jsx("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:l.jsx(uC,{cartItems:N,onBack:()=>{T(!1),O(!0)},onPaymentSuccess:Ce})})]})}const Ml=window.location.hostname==="localhost"&&window.location.port==="5000"?"":"http://localhost:5000",c7=t=>t&&(t.startsWith("/uploads/")?Ml+t:t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?Ml+t:t),UW=async()=>{const t=await fetch(`${Ml}/api/products`);if(!t.ok)throw new Error("Failed to fetch products");const e=await t.json(),n=e.data||e;return console.log(" Admin: Fetched products:",n),Array.isArray(n)?n:[]},HW=async t=>{console.log(" API: Sending product data to backend:",JSON.stringify(t,null,2)),console.log(" API: Images field being sent:",t.images);const e=await fetch(`${Ml}/api/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(" API: Response status:",e.status),!e.ok){const r=await e.json();throw console.error(" API: Error response:",r),new Error(r.message||"Failed to add product")}const n=await e.json();return console.log(" API: Success response:",JSON.stringify(n,null,2)),n.data||n},VW=async(t,e)=>{const n=await fetch(`${Ml}/api/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const i=await n.json();throw new Error(i.message||"Failed to update product")}const r=await n.json();return r.data||r},GW=async t=>{const e=await fetch(`${Ml}/api/products/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to delete product")}},YW=async t=>(console.log(" Starting upload for:",t.name,"Size:",(t.size/1024).toFixed(2)+"KB"),new Promise((e,n)=>{const r=new FileReader;r.onload=async i=>{var s;try{const a=(s=i.target)==null?void 0:s.result;if(!a)throw new Error("Failed to read file as base64");console.log(" Base64 data generated, length:",a.length);const o={image:a,filename:t.name};console.log(" Sending upload request to:",`${Ml}/api/upload`);const c=await fetch(`${Ml}/api/upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log(" Upload response status:",c.status),!c.ok){const d=await c.text();throw console.error(" Upload failed:",c.status,d),new Error(`Upload failed: ${c.status} - ${d}`)}const u=await c.json();if(console.log(" Upload response:",u),u.success&&u.imageUrl)console.log(" Image uploaded successfully:",u.imageUrl),e(u.imageUrl);else throw console.error(" Upload result missing success or imageUrl:",u),new Error(u.error||u.message||"Upload failed - invalid response format")}catch(a){console.error(" Upload error:",a),n(a instanceof Error?a:new Error(String(a)))}},r.onerror=i=>{console.error(" FileReader error:",i),n(new Error("Failed to read file"))},r.readAsDataURL(t)})),u7=["T-Shirts","Phone Covers","Hoodies","Bottles","Plates"],XW=({images:t,onImagesChange:e,isUploading:n,setIsUploading:r})=>{const i=async a=>{const o=Array.from(a.target.files||[]);if(o.length!==0){console.log(` Starting upload of ${o.length} files:`,o.map(c=>c.name)),r(!0);try{const c=o.map(async(h,p)=>{if(console.log(` Uploading file ${p+1}/${o.length}: ${h.name}`),h.size>5242880)throw new Error(`File ${h.name} is too large. Max size is 5MB.`);if(!h.type.startsWith("image/"))throw new Error(`File ${h.name} is not an image.`);const f=await YW(h);return console.log(` Upload ${p+1} completed:`,f),f}),u=await Promise.all(c);console.log(" All uploads completed:",u);const d=u.filter(h=>h&&h.trim()!=="");d.length!==u.length&&console.warn(" Some uploads returned empty URLs"),e([...t,...d]),console.log(` Successfully uploaded ${d.length} images!`)}catch(c){console.error(" Upload failed:",c),alert(`Failed to upload images: ${c.message}`)}finally{r(!1),a.target.value=""}}},s=a=>{const o=t.filter((c,u)=>u!==a);e(o)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" Product Photos"}),l.jsxs("span",{className:"text-xs text-gray-500",children:[t.length,"/10 photos"]})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:i,className:"hidden",id:"photo-upload",disabled:n||t.length>=10}),l.jsx("label",{htmlFor:"photo-upload",className:`cursor-pointer ${n||t.length>=10?"opacity-50 cursor-not-allowed":""}`,children:n?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Xc,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Uploading photos..."})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(k9,{className:"w-8 h-8 text-gray-400 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload product photos (up to 10)"}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, WebP up to 5MB each"})]})})]}),t.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((a,o)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:c7(a),alt:`Product photo ${o+1}`,className:"w-full h-24 object-cover rounded-lg border"}),l.jsx("button",{onClick:()=>s(o),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(vo,{className:"w-3 h-3"})}),o===0&&l.jsx("div",{className:"absolute bottom-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Main"})]},o))})]})},dC=({product:t,onSubmit:e,onCancel:n,isSubmitting:r})=>{var w;const i=x=>{if(!x)return[];if(typeof x=="string")try{const y=JSON.parse(x);return Array.isArray(y)?y:[]}catch{return[]}return Array.isArray(x)?x:[]},[s,a]=C.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",price:(t==null?void 0:t.price)||"",imageUrl:(t==null?void 0:t.imageUrl)||"",category:(t==null?void 0:t.category)||"T-Shirts",inStock:(t==null?void 0:t.inStock)??!0,featured:(t==null?void 0:t.featured)||!1,tags:(t==null?void 0:t.tags)||"",images:i(t==null?void 0:t.images)}),[o,c]=C.useState({}),[u,d]=C.useState(!1),h=()=>{const x={};s.name.trim()||(x.name="Product name is required"),s.description.trim()||(x.description="Description is required"),s.price.trim()||(x.price="Price is required");const y=s.images&&Array.isArray(s.images)&&s.images.length>0,N=s.imageUrl&&s.imageUrl.trim();return console.log(" Image validation:"),console.log(" hasUploadedImages:",y),console.log(" hasFallbackUrl:",N),console.log(" formData.images:",s.images),console.log(" formData.imageUrl:",s.imageUrl),!y&&!N&&(x.images="At least one product image is required (either upload or provide URL)"),c(x),Object.keys(x).length===0},p=()=>{if(!h()){console.error(" Form validation failed");return}const x=Array.isArray(s.images)?s.images:[];console.log(" SUBMIT - Form Data Check:"),console.log(" Raw formData.images:",s.images),console.log(" Processed imageArray:",x),console.log(" imageArray.length:",x.length),console.log(" formData.imageUrl:",s.imageUrl);const y=x.filter(E=>{const R=E&&typeof E=="string"&&E.trim()!=="";return R||console.warn(" Invalid image URL found:",E),R});if(y.length!==x.length){console.error(" Some image URLs are invalid!"),alert("Some uploaded images have invalid URLs. Please try uploading again.");return}const N=y.length>0?JSON.stringify(y):null;let A=s.imageUrl;!A&&y.length>0&&(A=y[0]);const k={...s,imageUrl:A||"",images:N,tags:s.tags||"[]"};if(console.log(" FINAL SUBMIT DATA:"),console.log(" submitData.imageUrl:",k.imageUrl),console.log(" submitData.images:",k.images),console.log(" submitData.images type:",typeof k.images),N)try{const E=JSON.parse(N);console.log(" Parsed images array:",E)}catch{console.error(" Invalid JSON in images field:",N)}console.log(" Submitting product data..."),e(k)},f=x=>{const{name:y,value:N,type:A}=x.target,k=x.target.checked;a(E=>({...E,[y]:A==="checkbox"?k:N})),o[y]&&c(E=>({...E,[y]:""}))},b=x=>{console.log(" FIXED: Images updated:",x),a(y=>({...y,images:x})),o.images&&c(y=>({...y,images:""}))},g=Array.isArray(s.images)?s.images:[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Naruto Uzumaki Orange T-Shirt"}),o.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ()"}),l.jsx("input",{type:"text",name:"price",value:s.price,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1599"}),o.price&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.price})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{name:"description",value:s.description,onChange:f,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Detailed description of your product..."}),o.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description})]}),l.jsx(XW,{images:g,onImagesChange:b,isUploading:u,setIsUploading:d}),g.length>0&&l.jsxs("div",{className:"text-sm text-green-600",children:[" ",g.length," image",g.length>1?"s":""," uploaded successfully",l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Main image: ",(w=g[0])==null?void 0:w.substring(0,50),"..."]})]}),o.images&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.images}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL (fallback if no photos uploaded)"}),l.jsx("input",{type:"url",name:"imageUrl",value:s.imageUrl,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),l.jsx("select",{name:"category",value:s.category,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u7.map(x=>l.jsx("option",{value:x,children:x},x))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"inStock",checked:s.inStock,onChange:f,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"In Stock"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"featured",checked:s.featured,onChange:f,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Featured Product"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"button",onClick:p,disabled:r||u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsx(Xc,{className:"w-4 h-4 animate-spin"}),t?"Updating...":"Adding..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ow,{className:"w-4 h-4"}),t?"Update Product":"Add Product"]})})]})]})},WW=({onEdit:t,onDelete:e})=>{const[n,r]=C.useState(""),[i,s]=C.useState("All"),{data:a=[],isLoading:o,error:c}=ab({queryKey:["products"],queryFn:UW}),u=a.filter(h=>{const p=h.name.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase()),f=i==="All"||h.category===i;return p&&f}),d=h=>{if(!h)return 0;if(typeof h=="string")try{const p=JSON.parse(h);return Array.isArray(p)?p.length:1}catch{return 0}return Array.isArray(h)?h.length:0};return o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Xc,{className:"w-8 h-8 animate-spin text-blue-600"})}):c?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(dp,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-red-600",children:"Failed to load products"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(hb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search products...",value:n,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"All",children:"All Categories"}),u7.map(h=>l.jsx("option",{value:h,children:h},h))]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total Products"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(h=>h.inStock).length}),l.jsx("div",{className:"text-sm text-green-600",children:"In Stock"})]}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter(h=>h.featured).length}),l.jsx("div",{className:"text-sm text-yellow-600",children:"Featured"})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(h=>!h.inStock).length}),l.jsx("div",{className:"text-sm text-red-600",children:"Out of Stock"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:c7(h.imageUrl),alt:h.name,className:"w-12 h-12 object-cover rounded-lg mr-4",onError:p=>{const f=p.target;f.src="https://via.placeholder.com/48x48?text=No+Image"}}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:[h.description.substring(0,50),"..."]}),h.images&&l.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[" ",d(h.images)," image",d(h.images)!==1?"s":""]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:h.category})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",h.price]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.inStock?"In Stock":"Out of Stock"}),h.featured&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Featured"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(h),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",children:l.jsx(W9,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>e(h.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",children:l.jsx(rx,{className:"w-4 h-4"})})]})})]},h.id))})]})})}),u.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(hp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No products found"})]})]})};function $W(){const[t,e]=C.useState("list"),[n,r]=C.useState(null),[i,s]=C.useState(!1),[a,o]=C.useState(null),c=BA(),u=(b,g)=>{o({type:b,message:g}),setTimeout(()=>o(null),5e3)},d=async b=>{s(!0);try{console.log(" Admin: Starting to add product:",b.name),console.log(" Admin: Product data images field:",b.images),await HW(b),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({queryKey:["categories"]}),await c.invalidateQueries({predicate:g=>Array.isArray(g.queryKey)&&g.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),e("list"),u("success","Product added successfully!"),console.log(" Admin: Product added successfully and cache invalidated")}catch(g){console.error(" Admin: Error adding product:",g),u("error",g.message||"Failed to add product")}finally{s(!1)}},h=async b=>{if(n!=null&&n.id){s(!0);try{await VW(n.id,b),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({predicate:g=>Array.isArray(g.queryKey)&&g.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),e("list"),r(null),u("success","Product updated successfully!")}catch(g){u("error",g.message||"Failed to update product")}finally{s(!1)}}},p=async b=>{if(confirm("Are you sure you want to delete this product?"))try{await GW(b),await c.invalidateQueries({queryKey:["products"]}),await c.invalidateQueries({predicate:g=>Array.isArray(g.queryKey)&&g.queryKey[0]==="products"}),await c.refetchQueries({queryKey:["products"]}),u("success","Product deleted successfully!")}catch(g){u("error",g.message||"Failed to delete product")}},f=b=>{r(b),e("edit")};return l.jsxs("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"4rem"},children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"py-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your anime product store"})]})})}),a&&l.jsx("div",{className:`fixed top-20 right-4 z-50 p-4 rounded-lg shadow-lg ${a.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[a.type==="success"?l.jsx(ta,{className:"w-5 h-5"}):l.jsx(dp,{className:"w-5 h-5"}),a.message]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>e("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" All Products"}),l.jsx("button",{onClick:()=>e("add"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="add"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Add Product"})]})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t==="list"&&l.jsx(WW,{onEdit:f,onDelete:p}),t==="add"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Add New Product"}),l.jsx(dC,{onSubmit:d,onCancel:()=>e("list"),isSubmitting:i})]}),t==="edit"&&n&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Edit Product: ",n.name]}),l.jsx(dC,{product:n,onSubmit:h,onCancel:()=>{e("list"),r(null)},isSubmitting:i})]})]})]})]})}const KW=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!1),[i,s]=C.useState(!0),[a,o]=C.useState(!0),[c,u]=C.useState("");C.useEffect(()=>{const E=setTimeout(()=>{r(!0),d()},2e3);return()=>clearTimeout(E)},[]),C.useEffect(()=>{if(!a)return;const E=setInterval(()=>{d()},3e4);return()=>clearInterval(E)},[a]);const d=()=>{try{const E=JSON.parse(localStorage.getItem("admin_notifications")||"[]");if(E.length===0){const R=h();e(R),localStorage.setItem("admin_notifications",JSON.stringify(R))}else e(E);u(new Date().toLocaleTimeString()),console.log(" Notifications loaded:",E.length)}catch(E){console.error(" Error loading notifications:",E)}},h=()=>{const E=new Date;return[{id:"notif_1",type:"order",title:"New Order Received",message:"Order #12345 for 1599 from John Doe",timestamp:new Date(E.getTime()-5*6e4).toISOString(),read:!1,priority:"high",order:{id:"12345",totalAmount:1599,userName:"John Doe",userEmail:"john@example.com",items:[{productName:"Naruto T-Shirt",quantity:1,size:"L"},{productName:"Anime Hoodie",quantity:1,size:"M"}]}},{id:"notif_2",type:"alert",title:"Low Stock Alert",message:"Naruto T-Shirt (Size L) is running low on stock",timestamp:new Date(E.getTime()-15*6e4).toISOString(),read:!1,priority:"medium"},{id:"notif_3",type:"order",title:"Order Completed",message:"Order #12344 has been successfully processed",timestamp:new Date(E.getTime()-30*6e4).toISOString(),read:!0,priority:"low",order:{id:"12344",totalAmount:799,userName:"Jane Smith",userEmail:"jane@example.com",items:[{productName:"Dragon Ball Phone Cover",quantity:1}]}},{id:"notif_4",type:"system",title:"System Update",message:"Admin dashboard has been updated with new features",timestamp:new Date(E.getTime()-60*6e4).toISOString(),read:!0,priority:"low"}]},p=()=>{if(i){const E=new(window.AudioContext||window.webkitAudioContext),R=E.createOscillator(),O=E.createGain();R.connect(O),O.connect(E.destination),R.frequency.value=800,R.type="sine",O.gain.setValueAtTime(.3,E.currentTime),O.gain.exponentialRampToValueAtTime(.01,E.currentTime+.1),R.start(E.currentTime),R.stop(E.currentTime+.1)}},f=E=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(E.title,{body:E.message,icon:"/admin-icon.png",tag:E.id})},b=async()=>{if("Notification"in window){const E=await Notification.requestPermission();console.log("Notification permission:",E),alert(E==="granted"?"Browser notifications enabled!":"Browser notifications denied. You can enable them in your browser settings.")}else alert("Browser notifications not supported in this browser.")},g=E=>{const R=t.map(O=>O.id===E?{...O,read:!0}:O);e(R),localStorage.setItem("admin_notifications",JSON.stringify(R))},w=E=>{const R=t.filter(O=>O.id!==E);e(R),localStorage.setItem("admin_notifications",JSON.stringify(R))},x=()=>{const E=t.map(R=>({...R,read:!0}));e(E),localStorage.setItem("admin_notifications",JSON.stringify(E))},y=()=>{confirm("Are you sure you want to clear all notifications?")&&(e([]),localStorage.removeItem("admin_notifications"))},N=()=>{const E={id:`test_${Date.now()}`,type:"order",title:"Test Notification",message:`Test notification created at ${new Date().toLocaleTimeString()}`,timestamp:new Date().toISOString(),read:!1,priority:"medium",order:{id:`TEST_${Date.now()}`,totalAmount:1299,userName:"Test Customer",userEmail:"test@example.com",items:[{productName:"Test Product",quantity:1,size:"M"}]}},R=[E,...t];e(R),localStorage.setItem("admin_notifications",JSON.stringify(R)),i&&p(),f(E)},A=t.filter(E=>!E.read).length,k=t.filter(E=>E.priority==="critical"&&!E.read).length;return l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(l0,{className:"w-8 h-8 text-blue-600 mr-3"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Notifications"}),l.jsx("p",{className:"text-gray-600",children:"Real-time order alerts and system notifications"}),A>0&&l.jsxs("p",{className:"text-sm text-orange-600 font-medium",children:[A," unread notification",A!==1?"s":"",k>0&&` (${k} critical)`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm ${n?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${n?"bg-green-500":"bg-red-500"}`}),n?"Connected":"Connecting..."]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>s(!i),className:`px-3 py-1 rounded-full text-sm ${i?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,title:i?"Disable sound":"Enable sound",children:[" ",i?"On":"Off"]}),l.jsxs("button",{onClick:()=>o(!a),className:`px-3 py-1 rounded-full text-sm ${a?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,title:a?"Disable auto-refresh":"Enable auto-refresh",children:[l.jsx(ij,{className:`w-3 h-3 inline mr-1 ${a?"animate-spin":""}`}),"Auto"]})]}),l.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"Enable Browser Notifications"}),l.jsx("button",{onClick:N,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm",children:"Test Notification"}),l.jsxs("button",{onClick:d,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 text-sm",children:[l.jsx(ij,{className:"w-4 h-4 inline mr-1"}),"Refresh"]})]})]}),t.length>0&&l.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Last updated: ",c||"Never"]}),l.jsxs("div",{className:"flex gap-2",children:[A>0&&l.jsx("button",{onClick:x,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded",children:"Mark All Read"}),l.jsx("button",{onClick:y,className:"text-sm bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded",children:"Clear All"})]})]})]}),l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(l0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No notifications yet"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"You'll see order notifications here when they arrive."}),l.jsx("button",{onClick:N,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Create Test Notification"})]}):t.map(E=>{var R;return l.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border-l-4 transition-all ${E.read?"border-gray-300 opacity-75":E.priority==="critical"?"border-red-500 shadow-lg":E.priority==="high"?"border-orange-500":"border-blue-500"}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx("div",{className:`p-3 rounded-full ${E.priority==="critical"?"bg-red-100":E.priority==="high"?"bg-orange-100":E.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:E.type==="order"?l.jsx(hp,{className:`w-6 h-6 ${E.priority==="critical"?"text-red-600":E.priority==="high"?"text-orange-600":E.priority==="medium"?"text-yellow-600":"text-blue-600"}`}):E.type==="system"?l.jsx(J9,{className:`w-6 h-6 ${E.priority==="critical"?"text-red-600":E.priority==="high"?"text-orange-600":E.priority==="medium"?"text-yellow-600":"text-blue-600"}`}):l.jsx(l0,{className:`w-6 h-6 ${E.priority==="critical"?"text-red-600":E.priority==="high"?"text-orange-600":E.priority==="medium"?"text-yellow-600":"text-blue-600"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.title}),E.priority==="critical"&&l.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:" CRITICAL"}),E.priority==="high"&&l.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:" HIGH"}),!E.read&&l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"NEW"})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:E.message}),E.order&&l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Details:"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Kp,{className:"w-4 h-4 mr-2"}),E.order.userName]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(P9,{className:"w-4 h-4 mr-2"}),"",E.order.totalAmount]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(hp,{className:"w-4 h-4 mr-2"}),((R=E.order.items)==null?void 0:R.length)||0," items"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(M9,{className:"w-4 h-4 mr-2"}),new Date(E.timestamp).toLocaleTimeString()]})]}),E.order.items&&l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Items:"}),E.order.items.map((O,H)=>l.jsxs("div",{className:"text-sm text-gray-600",children:[O.productName," ",O.size&&`(${O.size})`,"  ",O.quantity]},H))]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:new Date(E.timestamp).toLocaleString()})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[!E.read&&l.jsx("button",{onClick:()=>g(E.id),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg",title:"Mark as read",children:l.jsx(Cw,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>w(E.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"Dismiss",children:l.jsx(vo,{className:"w-4 h-4"})})]})]}),E.order&&E.type==="order"&&l.jsxs("div",{className:"flex items-center space-x-3 mt-4 pt-4 border-t border-gray-200",children:[l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"View Order"}),l.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm",children:"Process Order"}),l.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm",children:"Contact Customer"})]})]},E.id)})})]})},QW=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(""),i=()=>{console.log(" Admin: Loading purchases from localStorage...");const u=Object.keys(localStorage);console.log(" All localStorage keys:",u);const d=["all_purchases","purchases","user_purchases","purchase_history","completed_purchases","cart_purchases","purchase_data","orders","transactions","payment_history","user_orders"];let h=[];d.forEach(f=>{const b=localStorage.getItem(f);if(b)try{const g=JSON.parse(b);Array.isArray(g)?(console.log(` Found ${g.length} purchases in ${f}`),h=[...h,...g]):g&&typeof g=="object"&&(console.log(` Found single purchase in ${f}`),h.push(g))}catch(g){console.warn(` Could not parse ${f}:`,g)}}),u.forEach(f=>{if(!d.includes(f)){const b=localStorage.getItem(f);if(b)try{const g=JSON.parse(b);if(Array.isArray(g)&&g.length>0){const w=g[0];w&&typeof w=="object"&&(w.totalAmount||w.amount||w.price||w.items||w.products||w.cart)&&(console.log(` Possible purchase data found in key "${f}":`,g),h=[...h,...g])}else g&&typeof g=="object"&&(g.totalAmount||g.amount||g.price||g.items||g.products||g.cart)&&(console.log(` Possible single purchase found in key "${f}":`,g),h.push(g))}catch{}}});const p=h.filter((f,b,g)=>b===g.findIndex(w=>w.id&&w.id===f.id||w.orderId&&w.orderId===f.orderId||b===g.indexOf(f)));console.log(` Admin: Loaded ${p.length} unique purchases`),console.log(" Purchase data:",p),e(p),r(new Date().toLocaleTimeString())};C.useEffect(()=>{i()},[]),C.useEffect(()=>{const u=()=>{console.log(" localStorage changed, reloading purchases..."),i()};window.addEventListener("storage",u);const d=setInterval(i,2e3);return()=>{window.removeEventListener("storage",u),clearInterval(d)}},[]);const s=t.reduce((u,d)=>{const h=d.totalAmount||d.total||d.amount||0;return u+h},0),a=t.filter(u=>u.status==="completed"||u.status==="success"||u.status==="paid").length,o=t.length>0?s/t.length:0,c=t.filter(u=>{const d=new Date(u.createdAt||u.timestamp||Date.now()),h=new Date;return h.setDate(h.getDate()-7),d>=h});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Purchase Analytics"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",n||"Never"]}),l.jsx("button",{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm",children:" Refresh"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-blue-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Total Orders"}),l.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),l.jsx(lo,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-green-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl font-bold",children:["",s.toFixed(2)]})]}),l.jsx(xT,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-purple-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Completed"}),l.jsx("p",{className:"text-3xl font-bold",children:a})]}),l.jsx(hp,{className:"w-8 h-8 opacity-80"})]})}),l.jsx("div",{className:"bg-orange-500 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Avg Order"}),l.jsxs("p",{className:"text-3xl font-bold",children:["",o.toFixed(0)]})]}),l.jsx(Kp,{className:"w-8 h-8 opacity-80"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Recent Activity (Last 7 Days)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Recent Orders"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.length})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Recent Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.reduce((u,d)=>u+(d.totalAmount||0),0).toFixed(2)]})]})]})]}),t.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" Recent Purchases"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,10).map((u,d)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.id||u.orderId||`ORDER_${d+1}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:u.userName||u.userEmail||"Unknown"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",u.totalAmount||u.amount||0]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:u.status||"pending"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:u.createdAt?new Date(u.createdAt).toLocaleDateString():"Unknown"})]},u.id||d))})]})})]}),t.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border",children:[l.jsx(lo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No purchases found!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Purchases will appear here once customers complete their orders."}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Database Notice"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Purchase data will be stored in MongoDB once you set up the backend database connection. For now, this shows any test data from localStorage."})]})]})]})},ZW=({onLogin:t})=>{const[e,n]=C.useState({email:"",password:""}),[r,i]=C.useState(!1),[s,a]=C.useState(!1),[o,c]=C.useState(""),u=async h=>{h.preventDefault(),a(!0),c("");try{await t(e.email,e.password)}catch(p){c(p.message||"Login failed")}finally{a(!1)}},d=(h,p)=>{n({email:h,password:p}),t(h,p)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx($p,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Admin Login"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your admin credentials to continue"})]}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:o}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),l.jsx("input",{type:"email",value:e.email,onChange:h=>n({...e,email:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"admin@tshirtapp.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:r?"text":"password",value:e.password,onChange:h=>n({...e,password:h.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter admin password",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?l.jsx(Qd,{className:"w-4 h-4"}):l.jsx(Pc,{className:"w-4 h-4"})})]})]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:s?"Logging in...":"Login to Admin Dashboard"})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Quick Login (Development Only)"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>d("admin@tshirtapp.com","admin123"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg text-sm font-medium",children:" Login as Admin (admin@tshirtapp.com / admin123)"}),l.jsx("button",{onClick:()=>d("superadmin@tshirtapp.com","super123"),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-lg text-sm font-medium",children:" Login as Super Admin (superadmin@tshirtapp.com / super123)"})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-gray-500 hover:text-gray-700 text-sm",children:" Back to Home"})})]})})},JW=()=>{const{user:t,logout:e}=Bl(),[n,r]=C.useState("notifications");console.log(" AdminPage - Current user:",t),console.log(" AdminPage - User email:",t==null?void 0:t.email);const i=(t==null?void 0:t.email)==="admin@tshirtapp.com"||(t==null?void 0:t.email)==="superadmin@tshirtapp.com"||(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="superadmin";console.log(" AdminPage - Is admin?",i);const s=async(a,o)=>{console.log(" Admin login attempt:",a);const u=[{email:"admin@tshirtapp.com",password:"admin123",role:"admin"},{email:"superadmin@tshirtapp.com",password:"super123",role:"superadmin"}].find(d=>d.email===a&&d.password===o);if(u){const d={id:u.role==="superadmin"?"superadmin_001":"admin_001",email:u.email,firstName:u.role==="superadmin"?"Super":"Admin",lastName:"User",name:u.role==="superadmin"?"Super Admin":"Admin User",role:u.role};localStorage.setItem("current_user",JSON.stringify(d)),console.log(" Admin login successful:",d),window.location.reload()}else throw new Error("Invalid admin credentials")};return t?i?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"py-6 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Admin Dashboard"}),l.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",l.jsx("strong",{children:t.name||t.email})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Role: ",l.jsx("span",{className:"font-medium text-green-600",children:t.role||"Admin"})]}),l.jsxs("button",{onClick:()=>{e(),window.location.href="/"},className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:[l.jsx(H9,{className:"w-4 h-4"}),"Logout"]})]})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>r("notifications"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(l0,{className:"w-4 h-4"})," Notifications"]}),l.jsxs("button",{onClick:()=>r("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(xT,{className:"w-4 h-4"})," Analytics"]}),l.jsxs("button",{onClick:()=>r("products"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${n==="products"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(hp,{className:"w-4 h-4"})," Products"]})]})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="notifications"&&l.jsx(KW,{}),n==="analytics"&&l.jsx(QW,{}),n==="products"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsx($W,{})})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg max-w-md",children:[l.jsx(Kp,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" Access Denied"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["You're logged in as: ",l.jsx("strong",{children:t.email})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:"But you don't have admin permissions."}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>{e(),window.location.reload()},className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium",children:" Logout & Login as Admin"}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg",children:" Back to Home"})]})]})}):l.jsx(ZW,{onLogin:s})};var Px="Dialog",[d7,V$]=Ps(Px),[e$,zs]=d7(Px),h7=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=C.useRef(null),c=C.useRef(null),[u,d]=ao({prop:r,defaultProp:i??!1,onChange:s,caller:Px});return l.jsx(e$,{scope:e,triggerRef:o,contentRef:c,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};h7.displayName=Px;var f7="DialogTrigger",p7=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zs(f7,n),s=Mt(e,i.triggerRef);return l.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FS(i.open),...r,ref:s,onClick:st(t.onClick,i.onOpenToggle)})});p7.displayName=f7;var PS="DialogPortal",[t$,m7]=d7(PS,{forceMount:void 0}),g7=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=zs(PS,e);return l.jsx(t$,{scope:e,forceMount:n,children:C.Children.map(r,a=>l.jsx(Rl,{present:n||s.open,children:l.jsx($v,{asChild:!0,container:i,children:a})}))})};g7.displayName=PS;var Av="DialogOverlay",v7=C.forwardRef((t,e)=>{const n=m7(Av,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zs(Av,t.__scopeDialog);return s.modal?l.jsx(Rl,{present:r||s.open,children:l.jsx(r$,{...i,ref:e})}):null});v7.displayName=Av;var n$=Kd("DialogOverlay.RemoveScroll"),r$=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zs(Av,n);return l.jsx(lS,{as:n$,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(ct.div,{"data-state":FS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qc="DialogContent",x7=C.forwardRef((t,e)=>{const n=m7(qc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zs(qc,t.__scopeDialog);return l.jsx(Rl,{present:r||s.open,children:s.modal?l.jsx(i$,{...i,ref:e}):l.jsx(s$,{...i,ref:e})})});x7.displayName=qc;var i$=C.forwardRef((t,e)=>{const n=zs(qc,t.__scopeDialog),r=C.useRef(null),i=Mt(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return AE(s)},[]),l.jsx(y7,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault())})}),s$=C.forwardRef((t,e)=>{const n=zs(qc,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return l.jsx(y7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),y7=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=zs(qc,n),c=C.useRef(null),u=Mt(e,c);return NE(),l.jsxs(l.Fragment,{children:[l.jsx(oS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Xp,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":FS(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(a$,{titleId:o.titleId}),l.jsx(l$,{contentRef:c,descriptionId:o.descriptionId})]})]})}),RS="DialogTitle",b7=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zs(RS,n);return l.jsx(ct.h2,{id:i.titleId,...r,ref:e})});b7.displayName=RS;var w7="DialogDescription",S7=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zs(w7,n);return l.jsx(ct.p,{id:i.descriptionId,...r,ref:e})});S7.displayName=w7;var j7="DialogClose",N7=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zs(j7,n);return l.jsx(ct.button,{type:"button",...r,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});N7.displayName=j7;function FS(t){return t?"open":"closed"}var C7="DialogTitleWarning",[G$,_7]=AR(C7,{contentName:qc,titleName:RS,docsSlug:"dialog"}),a$=({titleId:t})=>{const e=_7(C7),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},o$="DialogDescriptionWarning",l$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_7(o$).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},c$=h7,u$=p7,d$=g7,A7=v7,T7=x7,k7=b7,E7=S7,h$=N7;const f$=c$,p$=u$,m$=d$,O7=C.forwardRef(({className:t,...e},n)=>l.jsx(A7,{className:_t("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));O7.displayName=A7.displayName;const g$=Zv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),L7=C.forwardRef(({side:t="right",className:e,children:n,...r},i)=>l.jsxs(m$,{children:[l.jsx(O7,{}),l.jsxs(T7,{ref:i,className:_t(g$({side:t}),e),...r,children:[n,l.jsxs(h$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(vo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));L7.displayName=T7.displayName;const v$=C.forwardRef(({className:t,...e},n)=>l.jsx(k7,{ref:n,className:_t("text-lg font-semibold text-foreground",t),...e}));v$.displayName=k7.displayName;const x$=C.forwardRef(({className:t,...e},n)=>l.jsx(E7,{ref:n,className:_t("text-sm text-muted-foreground",t),...e}));x$.displayName=E7.displayName;function y$(){const{user:t}=Bl(),e=(t==null?void 0:t.email)==="admin@tshirtapp.com"||(t==null?void 0:t.role)==="admin",[n,r]=C.useState(!1),[i,s]=C.useState(0),[a,o]=C.useState({x:0,y:0});C.useEffect(()=>{const d=()=>{const p=window.scrollY;s(p)},h=p=>{o({x:p.clientX,y:p.clientY})};return window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("mousemove",h,{passive:!0}),()=>{window.removeEventListener("scroll",d),window.removeEventListener("mousemove",h)}},[]);const c=Math.min(i/200,1),u=8+c*12;return l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        .glass-navbar {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 50;
          backdrop-filter: blur(${u}px);
          background: rgba(15, 23, 42, ${.1+c*.4});
          border-bottom: 1px solid rgba(220, 38, 38, ${.2+c*.3});
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          height: 4rem; /* Fixed height for consistent spacing */
        }

        .glass-navbar::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(
            135deg,
            rgba(220, 38, 38, 0.1) 0%,
            rgba(147, 51, 234, 0.05) 25%,
            rgba(59, 130, 246, 0.05) 50%,
            rgba(16, 185, 129, 0.05) 75%,
            rgba(245, 158, 11, 0.1) 100%
          );
          animation: gradientShift 8s ease-in-out infinite;
        }

        @keyframes gradientShift {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 0.6; }
        }

        .glass-nav-container {
          position: relative;
          z-index: 10;
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 1rem;
        }

        .glass-brand {
          position: relative;
          display: flex;
          align-items: center;
          padding: 0.75rem 1rem;
          text-decoration: none;
          overflow: hidden;
          border-radius: 0.75rem;
          transition: all 0.3s ease;
          margin-right: 33rem;
          margin-left: -1rem;
        }

        .glass-brand:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 32px rgba(220, 38, 38, 0.3);
        }

        .glass-brand::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(241, 245, 249, 0.1));
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .glass-brand:hover::before {
          opacity: 1;
        }

        .animated-text {
          color: #fff;
          font-weight: 800;
          font-size: 1.75rem;
          position: relative;
          z-index: 10;
          text-shadow: 0 0 8px #fff, 0 0 2px #fff;
        }

        @keyframes textGradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        .glass-nav-list {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          list-style: none;
          margin: 0;
          padding: 0;
        }

        .glass-nav-item {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0.75rem 1.5rem;
          border-radius: 1rem;
          text-decoration: none;
          color: white;
          font-weight: 500;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          overflow: hidden;
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-nav-item:hover {
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 10px 40px rgba(220, 38, 38, 0.3);
          background: rgba(255, 255, 255, 0.1);
          border-color: rgba(220, 38, 38, 0.4);
        }

        .admin-nav-item {
          background: rgba(34, 197, 94, 0.1);
          border-color: rgba(34, 197, 94, 0.3);
        }

        .admin-nav-item:hover {
          background: rgba(34, 197, 94, 0.2);
          border-color: rgba(34, 197, 94, 0.5);
          box-shadow: 0 10px 40px rgba(34, 197, 94, 0.3);
        }

        .glass-nav-bg {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(45deg, rgba(220, 38, 38, 0.2), rgba(147, 51, 234, 0.2));
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .admin-nav-bg {
          background: linear-gradient(45deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.2));
        }

        .glass-nav-item:hover .glass-nav-bg {
          opacity: 1;
        }

        .glass-nav-content {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .nav-icon {
          transition: all 0.3s ease;
        }

        .nav-title {
          font-size: 0.875rem;
          font-weight: 600;
          letter-spacing: 0.025em;
        }

        .glass-dropdown {
          backdrop-filter: blur(20px);
          background: rgba(15, 23, 42, 0.9);
          border: 1px solid rgba(220, 38, 38, 0.3);
          border-radius: 0.75rem;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .glass-dropdown-item {
          color: white;
          transition: all 0.2s ease;
          padding: 0.75rem 1rem;
          border-radius: 0.5rem;
          margin: 0.125rem;
        }

        .glass-dropdown-item:hover {
          background: rgba(220, 38, 38, 0.2);
          transform: translateX(4px);
        }

        .mobile-menu-trigger {
          backdrop-filter: blur(10px);
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 0.75rem;
          transition: all 0.3s ease;
        }

        .mobile-menu-trigger:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: scale(1.05);
        }

        .floating-orb {
          position: absolute;
          width: 200px;
          height: 200px;
          border-radius: 50%;
          background: linear-gradient(45deg, rgba(220, 38, 38, 0.1), rgba(147, 51, 234, 0.1));
          filter: blur(40px);
          animation: float 6s ease-in-out infinite;
          pointer-events: none;
        }

        .floating-orb:nth-child(1) {
          top: -100px;
          left: 10%;
          animation-delay: 0s;
        }

        .floating-orb:nth-child(2) {
          top: -100px;
          right: 10%;
          animation-delay: -2s;
        }

        .floating-orb:nth-child(3) {
          top: -100px;
          left: 50%;
          animation-delay: -4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-20px) rotate(120deg); }
          66% { transform: translateY(-10px) rotate(240deg); }
        }

        .nav-container-flex {
          display: flex;
          justify-content: space-between;
          align-items: center;
          height: 4rem;
        }

        .nav-menu-section {
          display: flex;
          align-items: center;
          margin-left: auto;
          margin-right: 4rem;
        }

        @media (max-width: 768px) {
          .glass-nav-list {
            display: none;
          }
          
          .nav-menu-section {
            margin-right: 0;
          }
          
          .glass-nav-container {
            padding: 0 -1rem;
          }
          
          .glass-brand {
            margin-right: 1rem;
          }
          
          .animated-text {
            font-size: 1.5rem;
          }
        }
      `}),l.jsxs("nav",{className:"glass-navbar",children:[l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"floating-orb"}),l.jsx("div",{className:"glass-nav-container",children:l.jsxs("div",{className:"nav-container-flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",style:{marginLeft:"-1rem"},children:l.jsxs(Ir,{href:"/",className:"glass-brand",children:[l.jsx("span",{className:"animated-text",children:"ANIME"}),l.jsx("span",{className:"animated-text ml-2",children:"INDIA"}),l.jsx("span",{className:"animated-text ml-2",children:"POD"})]})}),l.jsx("div",{className:"nav-menu-section",children:l.jsxs("ul",{className:"glass-nav-list",children:[l.jsx("li",{children:l.jsxs(Ir,{href:"/",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(ST,{size:18})}),l.jsx("span",{className:"nav-title",children:"Home"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(Ir,{href:"/products",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(Lw,{size:18})}),l.jsx("span",{className:"nav-title",children:"Products"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(Ir,{href:"/customize",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(X9,{size:18})}),l.jsx("span",{className:"nav-title",children:"Customize"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),l.jsx("li",{children:l.jsxs(Ir,{href:"/contact",className:"glass-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx(Wc,{size:18})}),l.jsx("span",{className:"nav-title",children:"Contact"})]}),l.jsx("div",{className:"glass-nav-bg"})]})}),e&&l.jsx("li",{children:l.jsxs(Ir,{href:"/admin",className:"glass-nav-item admin-nav-item group",children:[l.jsxs("div",{className:"glass-nav-content",children:[l.jsx("span",{className:"nav-icon group-hover:scale-110 transition-transform duration-300",children:l.jsx($p,{size:18})}),l.jsx("span",{className:"nav-title",children:"Admin"})]}),l.jsx("div",{className:"glass-nav-bg admin-nav-bg"})]})})]})}),l.jsxs(f$,{children:[l.jsx(p$,{asChild:!0,className:"md:hidden",children:l.jsxs(Wt,{variant:"ghost",size:"icon",className:"mobile-menu-trigger",children:[l.jsx(V9,{className:"h-6 w-6 text-white"}),l.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),l.jsx(L7,{side:"right",className:"w-[240px] sm:w-[300px] bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl text-white border-red-800/30",children:l.jsxs("div",{className:"py-4 flex flex-col space-y-4",children:[l.jsx(Ir,{href:"/",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:" Home"}),l.jsx(Ir,{href:"/products",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:" Products"}),l.jsx(Ir,{href:"/customize",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:" Customize"}),l.jsx(Ir,{href:"/contact",className:"px-4 py-2 text-lg font-medium hover:bg-red-800/20 rounded-lg transition-colors",children:" Contact"}),e&&l.jsx(Ir,{href:"/admin",className:"px-4 py-2 text-lg font-medium hover:bg-green-800/20 rounded-lg transition-colors border border-green-500/30",children:" Admin Dashboard"})]})})]})]})})]})]})}function b$(){const t=new Date().getFullYear(),[e,n]=C.useState(!1);return C.useEffect(()=>{n(!0)},[]),l.jsxs("footer",{className:"bg-gradient-to-b from-gray-900 to-black text-white pt-16 pb-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1607604276583-eef5d076aa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080&q=80')] bg-fixed bg-center bg-no-repeat opacity-[0.03]"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-red-600/5 rounded-full blur-3xl animate-pulse-slow"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-600/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-700 via-red-600 to-red-700 opacity-30"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-8 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsxs(Ir,{href:"/",className:"group inline-flex items-center pb-2",children:[l.jsx("span",{className:"font-bold text-3xl animated-text",children:"ANIME"}),l.jsx("span",{className:"ml-2 font-bold text-3xl animated-text",children:"INDIA"}),l.jsx("span",{className:"ml-2 font-bold text-3xl animated-text",children:"POD"})]}),l.jsxs("div",{className:"mt-6 bg-white/5 backdrop-blur-sm p-4 rounded-lg border border-white/10",children:[l.jsx("p",{className:"text-gray-300",children:"Express your anime passion with our premium custom merchandise."}),l.jsxs("div",{className:"mt-4 flex space-x-5",children:[l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(z9,{size:20})})}),l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(uF,{size:20})})}),l.jsx("a",{href:"#",className:"text-white/70 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1",children:l.jsx("div",{className:"bg-white/10 hover:bg-white/20 p-2 rounded-full",children:l.jsx(nF,{size:20})})})]})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Products",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs("a",{href:"#regular",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Regular T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#oversized",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Oversized T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#polo",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Polo T-Shirts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#phone-covers",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Phone Covers"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#plates",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Plates"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#bottles",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Bottles"]})})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Resources",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs(Ir,{href:"/customize",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Customization Guide"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Anime Design Tips"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Size Charts"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Design Gallery"]})}),l.jsx("li",{children:l.jsxs(Ir,{href:"/contact",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Contact"]})})]})]}),l.jsxs("div",{className:"mt-4 md:mt-0",children:[l.jsxs("h3",{className:"text-lg font-bold mb-5 text-white relative inline-block",children:["Customer Support",l.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-0.5 bg-red-500"})]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"FAQs"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Shipping Information"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Returns & Exchanges"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Order Tracking"]})}),l.jsx("li",{children:l.jsxs("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors flex items-center group",children:[l.jsx("span",{className:"opacity-0 group-hover:opacity-100 mr-2 transition-opacity",children:l.jsx(Dn,{className:"h-3 w-3"})}),"Bulk Orders"]})})]})]})]}),l.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800/70 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-8 w-8 mr-3",children:l.jsxs("svg",{viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[l.jsx("path",{d:"M18 36C27.9411 36 36 27.9411 36 18C36 8.05887 27.9411 0 18 0C8.05887 0 0 8.05887 0 18C0 27.9411 8.05887 36 18 36Z",fill:"#1A1A1A"}),l.jsx("path",{d:"M28.5 18C28.5 23.799 23.799 28.5 18 28.5C12.201 28.5 7.5 23.799 7.5 18C7.5 12.201 12.201 7.5 18 7.5C23.799 7.5 28.5 12.201 28.5 18Z",stroke:"#EF4444",strokeWidth:"1.5"}),l.jsx("path",{d:"M24 18C24 21.3137 21.3137 24 18 24C14.6863 24 12 21.3137 12 18C12 14.6863 14.6863 12 18 12C21.3137 12 24 14.6863 24 18Z",fill:"#EF4444"})]})}),l.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",t," ",l.jsx("span",{className:"text-red-500 font-semibold",children:"ANIME"}),l.jsx("span",{className:"text-gray-300",children:"INDIA"}),". All rights reserved."]})]}),l.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-6 text-sm",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-gray-700",children:""}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-gray-700",children:""}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-red-400 transition-colors",children:"Cookies Policy"})]})]})]})]})}const Uo={neko:{type:"neko",name:"Neko-chan",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Neko&backgroundColor=ffadad",expressions:{idle:"",happy:"",excited:"",sad:"",confused:""},animations:{entrance:"animate-bounce-in",idle:"animate-floating",talking:"animate-bounce-subtle",exit:"animate-slide-out"},greetings:["Nyaa~ Welcome to Anime India! I'm Neko-chan, your guide!","Konnichiwa! Need help finding the purr-fect anime merch?","Nyaa~ Looking for something special? I can help you!"],responses:{products:["We have the cutest anime t-shirts, nyaa~!","Check out our limited edition phone cases, they're paw-some!","Our anime water bottles are perfect for staying hydrated while watching your favorite shows!"],help:["Need help? Just ask me anything, nyaa~!","I can help you find the perfect anime merchandise, just tell me what you're looking for!","Not sure what to get? Try our customization tool to create your own design!"],customize:["You can create your own unique design in our customization page, nyaa~!","Want something unique? Try uploading your own artwork to our customizer!","Our customization tool lets you place designs exactly where you want them!"],random:["Did you know? One Piece has been running for over 20 years!","My favorite anime is... well, I love them all, nyaa~!","The most popular anime character in our store is currently Naruto!","Don't forget to check our weekly specials!"]}},samurai:{type:"samurai",name:"Kenshin",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Samurai&backgroundColor=c1deff",expressions:{idle:"",happy:"",excited:"",sad:"",confused:""},animations:{entrance:"animate-slide-in-right",idle:"animate-pulse-slow",talking:"animate-subtle-shake",exit:"animate-fade-out"},greetings:["Greetings, honorable customer. I am Kenshin, your merchandise guide.","Welcome to our dojo of anime merchandise. How may I assist you today?","A warrior seeks the perfect merchandise. May I help you on your quest?"],responses:{products:["Our samurai-inspired t-shirts are crafted with honor and quality.","The way of the warrior is represented in our exclusive anime collection.","Our battle-ready merchandise awaits your selection."],help:["A true warrior knows when to seek guidance. How may I assist you?","I am here to guide you through our collection with wisdom and expertise.","Ask, and you shall receive the knowledge you seek about our products."],customize:["Create a design that reflects your warrior spirit in our customization dojo.","The path to unique merchandise begins with our customization tools.","Express your true nature by designing your own battle gear."],random:["Did you know? The samurai code of bushido has seven virtues.","The most powerful weapon is not the sword, but knowledge of good merchandise.","Many anime series are inspired by Japan's rich samurai history.","A true warrior chooses quality over quantity. Our products offer both."]}},magical:{type:"magical",name:"Magi-chan",avatar:"https://api.dicebear.com/7.x/adventurer/svg?seed=Magical&backgroundColor=d4ffea",expressions:{idle:"",happy:"",excited:"",sad:"",confused:""},animations:{entrance:"animate-sparkle-in",idle:"animate-glow-pulse",talking:"animate-magic-bounce",exit:"animate-poof-out"},greetings:[" Magical greetings! I'm Magi-chan, your enchanted shopping assistant! ","By the power of anime, I appear! How can I make your shopping magical today?"," Bibbidi-bobbidi-boo! Your magical guide has appeared! What's your wish? "],responses:{products:["Our magical collection will transport you to your favorite anime worlds!"," These enchanted designs are limited edition - they might disappear in a poof! ","Each product is crafted with a sprinkle of magical quality and anime love!"],help:["My crystal ball can help you find exactly what you're looking for!"," Ask and you shall receive magical guidance through our collections! ","I've been trained in the ancient arts of customer assistance magic!"],customize:[" Our customization spell allows you to create truly magical merchandise! ","Wave your creative wand in our customization workshop!","Transform ordinary products into magical treasures with your own designs!"],random:[" Fun spell: The most magical anime series often involve transformation sequences!","Did you know? Our magical items are most powerful when worn during anime marathons!","The magic of anime brings people together across the world!"," Magical tip: Our weekly enchantments (sales) appear every Friday! "]}}};function w$({defaultMascot:t="neko",position:e="bottom-right",autoGreet:n=!0,minimizeByDefault:r=!1}){const[i,s]=C.useState(Uo[t]),[a,o]=C.useState(r),[c,u]=C.useState(!1),[d,h]=C.useState("idle"),[p,f]=C.useState(""),[b,g]=C.useState(!0),[w,x]=C.useState(i.animations.entrance),y=C.useRef(null),{toast:N}=UA(),A={"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"};C.useEffect(()=>{if(n&&!a){const H=i.greetings[Math.floor(Math.random()*i.greetings.length)];k(H,"happy")}return()=>{y.current&&window.clearTimeout(y.current)}},[i,n,a]);const k=(H,K="idle")=>{h(K),f(H),x(i.animations.talking),y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(()=>{f(""),h("idle"),x(i.animations.idle)},5e3)},E=H=>{u(!1),x(i.animations.exit),setTimeout(()=>{s(Uo[H]),x(Uo[H].animations.entrance),k(`Hello! I'm ${Uo[H].name}!`,"happy")},300)},R=()=>{const H=["products","help","customize","random"],K=H[Math.floor(Math.random()*H.length)],D=i.responses[K],T=D[Math.floor(Math.random()*D.length)];k(T,"excited")},O=()=>{g(!b),N({title:b?"Sound effects enabled":"Sound effects disabled",description:b?"You can now hear mascot interactions":"Mascot will be silent"})};return l.jsx("div",{className:`fixed ${A[e]} z-50 transition-all duration-300 ease-in-out`,children:a?l.jsx("div",{className:"cursor-pointer bg-white rounded-full p-2 shadow-lg hover:shadow-xl transition-all hover:scale-110",onClick:()=>o(!1),children:l.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center overflow-hidden border-2 border-red-500",children:l.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover animate-pulse-slow"})})}):l.jsx("div",{className:"mascot-container",children:l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-red-100 overflow-hidden w-72",children:[l.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-2 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-white font-medium",children:i.name}),l.jsx("button",{onClick:()=>u(!c),className:"ml-2 text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"m16 10-4-4-4 4"}),l.jsx("path",{d:"m16 14-4 4-4-4"})]})})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:O,className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1.5",children:b?l.jsx(lF,{className:"w-3.5 h-3.5"}):l.jsx(oF,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>o(!0),className:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-full p-1.5",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5",children:l.jsx("path",{d:"M18 12H6"})})})]})]}),c&&l.jsxs("div",{className:"bg-white border-b border-gray-200 p-2 animate-fade-in",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Choose your companion:"}),l.jsx("div",{className:"flex space-x-2",children:Object.keys(Uo).map(H=>l.jsx("button",{onClick:()=>E(H),className:`flex-1 p-1.5 rounded-lg border transition-all ${i.type===H?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300 hover:bg-red-50"}`,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:l.jsx("img",{src:Uo[H].avatar,alt:Uo[H].name,className:"w-full h-full object-cover"})}),l.jsx("span",{className:"text-xs mt-1",children:Uo[H].name})]})},H))})]}),l.jsxs("div",{className:"p-3 flex",children:[l.jsx("div",{className:"mr-3 flex-shrink-0",children:l.jsxs("div",{className:`relative w-16 h-16 rounded-full overflow-hidden border-2 border-red-200 ${w}`,children:[l.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full w-6 h-6 flex items-center justify-center border border-red-200",children:l.jsx("span",{children:i.expressions[d]})})]})}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("div",{className:`bg-gray-100 p-2 rounded-lg min-h-[50px] flex items-center message-bubble ${p?"animate-pop-in":""}`,children:l.jsx("p",{className:"text-sm text-gray-800",children:p||"How can I help you today?"})}),l.jsx("div",{className:"absolute left-[-6px] top-3 w-3 h-3 bg-gray-100 transform rotate-45"})]})]}),l.jsxs("div",{className:"p-3 pt-0 grid grid-cols-2 gap-2",children:[l.jsx(Wt,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{k(i.responses.products[Math.floor(Math.random()*i.responses.products.length)],"happy")},children:"Show Products"}),l.jsx(Wt,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{k(i.responses.customize[Math.floor(Math.random()*i.responses.customize.length)],"excited")},children:"Customize Help"}),l.jsx(Wt,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:R,children:"Random Tip"}),l.jsx(Wt,{variant:"outline",size:"sm",className:"text-xs border-red-200 hover:bg-red-50 hover:text-red-600",onClick:()=>{k(i.responses.help[Math.floor(Math.random()*i.responses.help.length)],"happy")},children:"Need Help"})]})]})})})}window.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img:not([loading])").forEach(e=>{e.setAttribute("loading","lazy"),e.setAttribute("decoding","async")})});function S$(){return l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsx(y$,{}),l.jsx("div",{className:"flex-grow",children:l.jsxs(qP,{children:[l.jsx(ec,{path:"/",component:Sq}),l.jsx(ec,{path:"/products",component:qW}),l.jsx(ec,{path:"/contact",component:Nq}),l.jsx(ec,{path:"/customize",component:xH}),l.jsx(ec,{path:"/tshirt-designer",component:PW}),l.jsx(ec,{path:"/admin",component:JW})," ",l.jsx(ec,{component:zz})]})}),l.jsx(b$,{}),l.jsx(w$,{defaultMascot:"neko",position:"bottom-right",autoGreet:!0})]})}function j$(){return l.jsx(cR,{client:wR,children:l.jsxs(Mz,{children:[l.jsx(WF,{}),l.jsx(AW,{children:l.jsx(CW,{children:l.jsx(S$,{})})})]})})}let Qy=null;const Tv="scroll-active";function hC(){document.body.classList.add(Tv),Qy!==null&&window.clearTimeout(Qy),Qy=window.setTimeout(()=>{document.body.classList.remove(Tv)},150)}function N$(){window.addEventListener("scroll",hC,{passive:!0}),window.addEventListener("scrollend",()=>{document.body.classList.remove(Tv)},{passive:!0});const t=new IntersectionObserver(e=>{e.forEach(n=>{if(n.isIntersecting){const r=n.target;r.style.visibility="visible",t.unobserve(r)}})},{rootMargin:"200px"});return document.querySelectorAll(".lazy-section").forEach(e=>{t.observe(e)}),document.querySelectorAll(".embla").forEach(e=>{e.classList.add("carousel-component")}),()=>{window.removeEventListener("scroll",hC),window.removeEventListener("scrollend",()=>{document.body.classList.remove(Tv)})}}window.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("img:not([loading])").forEach(e=>{e.setAttribute("loading","lazy"),e.setAttribute("decoding","async")})});const C$=hP.createRoot(document.getElementById("root"));C$.render(l.jsx(j$,{}));window.addEventListener("DOMContentLoaded",()=>{N$(),document.querySelectorAll("section:not(:first-child)").forEach(t=>{t.classList.add("lazy-section")})});export{Qt as _,tf as c,sh as g};
